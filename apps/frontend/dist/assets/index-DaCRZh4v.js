var V1=Object.defineProperty;var $h=e=>{throw TypeError(e)};var W1=(e,t,n)=>t in e?V1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var g=(e,t,n)=>W1(e,typeof t!="symbol"?t+"":t,n),Uu=(e,t,n)=>t.has(e)||$h("Cannot "+n);var d=(e,t,n)=>(Uu(e,t,"read from private field"),n?n.call(e):t.get(e)),L=(e,t,n)=>t.has(e)?$h("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),E=(e,t,n,r)=>(Uu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),O=(e,t,n)=>(Uu(e,t,"access private method"),n);var Ms=(e,t,n,r)=>({set _(s){E(e,t,s,n)},get _(){return d(e,t,r)}});function H1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kv={exports:{}},lu={},Gv={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),K1=Symbol.for("react.portal"),G1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),Y1=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),tC=Symbol.for("react.suspense"),nC=Symbol.for("react.memo"),rC=Symbol.for("react.lazy"),Dh=Symbol.iterator;function sC(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var Jv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yv=Object.assign,Xv={};function Mi(e,t,n){this.props=e,this.context=t,this.refs=Xv,this.updater=n||Jv}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zv(){}Zv.prototype=Mi.prototype;function lf(e,t,n){this.props=e,this.context=t,this.refs=Xv,this.updater=n||Jv}var af=lf.prototype=new Zv;af.constructor=lf;Yv(af,Mi.prototype);af.isPureReactComponent=!0;var Bh=Array.isArray,ew=Object.prototype.hasOwnProperty,uf={current:null},tw={key:!0,ref:!0,__self:!0,__source:!0};function nw(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ew.call(t,r)&&!tw.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:pl,type:e,key:i,ref:o,props:s,_owner:uf.current}}function iC(e,t){return{$$typeof:pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cf(e){return typeof e=="object"&&e!==null&&e.$$typeof===pl}function oC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zh=/\/+/g;function Fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oC(""+e.key):t.toString(36)}function Kl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pl:case K1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Fu(o,0):r,Bh(s)?(n="",e!=null&&(n=e.replace(zh,"$&/")+"/"),Kl(s,t,n,"",function(u){return u})):s!=null&&(cf(s)&&(s=iC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Bh(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Fu(i,l);o+=Kl(i,t,n,a,s)}else if(a=sC(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Fu(i,l++),o+=Kl(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(e,t,n){if(e==null)return e;var r=[],s=0;return Kl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Gl={transition:null},aC={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:uf};function rw(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:kl,forEach:function(e,t,n){kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!cf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Mi;Z.Fragment=G1;Z.Profiler=Y1;Z.PureComponent=lf;Z.StrictMode=J1;Z.Suspense=tC;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC;Z.act=rw;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yv({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=uf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ew.call(t,a)&&!tw.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:pl,type:e.type,key:s,ref:i,props:r,_owner:o}};Z.createContext=function(e){return e={$$typeof:Z1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X1,_context:e},e.Consumer=e};Z.createElement=nw;Z.createFactory=function(e){var t=nw.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:eC,render:e}};Z.isValidElement=cf;Z.lazy=function(e){return{$$typeof:rC,_payload:{_status:-1,_result:e},_init:lC}};Z.memo=function(e,t){return{$$typeof:nC,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Gl.transition;Gl.transition={};try{e()}finally{Gl.transition=t}};Z.unstable_act=rw;Z.useCallback=function(e,t){return pt.current.useCallback(e,t)};Z.useContext=function(e){return pt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return pt.current.useEffect(e,t)};Z.useId=function(){return pt.current.useId()};Z.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return pt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};Z.useRef=function(e){return pt.current.useRef(e)};Z.useState=function(e){return pt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return pt.current.useTransition()};Z.version="18.3.1";Gv.exports=Z;var w=Gv.exports;const we=Hv(w),df=H1({__proto__:null,default:we},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC=w,cC=Symbol.for("react.element"),dC=Symbol.for("react.fragment"),fC=Object.prototype.hasOwnProperty,hC=uC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pC={key:!0,ref:!0,__self:!0,__source:!0};function sw(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fC.call(t,r)&&!pC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:cC,type:e,key:i,ref:o,props:s,_owner:hC.current}}lu.Fragment=dC;lu.jsx=sw;lu.jsxs=sw;Kv.exports=lu;var v=Kv.exports,iw={exports:{}},Bt={},ow={exports:{}},lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,K){var Y=j.length;j.push(K);e:for(;0<Y;){var me=Y-1>>>1,Ce=j[me];if(0<s(Ce,K))j[me]=K,j[Y]=Ce,Y=me;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],Y=j.pop();if(Y!==K){j[0]=Y;e:for(var me=0,Ce=j.length,Te=Ce>>>1;me<Te;){var Ne=2*(me+1)-1,dr=j[Ne],xn=Ne+1,ge=j[xn];if(0>s(dr,Y))xn<Ce&&0>s(ge,dr)?(j[me]=ge,j[xn]=Y,me=xn):(j[me]=dr,j[Ne]=Y,me=Ne);else if(xn<Ce&&0>s(ge,Y))j[me]=ge,j[xn]=Y,me=xn;else break e}}return K}function s(j,K){var Y=j.sortIndex-K.sortIndex;return Y!==0?Y:j.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,p=null,m=3,x=!1,b=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=j)r(u),K.sortIndex=K.expirationTime,t(a,K);else break;K=n(u)}}function S(j){if(C=!1,y(j),!b)if(n(a)!==null)b=!0,oe(T);else{var K=n(u);K!==null&&W(S,K.startTime-j)}}function T(j,K){b=!1,C&&(C=!1,f(I),I=-1),x=!0;var Y=m;try{for(y(K),p=n(a);p!==null&&(!(p.expirationTime>K)||j&&!A());){var me=p.callback;if(typeof me=="function"){p.callback=null,m=p.priorityLevel;var Ce=me(p.expirationTime<=K);K=e.unstable_now(),typeof Ce=="function"?p.callback=Ce:p===n(a)&&r(a),y(K)}else r(a);p=n(a)}if(p!==null)var Te=!0;else{var Ne=n(u);Ne!==null&&W(S,Ne.startTime-K),Te=!1}return Te}finally{p=null,m=Y,x=!1}}var P=!1,N=null,I=-1,z=5,k=-1;function A(){return!(e.unstable_now()-k<z)}function $(){if(N!==null){var j=e.unstable_now();k=j;var K=!0;try{K=N(!0,j)}finally{K?B():(P=!1,N=null)}}else P=!1}var B;if(typeof h=="function")B=function(){h($)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=$,B=function(){ee.postMessage(null)}}else B=function(){R($,0)};function oe(j){N=j,P||(P=!0,B())}function W(j,K){I=R(function(){j(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,oe(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Y=m;m=K;try{return j()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=m;m=j;try{return K()}finally{m=Y}},e.unstable_scheduleCallback=function(j,K,Y){var me=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,j){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Y+Ce,j={id:c++,callback:K,priorityLevel:j,startTime:Y,expirationTime:Ce,sortIndex:-1},Y>me?(j.sortIndex=Y,t(u,j),n(a)===null&&j===n(u)&&(C?(f(I),I=-1):C=!0,W(S,Y-me))):(j.sortIndex=Ce,t(a,j),b||x||(b=!0,oe(T))),j},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(j){var K=m;return function(){var Y=m;m=K;try{return j.apply(this,arguments)}finally{m=Y}}}})(lw);ow.exports=lw;var mC=ow.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=w,$t=mC;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aw=new Set,Ro={};function Ls(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(Ro[e]=t,e=0;e<t.length;e++)aw.add(t[e])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,gC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uh={},Fh={};function vC(e){return _c.call(Fh,e)?!0:_c.call(Uh,e)?!1:gC.test(e)?Fh[e]=!0:(Uh[e]=!0,!1)}function wC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SC(e,t,n,r){if(t===null||typeof t>"u"||wC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ff=/[\-:]([a-z])/g;function hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ff,hf);Ze[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ff,hf);Ze[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ff,hf);Ze[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pf(e,t,n,r){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SC(t,n,s,r)&&(n=null),r||s===null?vC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cr=yC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),mf=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),yf=Symbol.for("react.forward_ref"),Nc=Symbol.for("react.suspense"),Ic=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),dw=Symbol.for("react.offscreen"),Qh=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=Qh&&e[Qh]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Qu;function no(e){if(Qu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qu=t&&t[1]||""}return`
`+Qu+e}var Vu=!1;function Wu(e,t){if(!e||Vu)return"";Vu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Vu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?no(e):""}function xC(e){switch(e.tag){case 5:return no(e.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return e=Wu(e.type,!1),e;case 11:return e=Wu(e.type.render,!1),e;case 1:return e=Wu(e.type,!0),e;default:return""}}function Ec(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fs:return"Fragment";case Us:return"Portal";case kc:return"Profiler";case mf:return"StrictMode";case Nc:return"Suspense";case Ic:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cw:return(e.displayName||"Context")+".Consumer";case uw:return(e._context.displayName||"Context")+".Provider";case yf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gf:return t=e.displayName||null,t!==null?t:Ec(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return Ec(e(t))}catch{}}return null}function bC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ec(t);case 8:return t===mf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CC(e){var t=fw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){e._valueTracker||(e._valueTracker=CC(e))}function hw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rc(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pw(e,t){t=t.checked,t!=null&&pf(e,"checked",t,!1)}function Tc(e,t){pw(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jc(e,t.type,n):t.hasOwnProperty("defaultValue")&&jc(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jc(e,t,n){(t!=="number"||pa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ro=Array.isArray;function ri(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Pc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ro(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function mw(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ac(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,gw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function To(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_C=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(e){_C.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),go[t]=go[e]})});function vw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||go.hasOwnProperty(e)&&go[e]?(""+t).trim():t+"px"}function ww(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var kC=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lc(e,t){if(t){if(kC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Oc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mc=null,si=null,ii=null;function Gh(e){if(e=gl(e)){if(typeof Mc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=fu(t),Mc(e.stateNode,e.type,t))}}function Sw(e){si?ii?ii.push(e):ii=[e]:si=e}function xw(){if(si){var e=si,t=ii;if(ii=si=null,Gh(e),t)for(e=0;e<t.length;e++)Gh(t[e])}}function bw(e,t){return e(t)}function Cw(){}var Hu=!1;function _w(e,t,n){if(Hu)return e(t,n);Hu=!0;try{return bw(e,t,n)}finally{Hu=!1,(si!==null||ii!==null)&&(Cw(),xw())}}function jo(e,t){var n=e.stateNode;if(n===null)return null;var r=fu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var $c=!1;if(rr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){$c=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{$c=!1}function NC(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var vo=!1,ma=null,ya=!1,Dc=null,IC={onError:function(e){vo=!0,ma=e}};function EC(e,t,n,r,s,i,o,l,a){vo=!1,ma=null,NC.apply(IC,arguments)}function RC(e,t,n,r,s,i,o,l,a){if(EC.apply(this,arguments),vo){if(vo){var u=ma;vo=!1,ma=null}else throw Error(D(198));ya||(ya=!0,Dc=u)}}function Os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(Os(e)!==e)throw Error(D(188))}function TC(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Jh(s),e;if(i===r)return Jh(s),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Nw(e){return e=TC(e),e!==null?Iw(e):null}function Iw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Iw(e);if(t!==null)return t;e=e.sibling}return null}var Ew=$t.unstable_scheduleCallback,Yh=$t.unstable_cancelCallback,jC=$t.unstable_shouldYield,PC=$t.unstable_requestPaint,Ie=$t.unstable_now,AC=$t.unstable_getCurrentPriorityLevel,wf=$t.unstable_ImmediatePriority,Rw=$t.unstable_UserBlockingPriority,ga=$t.unstable_NormalPriority,LC=$t.unstable_LowPriority,Tw=$t.unstable_IdlePriority,au=null,An=null;function OC(e){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(au,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:$C,qC=Math.log,MC=Math.LN2;function $C(e){return e>>>=0,e===0?32:31-(qC(e)/MC|0)|0}var Rl=64,Tl=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function va(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=so(l):(i&=o,i!==0&&(r=so(i)))}else o=n&~s,o!==0?r=so(o):i!==0&&(r=so(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hn(t),s=1<<n,r|=e[n],t&=~s;return r}function DC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-hn(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=DC(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Bc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jw(){var e=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),e}function Ku(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ml(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hn(t),e[t]=n}function zC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-hn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Sf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ue=0;function Pw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Aw,xf,Lw,Ow,qw,zc=!1,jl=[],Pr=null,Ar=null,Lr=null,Po=new Map,Ao=new Map,vr=[],UC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xh(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Gi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=gl(t),t!==null&&xf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FC(e,t,n,r,s){switch(t){case"focusin":return Pr=Gi(Pr,e,t,n,r,s),!0;case"dragenter":return Ar=Gi(Ar,e,t,n,r,s),!0;case"mouseover":return Lr=Gi(Lr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Po.set(i,Gi(Po.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ao.set(i,Gi(Ao.get(i)||null,e,t,n,r,s)),!0}return!1}function Mw(e){var t=rs(e.target);if(t!==null){var n=Os(t);if(n!==null){if(t=n.tag,t===13){if(t=kw(n),t!==null){e.blockedOn=t,qw(e.priority,function(){Lw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qc=r,n.target.dispatchEvent(r),qc=null}else return t=gl(n),t!==null&&xf(t),e.blockedOn=n,!1;t.shift()}return!0}function Zh(e,t,n){Jl(e)&&n.delete(t)}function QC(){zc=!1,Pr!==null&&Jl(Pr)&&(Pr=null),Ar!==null&&Jl(Ar)&&(Ar=null),Lr!==null&&Jl(Lr)&&(Lr=null),Po.forEach(Zh),Ao.forEach(Zh)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,QC)))}function Lo(e){function t(s){return Ji(s,e)}if(0<jl.length){Ji(jl[0],e);for(var n=1;n<jl.length;n++){var r=jl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Ji(Pr,e),Ar!==null&&Ji(Ar,e),Lr!==null&&Ji(Lr,e),Po.forEach(t),Ao.forEach(t),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)Mw(n),n.blockedOn===null&&vr.shift()}var oi=cr.ReactCurrentBatchConfig,wa=!0;function VC(e,t,n,r){var s=ue,i=oi.transition;oi.transition=null;try{ue=1,bf(e,t,n,r)}finally{ue=s,oi.transition=i}}function WC(e,t,n,r){var s=ue,i=oi.transition;oi.transition=null;try{ue=4,bf(e,t,n,r)}finally{ue=s,oi.transition=i}}function bf(e,t,n,r){if(wa){var s=Uc(e,t,n,r);if(s===null)sc(e,t,r,Sa,n),Xh(e,r);else if(FC(s,e,t,n,r))r.stopPropagation();else if(Xh(e,r),t&4&&-1<UC.indexOf(e)){for(;s!==null;){var i=gl(s);if(i!==null&&Aw(i),i=Uc(e,t,n,r),i===null&&sc(e,t,r,Sa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sc(e,t,r,null,n)}}var Sa=null;function Uc(e,t,n,r){if(Sa=null,e=vf(r),e=rs(e),e!==null)if(t=Os(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sa=e,null}function $w(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AC()){case wf:return 1;case Rw:return 4;case ga:case LC:return 16;case Tw:return 536870912;default:return 16}default:return 16}}var Rr=null,Cf=null,Yl=null;function Dw(){if(Yl)return Yl;var e,t=Cf,n=t.length,r,s="value"in Rr?Rr.value:Rr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Yl=s.slice(e,1<r?1-r:void 0)}function Xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function ep(){return!1}function zt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pl:ep,this.isPropagationStopped=ep,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=zt($i),yl=be({},$i,{view:0,detail:0}),HC=zt(yl),Gu,Ju,Yi,uu=be({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Gu=e.screenX-Yi.screenX,Ju=e.screenY-Yi.screenY):Ju=Gu=0,Yi=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Ju}}),tp=zt(uu),KC=be({},uu,{dataTransfer:0}),GC=zt(KC),JC=be({},yl,{relatedTarget:0}),Yu=zt(JC),YC=be({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=zt(YC),ZC=be({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e_=zt(ZC),t_=be({},$i,{data:0}),np=zt(t_),n_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s_[e])?!!t[e]:!1}function kf(){return i_}var o_=be({},yl,{key:function(e){if(e.key){var t=n_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(e){return e.type==="keypress"?Xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l_=zt(o_),a_=be({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=zt(a_),u_=be({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),c_=zt(u_),d_=be({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=zt(d_),h_=be({},uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p_=zt(h_),m_=[9,13,27,32],Nf=rr&&"CompositionEvent"in window,wo=null;rr&&"documentMode"in document&&(wo=document.documentMode);var y_=rr&&"TextEvent"in window&&!wo,Bw=rr&&(!Nf||wo&&8<wo&&11>=wo),sp=" ",ip=!1;function zw(e,t){switch(e){case"keyup":return m_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function g_(e,t){switch(e){case"compositionend":return Uw(t);case"keypress":return t.which!==32?null:(ip=!0,sp);case"textInput":return e=t.data,e===sp&&ip?null:e;default:return null}}function v_(e,t){if(Qs)return e==="compositionend"||!Nf&&zw(e,t)?(e=Dw(),Yl=Cf=Rr=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bw&&t.locale!=="ko"?null:t.data;default:return null}}var w_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w_[e.type]:t==="textarea"}function Fw(e,t,n,r){Sw(r),t=xa(t,"onChange"),0<t.length&&(n=new _f("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var So=null,Oo=null;function S_(e){e0(e,0)}function cu(e){var t=Hs(e);if(hw(t))return e}function x_(e,t){if(e==="change")return t}var Qw=!1;if(rr){var Xu;if(rr){var Zu="oninput"in document;if(!Zu){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Zu=typeof lp.oninput=="function"}Xu=Zu}else Xu=!1;Qw=Xu&&(!document.documentMode||9<document.documentMode)}function ap(){So&&(So.detachEvent("onpropertychange",Vw),Oo=So=null)}function Vw(e){if(e.propertyName==="value"&&cu(Oo)){var t=[];Fw(t,Oo,e,vf(e)),_w(S_,t)}}function b_(e,t,n){e==="focusin"?(ap(),So=t,Oo=n,So.attachEvent("onpropertychange",Vw)):e==="focusout"&&ap()}function C_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(Oo)}function __(e,t){if(e==="click")return cu(t)}function k_(e,t){if(e==="input"||e==="change")return cu(t)}function N_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:N_;function qo(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_c.call(t,s)||!mn(e[s],t[s]))return!1}return!0}function up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,t){var n=up(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=up(n)}}function Ww(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ww(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hw(){for(var e=window,t=pa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pa(e.document)}return t}function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I_(e){var t=Hw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ww(n.ownerDocument.documentElement,n)){if(r!==null&&If(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cp(n,i);var o=cp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E_=rr&&"documentMode"in document&&11>=document.documentMode,Vs=null,Fc=null,xo=null,Qc=!1;function dp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qc||Vs==null||Vs!==pa(r)||(r=Vs,"selectionStart"in r&&If(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&qo(xo,r)||(xo=r,r=xa(Fc,"onSelect"),0<r.length&&(t=new _f("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vs)))}function Al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ws={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},ec={},Kw={};rr&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function du(e){if(ec[e])return ec[e];if(!Ws[e])return e;var t=Ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kw)return ec[e]=t[n];return e}var Gw=du("animationend"),Jw=du("animationiteration"),Yw=du("animationstart"),Xw=du("transitionend"),Zw=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){Zw.set(e,t),Ls(t,[e])}for(var tc=0;tc<fp.length;tc++){var nc=fp[tc],R_=nc.toLowerCase(),T_=nc[0].toUpperCase()+nc.slice(1);Wr(R_,"on"+T_)}Wr(Gw,"onAnimationEnd");Wr(Jw,"onAnimationIteration");Wr(Yw,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Xw,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function hp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RC(r,t,void 0,e),e.currentTarget=null}function e0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;hp(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;hp(s,l,u),i=a}}}if(ya)throw e=Dc,ya=!1,Dc=null,e}function he(e,t){var n=t[Gc];n===void 0&&(n=t[Gc]=new Set);var r=e+"__bubble";n.has(r)||(t0(t,e,2,!1),n.add(r))}function rc(e,t,n){var r=0;t&&(r|=4),t0(n,e,r,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Mo(e){if(!e[Ll]){e[Ll]=!0,aw.forEach(function(n){n!=="selectionchange"&&(j_.has(n)||rc(n,!1,e),rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,rc("selectionchange",!1,t))}}function t0(e,t,n,r){switch($w(t)){case 1:var s=VC;break;case 4:s=WC;break;default:s=bf}n=s.bind(null,t,n,e),s=void 0,!$c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=rs(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}_w(function(){var u=i,c=vf(n),p=[];e:{var m=Zw.get(e);if(m!==void 0){var x=_f,b=e;switch(e){case"keypress":if(Xl(n)===0)break e;case"keydown":case"keyup":x=l_;break;case"focusin":b="focus",x=Yu;break;case"focusout":b="blur",x=Yu;break;case"beforeblur":case"afterblur":x=Yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=c_;break;case Gw:case Jw:case Yw:x=XC;break;case Xw:x=f_;break;case"scroll":x=HC;break;case"wheel":x=p_;break;case"copy":case"cut":case"paste":x=e_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=rp}var C=(t&4)!==0,R=!C&&e==="scroll",f=C?m!==null?m+"Capture":null:m;C=[];for(var h=u,y;h!==null;){y=h;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,f!==null&&(S=jo(h,f),S!=null&&C.push($o(h,S,y)))),R)break;h=h.return}0<C.length&&(m=new x(m,b,null,n,c),p.push({event:m,listeners:C}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&n!==qc&&(b=n.relatedTarget||n.fromElement)&&(rs(b)||b[sr]))break e;if((x||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=u,b=b?rs(b):null,b!==null&&(R=Os(b),b!==R||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(C=tp,S="onMouseLeave",f="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(C=rp,S="onPointerLeave",f="onPointerEnter",h="pointer"),R=x==null?m:Hs(x),y=b==null?m:Hs(b),m=new C(S,h+"leave",x,n,c),m.target=R,m.relatedTarget=y,S=null,rs(c)===u&&(C=new C(f,h+"enter",b,n,c),C.target=y,C.relatedTarget=R,S=C),R=S,x&&b)t:{for(C=x,f=b,h=0,y=C;y;y=$s(y))h++;for(y=0,S=f;S;S=$s(S))y++;for(;0<h-y;)C=$s(C),h--;for(;0<y-h;)f=$s(f),y--;for(;h--;){if(C===f||f!==null&&C===f.alternate)break t;C=$s(C),f=$s(f)}C=null}else C=null;x!==null&&pp(p,m,x,C,!1),b!==null&&R!==null&&pp(p,R,b,C,!0)}}e:{if(m=u?Hs(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var T=x_;else if(op(m))if(Qw)T=k_;else{T=C_;var P=b_}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=__);if(T&&(T=T(e,u))){Fw(p,T,n,c);break e}P&&P(e,m,u),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&jc(m,"number",m.value)}switch(P=u?Hs(u):window,e){case"focusin":(op(P)||P.contentEditable==="true")&&(Vs=P,Fc=u,xo=null);break;case"focusout":xo=Fc=Vs=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,dp(p,n,c);break;case"selectionchange":if(E_)break;case"keydown":case"keyup":dp(p,n,c)}var N;if(Nf)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Qs?zw(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Bw&&n.locale!=="ko"&&(Qs||I!=="onCompositionStart"?I==="onCompositionEnd"&&Qs&&(N=Dw()):(Rr=c,Cf="value"in Rr?Rr.value:Rr.textContent,Qs=!0)),P=xa(u,I),0<P.length&&(I=new np(I,e,null,n,c),p.push({event:I,listeners:P}),N?I.data=N:(N=Uw(n),N!==null&&(I.data=N)))),(N=y_?g_(e,n):v_(e,n))&&(u=xa(u,"onBeforeInput"),0<u.length&&(c=new np("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=N))}e0(p,t)})}function $o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jo(e,n),i!=null&&r.unshift($o(e,i,s)),i=jo(e,t),i!=null&&r.push($o(e,i,s))),e=e.return}return r}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=jo(n,i),a!=null&&o.unshift($o(n,a,l))):s||(a=jo(n,i),a!=null&&o.push($o(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var P_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(P_,`
`).replace(A_,"")}function Ol(e,t,n){if(t=mp(t),mp(e)!==t&&n)throw Error(D(425))}function ba(){}var Vc=null,Wc=null;function Hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,O_=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(q_)}:Kc;function q_(e){setTimeout(function(){throw e})}function ic(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lo(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Di=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Di,Do="__reactProps$"+Di,sr="__reactContainer$"+Di,Gc="__reactEvents$"+Di,M_="__reactListeners$"+Di,$_="__reactHandles$"+Di;function rs(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gp(e);e!==null;){if(n=e[Pn])return n;e=gp(e)}return t}e=n,n=e.parentNode}return null}function gl(e){return e=e[Pn]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function fu(e){return e[Do]||null}var Jc=[],Ks=-1;function Hr(e){return{current:e}}function pe(e){0>Ks||(e.current=Jc[Ks],Jc[Ks]=null,Ks--)}function fe(e,t){Ks++,Jc[Ks]=e.current,e.current=t}var Fr={},it=Hr(Fr),It=Hr(!1),_s=Fr;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Et(e){return e=e.childContextTypes,e!=null}function Ca(){pe(It),pe(it)}function vp(e,t,n){if(it.current!==Fr)throw Error(D(168));fe(it,t),fe(It,n)}function n0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,bC(e)||"Unknown",s));return be({},n,r)}function _a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,_s=it.current,fe(it,e),fe(It,It.current),!0}function wp(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=n0(e,t,_s),r.__reactInternalMemoizedMergedChildContext=e,pe(It),pe(it),fe(it,e)):pe(It),fe(It,n)}var Dn=null,hu=!1,oc=!1;function r0(e){Dn===null?Dn=[e]:Dn.push(e)}function D_(e){hu=!0,r0(e)}function Kr(){if(!oc&&Dn!==null){oc=!0;var e=0,t=ue;try{var n=Dn;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dn=null,hu=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(e+1)),Ew(wf,Kr),s}finally{ue=t,oc=!1}}return null}var Gs=[],Js=0,ka=null,Na=0,Qt=[],Vt=0,ks=null,Zn=1,er="";function Yr(e,t){Gs[Js++]=Na,Gs[Js++]=ka,ka=e,Na=t}function s0(e,t,n){Qt[Vt++]=Zn,Qt[Vt++]=er,Qt[Vt++]=ks,ks=e;var r=Zn;e=er;var s=32-hn(r)-1;r&=~(1<<s),n+=1;var i=32-hn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-hn(t)+s|n<<s|r,er=i+e}else Zn=1<<i|n<<s|r,er=e}function Ef(e){e.return!==null&&(Yr(e,1),s0(e,1,0))}function Rf(e){for(;e===ka;)ka=Gs[--Js],Gs[Js]=null,Na=Gs[--Js],Gs[Js]=null;for(;e===ks;)ks=Qt[--Vt],Qt[Vt]=null,er=Qt[--Vt],Qt[Vt]=null,Zn=Qt[--Vt],Qt[Vt]=null}var Mt=null,qt=null,ye=!1,dn=null;function i0(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,qt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ks!==null?{id:Zn,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,qt=null,!0):!1;default:return!1}}function Yc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xc(e){if(ye){var t=qt;if(t){var n=t;if(!Sp(e,t)){if(Yc(e))throw Error(D(418));t=Or(n.nextSibling);var r=Mt;t&&Sp(e,t)?i0(r,n):(e.flags=e.flags&-4097|2,ye=!1,Mt=e)}}else{if(Yc(e))throw Error(D(418));e.flags=e.flags&-4097|2,ye=!1,Mt=e}}}function xp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function ql(e){if(e!==Mt)return!1;if(!ye)return xp(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hc(e.type,e.memoizedProps)),t&&(t=qt)){if(Yc(e))throw o0(),Error(D(418));for(;t;)i0(e,t),t=Or(t.nextSibling)}if(xp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=Or(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Mt?Or(e.stateNode.nextSibling):null;return!0}function o0(){for(var e=qt;e;)e=Or(e.nextSibling)}function Ii(){qt=Mt=null,ye=!1}function Tf(e){dn===null?dn=[e]:dn.push(e)}var B_=cr.ReactCurrentBatchConfig;function Xi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ml(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bp(e){var t=e._init;return t(e._payload)}function l0(e){function t(f,h){if(e){var y=f.deletions;y===null?(f.deletions=[h],f.flags|=16):y.push(h)}}function n(f,h){if(!e)return null;for(;h!==null;)t(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function s(f,h){return f=Dr(f,h),f.index=0,f.sibling=null,f}function i(f,h,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<h?(f.flags|=2,h):y):(f.flags|=2,h)):(f.flags|=1048576,h)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,h,y,S){return h===null||h.tag!==6?(h=hc(y,f.mode,S),h.return=f,h):(h=s(h,y),h.return=f,h)}function a(f,h,y,S){var T=y.type;return T===Fs?c(f,h,y.props.children,S,y.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mr&&bp(T)===h.type)?(S=s(h,y.props),S.ref=Xi(f,h,y),S.return=f,S):(S=ia(y.type,y.key,y.props,null,f.mode,S),S.ref=Xi(f,h,y),S.return=f,S)}function u(f,h,y,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=pc(y,f.mode,S),h.return=f,h):(h=s(h,y.children||[]),h.return=f,h)}function c(f,h,y,S,T){return h===null||h.tag!==7?(h=ws(y,f.mode,S,T),h.return=f,h):(h=s(h,y),h.return=f,h)}function p(f,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=hc(""+h,f.mode,y),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Nl:return y=ia(h.type,h.key,h.props,null,f.mode,y),y.ref=Xi(f,null,h),y.return=f,y;case Us:return h=pc(h,f.mode,y),h.return=f,h;case mr:var S=h._init;return p(f,S(h._payload),y)}if(ro(h)||Hi(h))return h=ws(h,f.mode,y,null),h.return=f,h;Ml(f,h)}return null}function m(f,h,y,S){var T=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:l(f,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nl:return y.key===T?a(f,h,y,S):null;case Us:return y.key===T?u(f,h,y,S):null;case mr:return T=y._init,m(f,h,T(y._payload),S)}if(ro(y)||Hi(y))return T!==null?null:c(f,h,y,S,null);Ml(f,y)}return null}function x(f,h,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(y)||null,l(h,f,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nl:return f=f.get(S.key===null?y:S.key)||null,a(h,f,S,T);case Us:return f=f.get(S.key===null?y:S.key)||null,u(h,f,S,T);case mr:var P=S._init;return x(f,h,y,P(S._payload),T)}if(ro(S)||Hi(S))return f=f.get(y)||null,c(h,f,S,T,null);Ml(h,S)}return null}function b(f,h,y,S){for(var T=null,P=null,N=h,I=h=0,z=null;N!==null&&I<y.length;I++){N.index>I?(z=N,N=null):z=N.sibling;var k=m(f,N,y[I],S);if(k===null){N===null&&(N=z);break}e&&N&&k.alternate===null&&t(f,N),h=i(k,h,I),P===null?T=k:P.sibling=k,P=k,N=z}if(I===y.length)return n(f,N),ye&&Yr(f,I),T;if(N===null){for(;I<y.length;I++)N=p(f,y[I],S),N!==null&&(h=i(N,h,I),P===null?T=N:P.sibling=N,P=N);return ye&&Yr(f,I),T}for(N=r(f,N);I<y.length;I++)z=x(N,f,I,y[I],S),z!==null&&(e&&z.alternate!==null&&N.delete(z.key===null?I:z.key),h=i(z,h,I),P===null?T=z:P.sibling=z,P=z);return e&&N.forEach(function(A){return t(f,A)}),ye&&Yr(f,I),T}function C(f,h,y,S){var T=Hi(y);if(typeof T!="function")throw Error(D(150));if(y=T.call(y),y==null)throw Error(D(151));for(var P=T=null,N=h,I=h=0,z=null,k=y.next();N!==null&&!k.done;I++,k=y.next()){N.index>I?(z=N,N=null):z=N.sibling;var A=m(f,N,k.value,S);if(A===null){N===null&&(N=z);break}e&&N&&A.alternate===null&&t(f,N),h=i(A,h,I),P===null?T=A:P.sibling=A,P=A,N=z}if(k.done)return n(f,N),ye&&Yr(f,I),T;if(N===null){for(;!k.done;I++,k=y.next())k=p(f,k.value,S),k!==null&&(h=i(k,h,I),P===null?T=k:P.sibling=k,P=k);return ye&&Yr(f,I),T}for(N=r(f,N);!k.done;I++,k=y.next())k=x(N,f,I,k.value,S),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?I:k.key),h=i(k,h,I),P===null?T=k:P.sibling=k,P=k);return e&&N.forEach(function($){return t(f,$)}),ye&&Yr(f,I),T}function R(f,h,y,S){if(typeof y=="object"&&y!==null&&y.type===Fs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Nl:e:{for(var T=y.key,P=h;P!==null;){if(P.key===T){if(T=y.type,T===Fs){if(P.tag===7){n(f,P.sibling),h=s(P,y.props.children),h.return=f,f=h;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mr&&bp(T)===P.type){n(f,P.sibling),h=s(P,y.props),h.ref=Xi(f,P,y),h.return=f,f=h;break e}n(f,P);break}else t(f,P);P=P.sibling}y.type===Fs?(h=ws(y.props.children,f.mode,S,y.key),h.return=f,f=h):(S=ia(y.type,y.key,y.props,null,f.mode,S),S.ref=Xi(f,h,y),S.return=f,f=S)}return o(f);case Us:e:{for(P=y.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(f,h.sibling),h=s(h,y.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else t(f,h);h=h.sibling}h=pc(y,f.mode,S),h.return=f,f=h}return o(f);case mr:return P=y._init,R(f,h,P(y._payload),S)}if(ro(y))return b(f,h,y,S);if(Hi(y))return C(f,h,y,S);Ml(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(f,h.sibling),h=s(h,y),h.return=f,f=h):(n(f,h),h=hc(y,f.mode,S),h.return=f,f=h),o(f)):n(f,h)}return R}var Ei=l0(!0),a0=l0(!1),Ia=Hr(null),Ea=null,Ys=null,jf=null;function Pf(){jf=Ys=Ea=null}function Af(e){var t=Ia.current;pe(Ia),e._currentValue=t}function Zc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function li(e,t){Ea=e,jf=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(jf!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(Ea===null)throw Error(D(308));Ys=e,Ea.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var ss=null;function Lf(e){ss===null?ss=[e]:ss.push(e)}function u0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Lf(t)):(n.next=s.next,s.next=n),t.interleaved=n,ir(e,r)}function ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ir(e,n)}return s=r.interleaved,s===null?(t.next=t,Lf(r)):(t.next=s.next,s.next=t),r.interleaved=t,ir(e,n)}function Zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sf(e,n)}}function Cp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var s=e.updateQueue;yr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var p=s.baseState;o=0,c=u=a=null,l=i;do{var m=l.lane,x=l.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,C=l;switch(m=t,x=n,C.tag){case 1:if(b=C.payload,typeof b=="function"){p=b.call(x,p,m);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=C.payload,m=typeof b=="function"?b.call(x,p,m):b,m==null)break e;p=be({},p,m);break e;case 2:yr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=x,a=p):c=c.next=x,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(c===null&&(a=p),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Is|=o,e.lanes=o,e.memoizedState=p}}function _p(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var vl={},Ln=Hr(vl),Bo=Hr(vl),zo=Hr(vl);function is(e){if(e===vl)throw Error(D(174));return e}function qf(e,t){switch(fe(zo,t),fe(Bo,e),fe(Ln,vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ac(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ac(t,e)}pe(Ln),fe(Ln,t)}function Ri(){pe(Ln),pe(Bo),pe(zo)}function d0(e){is(zo.current);var t=is(Ln.current),n=Ac(t,e.type);t!==n&&(fe(Bo,e),fe(Ln,n))}function Mf(e){Bo.current===e&&(pe(Ln),pe(Bo))}var ve=Hr(0);function Ta(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lc=[];function $f(){for(var e=0;e<lc.length;e++)lc[e]._workInProgressVersionPrimary=null;lc.length=0}var ea=cr.ReactCurrentDispatcher,ac=cr.ReactCurrentBatchConfig,Ns=0,xe=null,De=null,Fe=null,ja=!1,bo=!1,Uo=0,z_=0;function et(){throw Error(D(321))}function Df(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Bf(e,t,n,r,s,i){if(Ns=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=e===null||e.memoizedState===null?V_:W_,e=n(r,s),bo){i=0;do{if(bo=!1,Uo=0,25<=i)throw Error(D(301));i+=1,Fe=De=null,t.updateQueue=null,ea.current=H_,e=n(r,s)}while(bo)}if(ea.current=Pa,t=De!==null&&De.next!==null,Ns=0,Fe=De=xe=null,ja=!1,t)throw Error(D(300));return e}function zf(){var e=Uo!==0;return Uo=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?xe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Yt(){if(De===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?xe.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw Error(D(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?xe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Fo(e,t){return typeof t=="function"?t(e):t}function uc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Ns&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=p,o=r):a=a.next=p,xe.lanes|=c,Is|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,mn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,Is|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);mn(i,t.memoizedState)||(kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function f0(){}function h0(e,t){var n=xe,r=Yt(),s=t(),i=!mn(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,Uf(y0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Qo(9,m0.bind(null,n,r,s,t),void 0,null),We===null)throw Error(D(349));Ns&30||p0(n,t,s)}return s}function p0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function m0(e,t,n,r){t.value=n,t.getSnapshot=r,g0(t)&&v0(e)}function y0(e,t,n){return n(function(){g0(t)&&v0(e)})}function g0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function v0(e){var t=ir(e,1);t!==null&&pn(t,e,1,-1)}function kp(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:e},t.queue=e,e=e.dispatch=Q_.bind(null,xe,e),[t.memoizedState,e]}function Qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function w0(){return Yt().memoizedState}function ta(e,t,n,r){var s=_n();xe.flags|=e,s.memoizedState=Qo(1|t,n,void 0,r===void 0?null:r)}function pu(e,t,n,r){var s=Yt();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Df(r,o.deps)){s.memoizedState=Qo(t,n,i,r);return}}xe.flags|=e,s.memoizedState=Qo(1|t,n,i,r)}function Np(e,t){return ta(8390656,8,e,t)}function Uf(e,t){return pu(2048,8,e,t)}function S0(e,t){return pu(4,2,e,t)}function x0(e,t){return pu(4,4,e,t)}function b0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C0(e,t,n){return n=n!=null?n.concat([e]):null,pu(4,4,b0.bind(null,t,e),n)}function Ff(){}function _0(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Df(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function k0(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Df(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function N0(e,t,n){return Ns&21?(mn(n,t)||(n=jw(),xe.lanes|=n,Is|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function U_(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=ac.transition;ac.transition={};try{e(!1),t()}finally{ue=n,ac.transition=r}}function I0(){return Yt().memoizedState}function F_(e,t,n){var r=$r(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E0(e))R0(t,n);else if(n=u0(e,t,n,r),n!==null){var s=ft();pn(n,e,r,s),T0(n,t,r)}}function Q_(e,t,n){var r=$r(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E0(e))R0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,mn(l,o)){var a=t.interleaved;a===null?(s.next=s,Lf(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=u0(e,t,s,r),n!==null&&(s=ft(),pn(n,e,r,s),T0(n,t,r))}}function E0(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function R0(e,t){bo=ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sf(e,n)}}var Pa={readContext:Jt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},V_={readContext:Jt,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:Np,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ta(4194308,4,b0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return ta(4,2,e,t)},useMemo:function(e,t){var n=_n();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_n();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F_.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:kp,useDebugValue:Ff,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=kp(!1),t=e[0];return e=U_.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=_n();if(ye){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),We===null)throw Error(D(349));Ns&30||p0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Np(y0.bind(null,r,i,e),[e]),r.flags|=2048,Qo(9,m0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_n(),t=We.identifierPrefix;if(ye){var n=er,r=Zn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=z_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W_={readContext:Jt,useCallback:_0,useContext:Jt,useEffect:Uf,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:x0,useMemo:k0,useReducer:uc,useRef:w0,useState:function(){return uc(Fo)},useDebugValue:Ff,useDeferredValue:function(e){var t=Yt();return N0(t,De.memoizedState,e)},useTransition:function(){var e=uc(Fo)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:f0,useSyncExternalStore:h0,useId:I0,unstable_isNewReconciler:!1},H_={readContext:Jt,useCallback:_0,useContext:Jt,useEffect:Uf,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:x0,useMemo:k0,useReducer:cc,useRef:w0,useState:function(){return cc(Fo)},useDebugValue:Ff,useDeferredValue:function(e){var t=Yt();return De===null?t.memoizedState=e:N0(t,De.memoizedState,e)},useTransition:function(){var e=cc(Fo)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:f0,useSyncExternalStore:h0,useId:I0,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ed(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mu={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),s=$r(e),i=nr(r,s);i.payload=t,n!=null&&(i.callback=n),t=qr(e,i,s),t!==null&&(pn(t,e,s,r),Zl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),s=$r(e),i=nr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qr(e,i,s),t!==null&&(pn(t,e,s,r),Zl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=$r(e),s=nr(n,r);s.tag=2,t!=null&&(s.callback=t),t=qr(e,s,r),t!==null&&(pn(t,e,r,n),Zl(t,e,r))}};function Ip(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!qo(n,r)||!qo(s,i):!0}function j0(e,t,n){var r=!1,s=Fr,i=t.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(s=Et(t)?_s:it.current,r=t.contextTypes,i=(r=r!=null)?Ni(e,s):Fr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ep(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function td(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Of(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Jt(i):(i=Et(t)?_s:it.current,s.context=Ni(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ed(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mu.enqueueReplaceState(s,s.state,null),Ra(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ti(e,t){try{var n="",r=t;do n+=xC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function dc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K_=typeof WeakMap=="function"?WeakMap:Map;function P0(e,t,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){La||(La=!0,fd=r),nd(e,t)},n}function A0(e,t,n){n=nr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){nd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nd(e,t),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Rp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ak.bind(null,e,t,n),t.then(e,e))}function Tp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nr(-1,1),t.tag=2,qr(n,t,1))),n.lanes|=1),e)}var G_=cr.ReactCurrentOwner,kt=!1;function ct(e,t,n,r){t.child=e===null?a0(t,null,n,r):Ei(t,e.child,n,r)}function Pp(e,t,n,r,s){n=n.render;var i=t.ref;return li(t,s),r=Bf(e,t,n,r,i,s),n=zf(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,or(e,t,s)):(ye&&n&&Ef(t),t.flags|=1,ct(e,t,r,s),t.child)}function Ap(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Yf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,L0(e,t,i,r,s)):(e=ia(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(o,r)&&e.ref===t.ref)return or(e,t,s)}return t.flags|=1,e=Dr(i,r),e.ref=t.ref,e.return=t,t.child=e}function L0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(qo(i,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,or(e,t,s)}return rd(e,t,n,r,s)}function O0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Zs,Ot),Ot|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Zs,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Zs,Ot),Ot|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,fe(Zs,Ot),Ot|=r;return ct(e,t,s,n),t.child}function q0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rd(e,t,n,r,s){var i=Et(n)?_s:it.current;return i=Ni(t,i),li(t,s),n=Bf(e,t,n,r,i,s),r=zf(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,or(e,t,s)):(ye&&r&&Ef(t),t.flags|=1,ct(e,t,n,s),t.child)}function Lp(e,t,n,r,s){if(Et(n)){var i=!0;_a(t)}else i=!1;if(li(t,s),t.stateNode===null)na(e,t),j0(t,n,r),td(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=Et(n)?_s:it.current,u=Ni(t,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ep(t,o,r,u),yr=!1;var m=t.memoizedState;o.state=m,Ra(t,r,o,s),a=t.memoizedState,l!==r||m!==a||It.current||yr?(typeof c=="function"&&(ed(t,n,c,r),a=t.memoizedState),(l=yr||Ip(t,n,l,r,m,a,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,c0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tn(t.type,l),o.props=u,p=t.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Jt(a):(a=Et(n)?_s:it.current,a=Ni(t,a));var x=n.getDerivedStateFromProps;(c=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==a)&&Ep(t,o,r,a),yr=!1,m=t.memoizedState,o.state=m,Ra(t,r,o,s);var b=t.memoizedState;l!==p||m!==b||It.current||yr?(typeof x=="function"&&(ed(t,n,x,r),b=t.memoizedState),(u=yr||Ip(t,n,u,r,m,b,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return sd(e,t,n,r,i,s)}function sd(e,t,n,r,s,i){q0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&wp(t,n,!1),or(e,t,i);r=t.stateNode,G_.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,l,i)):ct(e,t,l,i),t.memoizedState=r.state,s&&wp(t,n,!0),t.child}function M0(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),qf(e,t.containerInfo)}function Op(e,t,n,r,s){return Ii(),Tf(s),t.flags|=256,ct(e,t,n,r),t.child}var id={dehydrated:null,treeContext:null,retryLane:0};function od(e){return{baseLanes:e,cachePool:null,transitions:null}}function $0(e,t,n){var r=t.pendingProps,s=ve.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(ve,s&1),e===null)return Xc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vu(o,r,0,null),e=ws(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=od(n),t.memoizedState=id,e):Qf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return J_(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Dr(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Dr(l,i):(i=ws(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?od(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=id,r}return i=e.child,e=i.sibling,r=Dr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qf(e,t){return t=vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $l(e,t,n,r){return r!==null&&Tf(r),Ei(t,e.child,null,n),e=Qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J_(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=dc(Error(D(422))),$l(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=vu({mode:"visible",children:r.children},s,0,null),i=ws(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ei(t,e.child,null,o),t.child.memoizedState=od(o),t.memoizedState=id,i);if(!(t.mode&1))return $l(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(D(419)),r=dc(i,r,void 0),$l(e,t,o,r)}if(l=(o&e.childLanes)!==0,kt||l){if(r=We,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ir(e,s),pn(r,e,s,-1))}return Jf(),r=dc(Error(D(421))),$l(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uk.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qt=Or(s.nextSibling),Mt=t,ye=!0,dn=null,e!==null&&(Qt[Vt++]=Zn,Qt[Vt++]=er,Qt[Vt++]=ks,Zn=e.id,er=e.overflow,ks=t),t=Qf(t,r.children),t.flags|=4096,t)}function qp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zc(e.return,t,n)}function fc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function D0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ct(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qp(e,n,t);else if(e.tag===19)qp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ta(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ta(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fc(t,!0,n,null,i);break;case"together":fc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Is|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y_(e,t,n){switch(t.tag){case 3:M0(t),Ii();break;case 5:d0(t);break;case 1:Et(t.type)&&_a(t);break;case 4:qf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;fe(Ia,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?$0(e,t,n):(fe(ve,ve.current&1),e=or(e,t,n),e!==null?e.sibling:null);fe(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return D0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,O0(e,t,n)}return or(e,t,n)}var B0,ld,z0,U0;B0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ld=function(){};z0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,is(Ln.current);var i=null;switch(n){case"input":s=Rc(e,s),r=Rc(e,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Pc(e,s),r=Pc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ba)}Lc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&he("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};U0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X_(e,t,n){var r=t.pendingProps;switch(Rf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return Et(t.type)&&Ca(),tt(t),null;case 3:return r=t.stateNode,Ri(),pe(It),pe(it),$f(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ql(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dn!==null&&(md(dn),dn=null))),ld(e,t),tt(t),null;case 5:Mf(t);var s=is(zo.current);if(n=t.type,e!==null&&t.stateNode!=null)z0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return tt(t),null}if(e=is(Ln.current),ql(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pn]=t,r[Do]=i,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<io.length;s++)he(io[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Vh(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":Hh(r,i),he("invalid",r)}Lc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ol(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ol(r.textContent,l,e),s=["children",""+l]):Ro.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":Il(r),Wh(r,i,!0);break;case"textarea":Il(r),Kh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ba)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pn]=t,e[Do]=r,B0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Oc(n,r),n){case"dialog":he("cancel",e),he("close",e),s=r;break;case"iframe":case"object":case"embed":he("load",e),s=r;break;case"video":case"audio":for(s=0;s<io.length;s++)he(io[s],e);s=r;break;case"source":he("error",e),s=r;break;case"img":case"image":case"link":he("error",e),he("load",e),s=r;break;case"details":he("toggle",e),s=r;break;case"input":Vh(e,r),s=Rc(e,r),he("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),he("invalid",e);break;case"textarea":Hh(e,r),s=Pc(e,r),he("invalid",e);break;default:s=r}Lc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?ww(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&gw(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&To(e,a):typeof a=="number"&&To(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?a!=null&&i==="onScroll"&&he("scroll",e):a!=null&&pf(e,i,a,o))}switch(n){case"input":Il(e),Wh(e,r,!1);break;case"textarea":Il(e),Kh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ri(e,!!r.multiple,i,!1):r.defaultValue!=null&&ri(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ba)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)U0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=is(zo.current),is(Ln.current),ql(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pn]=t,(i=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r}return tt(t),null;case 13:if(pe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&qt!==null&&t.mode&1&&!(t.flags&128))o0(),Ii(),t.flags|=98560,i=!1;else if(i=ql(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Pn]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),i=!1}else dn!==null&&(md(dn),dn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?ze===0&&(ze=3):Jf())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Ri(),ld(e,t),e===null&&Mo(t.stateNode.containerInfo),tt(t),null;case 10:return Af(t.type._context),tt(t),null;case 17:return Et(t.type)&&Ca(),tt(t),null;case 19:if(pe(ve),i=t.memoizedState,i===null)return tt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Zi(i,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ta(e),o!==null){for(t.flags|=128,Zi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>ji&&(t.flags|=128,r=!0,Zi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ta(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return tt(t),null}else 2*Ie()-i.renderingStartTime>ji&&n!==1073741824&&(t.flags|=128,r=!0,Zi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=ve.current,fe(ve,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return Gf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Z_(e,t){switch(Rf(t),t.tag){case 1:return Et(t.type)&&Ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ri(),pe(It),pe(it),$f(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mf(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return Ri(),null;case 10:return Af(t.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var Dl=!1,rt=!1,ek=typeof WeakSet=="function"?WeakSet:Set,F=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function ad(e,t,n){try{n()}catch(r){_e(e,t,r)}}var Mp=!1;function tk(e,t){if(Vc=wa,e=Hw(),If(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,p=e,m=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)m=p,p=x;for(;;){if(p===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++c===r&&(a=o),(x=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=x}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wc={focusedElem:e,selectionRange:n},wa=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var C=b.memoizedProps,R=b.memoizedState,f=t.stateNode,h=f.getSnapshotBeforeUpdate(t.elementType===t.type?C:tn(t.type,C),R);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){_e(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return b=Mp,Mp=!1,b}function Co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ad(t,n,i)}s=s.next}while(s!==r)}}function yu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ud(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function F0(e){var t=e.alternate;t!==null&&(e.alternate=null,F0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[Do],delete t[Gc],delete t[M_],delete t[$_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Q0(e){return e.tag===5||e.tag===3||e.tag===4}function $p(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ba));else if(r!==4&&(e=e.child,e!==null))for(cd(e,t,n),e=e.sibling;e!==null;)cd(e,t,n),e=e.sibling}function dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}var Ge=null,cn=!1;function fr(e,t,n){for(n=n.child;n!==null;)V0(e,t,n),n=n.sibling}function V0(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(au,n)}catch{}switch(n.tag){case 5:rt||Xs(n,t);case 6:var r=Ge,s=cn;Ge=null,fr(e,t,n),Ge=r,cn=s,Ge!==null&&(cn?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(cn?(e=Ge,n=n.stateNode,e.nodeType===8?ic(e.parentNode,n):e.nodeType===1&&ic(e,n),Lo(e)):ic(Ge,n.stateNode));break;case 4:r=Ge,s=cn,Ge=n.stateNode.containerInfo,cn=!0,fr(e,t,n),Ge=r,cn=s;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ad(n,t,o),s=s.next}while(s!==r)}fr(e,t,n);break;case 1:if(!rt&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_e(n,t,l)}fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,fr(e,t,n),rt=r):fr(e,t,n);break;default:fr(e,t,n)}}function Dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ek),t.forEach(function(r){var s=ck.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,cn=!1;break e;case 3:Ge=l.stateNode.containerInfo,cn=!0;break e;case 4:Ge=l.stateNode.containerInfo,cn=!0;break e}l=l.return}if(Ge===null)throw Error(D(160));V0(i,o,s),Ge=null,cn=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){_e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W0(t,e),t=t.sibling}function W0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),bn(e),r&4){try{Co(3,e,e.return),yu(3,e)}catch(C){_e(e,e.return,C)}try{Co(5,e,e.return)}catch(C){_e(e,e.return,C)}}break;case 1:en(t,e),bn(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(en(t,e),bn(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var s=e.stateNode;try{To(s,"")}catch(C){_e(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pw(s,i),Oc(l,o);var u=Oc(l,i);for(o=0;o<a.length;o+=2){var c=a[o],p=a[o+1];c==="style"?ww(s,p):c==="dangerouslySetInnerHTML"?gw(s,p):c==="children"?To(s,p):pf(s,c,p,u)}switch(l){case"input":Tc(s,i);break;case"textarea":mw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ri(s,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?ri(s,!!i.multiple,i.defaultValue,!0):ri(s,!!i.multiple,i.multiple?[]:"",!1))}s[Do]=i}catch(C){_e(e,e.return,C)}}break;case 6:if(en(t,e),bn(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(C){_e(e,e.return,C)}}break;case 3:if(en(t,e),bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(t.containerInfo)}catch(C){_e(e,e.return,C)}break;case 4:en(t,e),bn(e);break;case 13:en(t,e),bn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hf=Ie())),r&4&&Dp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(u=rt)||c,en(t,e),rt=u):en(t,e),bn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(p=F=c;F!==null;){switch(m=F,x=m.child,m.tag){case 0:case 11:case 14:case 15:Co(4,m,m.return);break;case 1:Xs(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(C){_e(r,n,C)}}break;case 5:Xs(m,m.return);break;case 22:if(m.memoizedState!==null){zp(p);continue}}x!==null?(x.return=m,F=x):zp(p)}c=c.sibling}e:for(c=null,p=e;;){if(p.tag===5){if(c===null){c=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vw("display",o))}catch(C){_e(e,e.return,C)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(C){_e(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:en(t,e),bn(e),r&4&&Dp(e);break;case 21:break;default:en(t,e),bn(e)}}function bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Q0(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(To(s,""),r.flags&=-33);var i=$p(e);dd(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=$p(e);cd(e,l,o);break;default:throw Error(D(161))}}catch(a){_e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nk(e,t,n){F=e,H0(e)}function H0(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Dl;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||rt;l=Dl;var u=rt;if(Dl=o,(rt=a)&&!u)for(F=s;F!==null;)o=F,a=o.child,o.tag===22&&o.memoizedState!==null?Up(s):a!==null?(a.return=o,F=a):Up(s);for(;i!==null;)F=i,H0(i),i=i.sibling;F=s,Dl=l,rt=u}Bp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):Bp(e)}}function Bp(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||yu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_p(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_p(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&Lo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}rt||t.flags&512&&ud(t)}catch(m){_e(t,t.return,m)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function zp(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Up(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yu(4,t)}catch(a){_e(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){_e(t,s,a)}}var i=t.return;try{ud(t)}catch(a){_e(t,i,a)}break;case 5:var o=t.return;try{ud(t)}catch(a){_e(t,o,a)}}}catch(a){_e(t,t.return,a)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var rk=Math.ceil,Aa=cr.ReactCurrentDispatcher,Vf=cr.ReactCurrentOwner,Kt=cr.ReactCurrentBatchConfig,re=0,We=null,Le=null,Ye=0,Ot=0,Zs=Hr(0),ze=0,Vo=null,Is=0,gu=0,Wf=0,_o=null,bt=null,Hf=0,ji=1/0,$n=null,La=!1,fd=null,Mr=null,Bl=!1,Tr=null,Oa=0,ko=0,hd=null,ra=-1,sa=0;function ft(){return re&6?Ie():ra!==-1?ra:ra=Ie()}function $r(e){return e.mode&1?re&2&&Ye!==0?Ye&-Ye:B_.transition!==null?(sa===0&&(sa=jw()),sa):(e=ue,e!==0||(e=window.event,e=e===void 0?16:$w(e.type)),e):1}function pn(e,t,n,r){if(50<ko)throw ko=0,hd=null,Error(D(185));ml(e,n,r),(!(re&2)||e!==We)&&(e===We&&(!(re&2)&&(gu|=n),ze===4&&wr(e,Ye)),Rt(e,r),n===1&&re===0&&!(t.mode&1)&&(ji=Ie()+500,hu&&Kr()))}function Rt(e,t){var n=e.callbackNode;BC(e,t);var r=va(e,e===We?Ye:0);if(r===0)n!==null&&Yh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yh(n),t===1)e.tag===0?D_(Fp.bind(null,e)):r0(Fp.bind(null,e)),O_(function(){!(re&6)&&Kr()}),n=null;else{switch(Pw(r)){case 1:n=wf;break;case 4:n=Rw;break;case 16:n=ga;break;case 536870912:n=Tw;break;default:n=ga}n=tS(n,K0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function K0(e,t){if(ra=-1,sa=0,re&6)throw Error(D(327));var n=e.callbackNode;if(ai()&&e.callbackNode!==n)return null;var r=va(e,e===We?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qa(e,r);else{t=r;var s=re;re|=2;var i=J0();(We!==e||Ye!==t)&&($n=null,ji=Ie()+500,vs(e,t));do try{ok();break}catch(l){G0(e,l)}while(!0);Pf(),Aa.current=i,re=s,Le!==null?t=0:(We=null,Ye=0,t=ze)}if(t!==0){if(t===2&&(s=Bc(e),s!==0&&(r=s,t=pd(e,s))),t===1)throw n=Vo,vs(e,0),wr(e,r),Rt(e,Ie()),n;if(t===6)wr(e,r);else{if(s=e.current.alternate,!(r&30)&&!sk(s)&&(t=qa(e,r),t===2&&(i=Bc(e),i!==0&&(r=i,t=pd(e,i))),t===1))throw n=Vo,vs(e,0),wr(e,r),Rt(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Xr(e,bt,$n);break;case 3:if(wr(e,r),(r&130023424)===r&&(t=Hf+500-Ie(),10<t)){if(va(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kc(Xr.bind(null,e,bt,$n),t);break}Xr(e,bt,$n);break;case 4:if(wr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-hn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rk(r/1960))-r,10<r){e.timeoutHandle=Kc(Xr.bind(null,e,bt,$n),r);break}Xr(e,bt,$n);break;case 5:Xr(e,bt,$n);break;default:throw Error(D(329))}}}return Rt(e,Ie()),e.callbackNode===n?K0.bind(null,e):null}function pd(e,t){var n=_o;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=qa(e,t),e!==2&&(t=bt,bt=n,t!==null&&md(t)),e}function md(e){bt===null?bt=e:bt.push.apply(bt,e)}function sk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t){for(t&=~Wf,t&=~gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hn(t),r=1<<n;e[n]=-1,t&=~r}}function Fp(e){if(re&6)throw Error(D(327));ai();var t=va(e,0);if(!(t&1))return Rt(e,Ie()),null;var n=qa(e,t);if(e.tag!==0&&n===2){var r=Bc(e);r!==0&&(t=r,n=pd(e,r))}if(n===1)throw n=Vo,vs(e,0),wr(e,t),Rt(e,Ie()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,bt,$n),Rt(e,Ie()),null}function Kf(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(ji=Ie()+500,hu&&Kr())}}function Es(e){Tr!==null&&Tr.tag===0&&!(re&6)&&ai();var t=re;re|=1;var n=Kt.transition,r=ue;try{if(Kt.transition=null,ue=1,e)return e()}finally{ue=r,Kt.transition=n,re=t,!(re&6)&&Kr()}}function Gf(){Ot=Zs.current,pe(Zs)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,L_(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Rf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ca();break;case 3:Ri(),pe(It),pe(it),$f();break;case 5:Mf(r);break;case 4:Ri();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:Af(r.type._context);break;case 22:case 23:Gf()}n=n.return}if(We=e,Le=e=Dr(e.current,null),Ye=Ot=t,ze=0,Vo=null,Wf=gu=Is=0,bt=_o=null,ss!==null){for(t=0;t<ss.length;t++)if(n=ss[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ss=null}return e}function G0(e,t){do{var n=Le;try{if(Pf(),ea.current=Pa,ja){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ja=!1}if(Ns=0,Fe=De=xe=null,bo=!1,Uo=0,Vf.current=null,n===null||n.return===null){ze=1,Vo=t,Le=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Ye,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,p=c.tag;if(!(c.mode&1)&&(p===0||p===11||p===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=Tp(o);if(x!==null){x.flags&=-257,jp(x,o,l,i,t),x.mode&1&&Rp(i,u,t),t=x,a=u;var b=t.updateQueue;if(b===null){var C=new Set;C.add(a),t.updateQueue=C}else b.add(a);break e}else{if(!(t&1)){Rp(i,u,t),Jf();break e}a=Error(D(426))}}else if(ye&&l.mode&1){var R=Tp(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),jp(R,o,l,i,t),Tf(Ti(a,l));break e}}i=a=Ti(a,l),ze!==4&&(ze=2),_o===null?_o=[i]:_o.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=P0(i,a,t);Cp(i,f);break e;case 1:l=a;var h=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Mr===null||!Mr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=A0(i,l,t);Cp(i,S);break e}}i=i.return}while(i!==null)}X0(n)}catch(T){t=T,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function J0(){var e=Aa.current;return Aa.current=Pa,e===null?Pa:e}function Jf(){(ze===0||ze===3||ze===2)&&(ze=4),We===null||!(Is&268435455)&&!(gu&268435455)||wr(We,Ye)}function qa(e,t){var n=re;re|=2;var r=J0();(We!==e||Ye!==t)&&($n=null,vs(e,t));do try{ik();break}catch(s){G0(e,s)}while(!0);if(Pf(),re=n,Aa.current=r,Le!==null)throw Error(D(261));return We=null,Ye=0,ze}function ik(){for(;Le!==null;)Y0(Le)}function ok(){for(;Le!==null&&!jC();)Y0(Le)}function Y0(e){var t=eS(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?X0(e):Le=t,Vf.current=null}function X0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Z_(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(n=X_(n,t,Ot),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function Xr(e,t,n){var r=ue,s=Kt.transition;try{Kt.transition=null,ue=1,lk(e,t,n,r)}finally{Kt.transition=s,ue=r}return null}function lk(e,t,n,r){do ai();while(Tr!==null);if(re&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(zC(e,i),e===We&&(Le=We=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,tS(ga,function(){return ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kt.transition,Kt.transition=null;var o=ue;ue=1;var l=re;re|=4,Vf.current=null,tk(e,n),W0(n,e),I_(Wc),wa=!!Vc,Wc=Vc=null,e.current=n,nk(n),PC(),re=l,ue=o,Kt.transition=i}else e.current=n;if(Bl&&(Bl=!1,Tr=e,Oa=s),i=e.pendingLanes,i===0&&(Mr=null),OC(n.stateNode),Rt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(La)throw La=!1,e=fd,fd=null,e;return Oa&1&&e.tag!==0&&ai(),i=e.pendingLanes,i&1?e===hd?ko++:(ko=0,hd=e):ko=0,Kr(),null}function ai(){if(Tr!==null){var e=Pw(Oa),t=Kt.transition,n=ue;try{if(Kt.transition=null,ue=16>e?16:e,Tr===null)var r=!1;else{if(e=Tr,Tr=null,Oa=0,re&6)throw Error(D(331));var s=re;for(re|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Co(8,c,i)}var p=c.child;if(p!==null)p.return=c,F=p;else for(;F!==null;){c=F;var m=c.sibling,x=c.return;if(F0(c),c===u){F=null;break}if(m!==null){m.return=x,F=m;break}F=x}}}var b=i.alternate;if(b!==null){var C=b.child;if(C!==null){b.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,F=f;break e}F=i.return}}var h=e.current;for(F=h;F!==null;){o=F;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,F=y;else e:for(o=h;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yu(9,l)}}catch(T){_e(l,l.return,T)}if(l===o){F=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,F=S;break e}F=l.return}}if(re=s,Kr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(au,e)}catch{}r=!0}return r}finally{ue=n,Kt.transition=t}}return!1}function Qp(e,t,n){t=Ti(n,t),t=P0(e,t,1),e=qr(e,t,1),t=ft(),e!==null&&(ml(e,1,t),Rt(e,t))}function _e(e,t,n){if(e.tag===3)Qp(e,e,n);else for(;t!==null;){if(t.tag===3){Qp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){e=Ti(n,e),e=A0(t,e,1),t=qr(t,e,1),e=ft(),t!==null&&(ml(t,1,e),Rt(t,e));break}}t=t.return}}function ak(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ye&n)===n&&(ze===4||ze===3&&(Ye&130023424)===Ye&&500>Ie()-Hf?vs(e,0):Wf|=n),Rt(e,t)}function Z0(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var n=ft();e=ir(e,t),e!==null&&(ml(e,t,n),Rt(e,n))}function uk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z0(e,n)}function ck(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Z0(e,n)}var eS;eS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,Y_(e,t,n);kt=!!(e.flags&131072)}else kt=!1,ye&&t.flags&1048576&&s0(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;na(e,t),e=t.pendingProps;var s=Ni(t,it.current);li(t,n),s=Bf(null,t,r,e,s,n);var i=zf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(i=!0,_a(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Of(t),s.updater=mu,t.stateNode=s,s._reactInternals=t,td(t,r,e,n),t=sd(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&Ef(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(na(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=fk(r),e=tn(r,e),s){case 0:t=rd(null,t,r,e,n);break e;case 1:t=Lp(null,t,r,e,n);break e;case 11:t=Pp(null,t,r,e,n);break e;case 14:t=Ap(null,t,r,tn(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),rd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),Lp(e,t,r,s,n);case 3:e:{if(M0(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,s=i.element,c0(e,t),Ra(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ti(Error(D(423)),t),t=Op(e,t,r,n,s);break e}else if(r!==s){s=Ti(Error(D(424)),t),t=Op(e,t,r,n,s);break e}else for(qt=Or(t.stateNode.containerInfo.firstChild),Mt=t,ye=!0,dn=null,n=a0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===s){t=or(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return d0(t),e===null&&Xc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Hc(r,s)?o=null:i!==null&&Hc(r,i)&&(t.flags|=32),q0(e,t),ct(e,t,o,n),t.child;case 6:return e===null&&Xc(t),null;case 13:return $0(e,t,n);case 4:return qf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ei(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),Pp(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,fe(Ia,r._currentValue),r._currentValue=o,i!==null)if(mn(i.value,o)){if(i.children===s.children&&!It.current){t=or(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=nr(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Zc(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,li(t,n),s=Jt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=tn(r,t.pendingProps),s=tn(r.type,s),Ap(e,t,r,s,n);case 15:return L0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),na(e,t),t.tag=1,Et(r)?(e=!0,_a(t)):e=!1,li(t,n),j0(t,r,s),td(t,r,s,n),sd(null,t,r,!0,e,n);case 19:return D0(e,t,n);case 22:return O0(e,t,n)}throw Error(D(156,t.tag))};function tS(e,t){return Ew(e,t)}function dk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new dk(e,t,n,r)}function Yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fk(e){if(typeof e=="function")return Yf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yf)return 11;if(e===gf)return 14}return 2}function Dr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ia(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Yf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fs:return ws(n.children,s,i,t);case mf:o=8,s|=8;break;case kc:return e=Ht(12,n,t,s|2),e.elementType=kc,e.lanes=i,e;case Nc:return e=Ht(13,n,t,s),e.elementType=Nc,e.lanes=i,e;case Ic:return e=Ht(19,n,t,s),e.elementType=Ic,e.lanes=i,e;case dw:return vu(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uw:o=10;break e;case cw:o=9;break e;case yf:o=11;break e;case gf:o=14;break e;case mr:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Ht(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ws(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function vu(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=dw,e.lanes=n,e.stateNode={isHidden:!1},e}function hc(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function pc(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hk(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ku(0),this.expirationTimes=Ku(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ku(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xf(e,t,n,r,s,i,o,l,a){return e=new hk(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(i),e}function pk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nS(e){if(!e)return Fr;e=e._reactInternals;e:{if(Os(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Et(n))return n0(e,n,t)}return t}function rS(e,t,n,r,s,i,o,l,a){return e=Xf(n,r,!0,e,s,i,o,l,a),e.context=nS(null),n=e.current,r=ft(),s=$r(n),i=nr(r,s),i.callback=t??null,qr(n,i,s),e.current.lanes=s,ml(e,s,r),Rt(e,r),e}function wu(e,t,n,r){var s=t.current,i=ft(),o=$r(s);return n=nS(n),t.context===null?t.context=n:t.pendingContext=n,t=nr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qr(s,t,o),e!==null&&(pn(e,s,o,i),Zl(e,s,o)),o}function Ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zf(e,t){Vp(e,t),(e=e.alternate)&&Vp(e,t)}function mk(){return null}var sS=typeof reportError=="function"?reportError:function(e){console.error(e)};function eh(e){this._internalRoot=e}Su.prototype.render=eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));wu(e,t,null,null)};Su.prototype.unmount=eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){wu(null,e,null,null)}),t[sr]=null}};function Su(e){this._internalRoot=e}Su.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ow();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&Mw(e)}};function th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function yk(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ma(o);i.call(u)}}var o=rS(t,r,e,0,null,!1,!1,"",Wp);return e._reactRootContainer=o,e[sr]=o.current,Mo(e.nodeType===8?e.parentNode:e),Es(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ma(a);l.call(u)}}var a=Xf(e,0,!1,null,null,!1,!1,"",Wp);return e._reactRootContainer=a,e[sr]=a.current,Mo(e.nodeType===8?e.parentNode:e),Es(function(){wu(t,a,n,r)}),a}function bu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Ma(o);l.call(a)}}wu(t,o,e,s)}else o=yk(n,t,e,s,r);return Ma(o)}Aw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=so(t.pendingLanes);n!==0&&(Sf(t,n|1),Rt(t,Ie()),!(re&6)&&(ji=Ie()+500,Kr()))}break;case 13:Es(function(){var r=ir(e,1);if(r!==null){var s=ft();pn(r,e,1,s)}}),Zf(e,1)}};xf=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var n=ft();pn(t,e,134217728,n)}Zf(e,134217728)}};Lw=function(e){if(e.tag===13){var t=$r(e),n=ir(e,t);if(n!==null){var r=ft();pn(n,e,t,r)}Zf(e,t)}};Ow=function(){return ue};qw=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Mc=function(e,t,n){switch(t){case"input":if(Tc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fu(r);if(!s)throw Error(D(90));hw(r),Tc(r,s)}}}break;case"textarea":mw(e,n);break;case"select":t=n.value,t!=null&&ri(e,!!n.multiple,t,!1)}};bw=Kf;Cw=Es;var gk={usingClientEntryPoint:!1,Events:[gl,Hs,fu,Sw,xw,Kf]},eo={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vk={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nw(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{au=zl.inject(vk),An=zl}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gk;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(t))throw Error(D(200));return pk(e,t,null,n)};Bt.createRoot=function(e,t){if(!th(e))throw Error(D(299));var n=!1,r="",s=sS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xf(e,1,!1,null,null,n,!1,r,s),e[sr]=t.current,Mo(e.nodeType===8?e.parentNode:e),new eh(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Nw(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return Es(e)};Bt.hydrate=function(e,t,n){if(!xu(t))throw Error(D(200));return bu(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!th(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rS(t,null,e,1,n??null,s,!1,i,o),e[sr]=t.current,Mo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Su(t)};Bt.render=function(e,t,n){if(!xu(t))throw Error(D(200));return bu(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!xu(e))throw Error(D(40));return e._reactRootContainer?(Es(function(){bu(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};Bt.unstable_batchedUpdates=Kf;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xu(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return bu(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(e){console.error(e)}}iS(),iw.exports=Bt;var wk=iw.exports,oS,Hp=wk;oS=Hp.createRoot,Hp.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const Kp="popstate";function Sk(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return yd("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:aS(s)}return bk(t,n,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xk(){return Math.random().toString(36).substr(2,8)}function Gp(e,t){return{usr:e.state,key:e.key,idx:t}}function yd(e,t,n,r){return n===void 0&&(n=null),Wo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bi(t):t,{state:n,key:t&&t.key||r||xk()})}function aS(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=jr.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Wo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function p(){l=jr.Pop;let R=c(),f=R==null?null:R-u;u=R,a&&a({action:l,location:C.location,delta:f})}function m(R,f){l=jr.Push;let h=yd(C.location,R,f);u=c()+1;let y=Gp(h,u),S=C.createHref(h);try{o.pushState(y,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(S)}i&&a&&a({action:l,location:C.location,delta:1})}function x(R,f){l=jr.Replace;let h=yd(C.location,R,f);u=c();let y=Gp(h,u),S=C.createHref(h);o.replaceState(y,"",S),i&&a&&a({action:l,location:C.location,delta:0})}function b(R){let f=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof R=="string"?R:aS(R);return h=h.replace(/ $/,"%20"),Ue(f,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,f)}let C={get action(){return l},get location(){return e(s,o)},listen(R){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Kp,p),a=R,()=>{s.removeEventListener(Kp,p),a=null}},createHref(R){return t(s,R)},createURL:b,encodeLocation(R){let f=b(R);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:x,go(R){return o.go(R)}};return C}var Jp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jp||(Jp={}));function Ck(e,t,n){return n===void 0&&(n="/"),_k(e,t,n)}function _k(e,t,n,r){let s=typeof t=="string"?Bi(t):t,i=dS(s.pathname||"/",n);if(i==null)return null;let o=uS(e);kk(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=Mk(i);l=Lk(o[a],u)}return l}function uS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Ue(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Ss([r,a.relativePath]),c=n.concat(a);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uS(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Pk(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of cS(i.path))s(i,o,a)}),t}function cS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=cS(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function kk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ak(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nk=/^:[\w-]+$/,Ik=3,Ek=2,Rk=1,Tk=10,jk=-2,Yp=e=>e==="*";function Pk(e,t){let n=e.split("/"),r=n.length;return n.some(Yp)&&(r+=jk),t&&(r+=Ek),n.filter(s=>!Yp(s)).reduce((s,i)=>s+(Nk.test(i)?Ik:i===""?Rk:Tk),r)}function Ak(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Lk(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",p=Ok({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),m=a.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ss([i,p.pathname]),pathnameBase:Fk(Ss([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Ss([i,p.pathnameBase]))}return o}function Ok(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,c,p)=>{let{paramName:m,isOptional:x}=c;if(m==="*"){let C=l[p]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const b=l[p];return x&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function qk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Mk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $k(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Bi(e):e;return{pathname:n?n.startsWith("/")?n:Dk(n,t):t,search:Qk(r),hash:Vk(s)}}function Dk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zk(e,t){let n=Bk(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uk(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Bi(e):(s=Wo({},e),Ue(!s.pathname||!s.pathname.includes("?"),mc("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),mc("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),mc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?t[p]:"/"}let a=$k(s,l),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Ss=e=>e.join("/").replace(/\/\/+/g,"/"),Fk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fS=["post","put","patch","delete"];new Set(fS);const Hk=["get",...fS];new Set(Hk);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(this,arguments)}const nh=w.createContext(null),Kk=w.createContext(null),Cu=w.createContext(null),_u=w.createContext(null),zi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),hS=w.createContext(null);function ku(){return w.useContext(_u)!=null}function pS(){return ku()||Ue(!1),w.useContext(_u).location}function mS(e){w.useContext(Cu).static||w.useLayoutEffect(e)}function yS(){let{isDataRoute:e}=w.useContext(zi);return e?lN():Gk()}function Gk(){ku()||Ue(!1);let e=w.useContext(nh),{basename:t,future:n,navigator:r}=w.useContext(Cu),{matches:s}=w.useContext(zi),{pathname:i}=pS(),o=JSON.stringify(zk(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return mS(()=>{l.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=Uk(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ss([t,p.pathname])),(c.replace?r.replace:r.push)(p,c.state,c)},[t,r,o,i,e])}function Jk(e,t){return Yk(e,t)}function Yk(e,t,n,r){ku()||Ue(!1);let{navigator:s}=w.useContext(Cu),{matches:i}=w.useContext(zi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=pS(),c;if(t){var p;let R=typeof t=="string"?Bi(t):t;a==="/"||(p=R.pathname)!=null&&p.startsWith(a)||Ue(!1),c=R}else c=u;let m=c.pathname||"/",x=m;if(a!=="/"){let R=a.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=Ck(e,{pathname:x}),C=nN(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:Ss([a,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?a:Ss([a,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,n,r);return t&&C?w.createElement(_u.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jr.Pop}},C):C}function Xk(){let e=oN(),t=Wk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const Zk=w.createElement(Xk,null);class eN extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(zi.Provider,{value:this.props.routeContext},w.createElement(hS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tN(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(nh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(zi.Provider,{value:t},r)}function nN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let c=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);c>=0||Ue(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let p=o[c];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=c),p.route.id){let{loaderData:m,errors:x}=n,b=p.route.loader&&m[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,p,m)=>{let x,b=!1,C=null,R=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||Zk,a&&(u<0&&m===0?(aN("route-fallback"),b=!0,R=null):u===m&&(b=!0,R=p.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,m+1)),h=()=>{let y;return x?y=C:b?y=R:p.route.Component?y=w.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=c,w.createElement(tN,{match:p,routeContext:{outlet:c,matches:f,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?w.createElement(eN,{location:n.location,revalidation:n.revalidation,component:C,error:x,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var gS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gS||{}),vS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vS||{});function rN(e){let t=w.useContext(nh);return t||Ue(!1),t}function sN(e){let t=w.useContext(Kk);return t||Ue(!1),t}function iN(e){let t=w.useContext(zi);return t||Ue(!1),t}function wS(e){let t=iN(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function oN(){var e;let t=w.useContext(hS),n=sN(),r=wS();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lN(){let{router:e}=rN(gS.UseNavigateStable),t=wS(vS.UseNavigateStable),n=w.useRef(!1);return mS(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ho({fromRouteId:t},i)))},[e,t])}const Xp={};function aN(e,t,n){Xp[e]||(Xp[e]=!0)}function oo(e){Ue(!1)}function uN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:l}=e;ku()&&Ue(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:i,static:o,future:Ho({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=Bi(r));let{pathname:c="/",search:p="",hash:m="",state:x=null,key:b="default"}=r,C=w.useMemo(()=>{let R=dS(c,a);return R==null?null:{location:{pathname:R,search:p,hash:m,state:x,key:b},navigationType:s}},[a,c,p,m,x,b,s]);return C==null?null:w.createElement(Cu.Provider,{value:u},w.createElement(_u.Provider,{children:n,value:C}))}function cN(e){let{children:t,location:n}=e;return Jk(gd(t),n)}new Promise(()=>{});function gd(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,gd(r.props.children,i));return}r.type!==oo&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const dN="6";try{window.__reactRouterVersion=dN}catch{}const fN="startTransition",Zp=df[fN];function hN(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=Sk({window:s,v5Compat:!0}));let o=i.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=w.useCallback(p=>{u&&Zp?Zp(()=>a(p)):a(p)},[a,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.createElement(uN,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var em;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(em||(em={}));var tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tm||(tm={}));const nm=13,pN=7;function rh(e,t){const n=t.getFullYear(),r=t.getMonth(),s=t.getDate(),i=new Date(n,r,s-1,nm,0,0,0),o=new Date(n,r,s,pN,0,0,0),l=new Date(n,r,s,nm,0,0,0);return e<i?"pre_window":e>=i&&e<o?"prep_window":e>=o&&e<l?"locked":"post_locked_prep"}function SS(){return xS(new Date)}function mN(){const e=new Date;return e.setDate(e.getDate()+1),xS(e)}function rm(e){return e<10?"0"+e:String(e)}function xS(e){return e.getFullYear()+"-"+rm(e.getMonth()+1)+"-"+rm(e.getDate())}function bS(e){const t=SS();return e<t}function yN(e){if(!e)return{expired:!1,phase:null};if(bS(e))return{expired:!0,phase:null};const t=e.split("-").map(Number);return{expired:!1,phase:rh(new Date,new Date(t[0],t[1]-1,t[2]))}}function CS(e){const t=localStorage.getItem("activeTargetDate"),n=localStorage.getItem("activeTemplateId"),r=localStorage.getItem("activeChildId");if(!t)return{cleared:!1,phase:null,targetDateIso:null};if(!n||!r)return o(),{cleared:!0,phase:null,targetDateIso:null};if(bS(t))return o(),{cleared:!0,phase:null,targetDateIso:null};const s=t.split("-").map(Number),i=rh(new Date,new Date(s[0],s[1]-1,s[2]));if(i==="post_locked_prep")return o(),{cleared:!0,phase:null,targetDateIso:null};return{cleared:!1,phase:i,targetDateIso:t};function o(){const l=localStorage.getItem("activeChecklistInstanceId");l&&localStorage.removeItem("subjectOnlyStates:"+l),localStorage.removeItem("activeTemplateId"),localStorage.removeItem("activeTargetDate"),e.clearChild&&localStorage.removeItem("activeChildId"),localStorage.removeItem("activeChecklistInstanceId")}}const M=Symbol.for("drizzle:entityKind");function q(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,M))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(M in n&&n[M]===t[M])return!0;n=Object.getPrototypeOf(n)}return!1}var Om;Om=M;class Ae{constructor(t,n){g(this,"name");g(this,"keyAsName");g(this,"primary");g(this,"notNull");g(this,"default");g(this,"defaultFn");g(this,"onUpdateFn");g(this,"hasDefault");g(this,"isUnique");g(this,"uniqueName");g(this,"uniqueType");g(this,"dataType");g(this,"columnType");g(this,"enumValues");g(this,"generated");g(this,"generatedIdentity");g(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}g(Ae,Om,"Column");var qm;qm=M;class _S{constructor(t,n,r){g(this,"config");g(this,"$default",this.$defaultFn);g(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}g(_S,qm,"ColumnBuilder");const Br=Symbol.for("drizzle:Name"),sm=Symbol.for("drizzle:isPgEnum");function gN(e){return!!e&&typeof e=="function"&&sm in e&&e[sm]===!0}var Mm;Mm=M;class Dt{constructor(t,n,r,s=!1,i=[]){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:s,usedTables:i}}}g(Dt,Mm,"Subquery");var $m,Dm;class sh extends(Dm=Dt,$m=M,Dm){}g(sh,$m,"WithSubquery");const vN={startActiveSpan(e,t){return t()}},st=Symbol.for("drizzle:ViewBaseConfig"),oa=Symbol.for("drizzle:Schema"),vd=Symbol.for("drizzle:Columns"),im=Symbol.for("drizzle:ExtraConfigColumns"),yc=Symbol.for("drizzle:OriginalName"),gc=Symbol.for("drizzle:BaseName"),$a=Symbol.for("drizzle:IsAlias"),om=Symbol.for("drizzle:ExtraConfigBuilder"),wN=Symbol.for("drizzle:IsDrizzleTable");var Bm,zm,Um,Fm,Qm,Vm,Wm,Hm,Km,Gm;Gm=M,Km=Br,Hm=yc,Wm=oa,Vm=vd,Qm=im,Fm=gc,Um=$a,zm=wN,Bm=om;class U{constructor(t,n,r){g(this,Km);g(this,Hm);g(this,Wm);g(this,Vm);g(this,Qm);g(this,Fm);g(this,Um,!1);g(this,zm,!0);g(this,Bm);this[Br]=this[yc]=t,this[oa]=n,this[gc]=r}}g(U,Gm,"Table"),g(U,"Symbol",{Name:Br,Schema:oa,OriginalName:yc,Columns:vd,ExtraConfigColumns:im,BaseName:gc,IsAlias:$a,ExtraConfigBuilder:om});function ei(e){return e[Br]}function Ko(e){return`${e[oa]??"public"}.${e[Br]}`}function kS(e){return e!=null&&typeof e.getSQL=="function"}function SN(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var Jm;Jm=M;class Qe{constructor(t){g(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new H([this])}}g(Qe,Jm,"StringChunk");var Ym;Ym=M;const ns=class ns{constructor(t){g(this,"decoder",NS);g(this,"shouldInlineParams",!1);g(this,"usedTables",[]);this.queryChunks=t;for(const n of t)if(q(n,U)){const r=n[U.Symbol.Schema];this.usedTables.push(r===void 0?n[U.Symbol.Name]:r+"."+n[U.Symbol.Name])}}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return vN.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:a,paramStartIndex:u}=r;return SN(t.map(c=>{var p;if(q(c,Qe))return{sql:c.value.join(""),params:[]};if(q(c,Da))return{sql:i(c.value),params:[]};if(c===void 0)return{sql:"",params:[]};if(Array.isArray(c)){const m=[new Qe("(")];for(const[x,b]of c.entries())m.push(b),x<c.length-1&&m.push(new Qe(", "));return m.push(new Qe(")")),this.buildQueryFromSourceParams(m,r)}if(q(c,ns))return this.buildQueryFromSourceParams(c.queryChunks,{...r,inlineParams:a||c.shouldInlineParams});if(q(c,U)){const m=c[U.Symbol.Schema],x=c[U.Symbol.Name];return{sql:m===void 0||c[$a]?i(x):i(m)+"."+i(x),params:[]}}if(q(c,Ae)){const m=s.getColumnCasing(c);if(n.invokeSource==="indexes")return{sql:i(m),params:[]};const x=c.table[U.Symbol.Schema];return{sql:c.table[$a]||x===void 0?i(c.table[U.Symbol.Name])+"."+i(m):i(x)+"."+i(c.table[U.Symbol.Name])+"."+i(m),params:[]}}if(q(c,qs)){const m=c[st].schema,x=c[st].name;return{sql:m===void 0||c[st].isAlias?i(x):i(m)+"."+i(x),params:[]}}if(q(c,lr)){if(q(c.value,Rs))return{sql:o(u.value++,c),params:[c],typings:["none"]};const m=c.value===null?null:c.encoder.mapToDriverValue(c.value);if(q(m,ns))return this.buildQueryFromSourceParams([m],r);if(a)return{sql:this.mapInlineParam(m,r),params:[]};let x=["none"];return l&&(x=[l(c.encoder)]),{sql:o(u.value++,m),params:[m],typings:x}}return q(c,Rs)?{sql:o(u.value++,c),params:[c],typings:["none"]}:q(c,ns.Aliased)&&c.fieldAlias!==void 0?{sql:i(c.fieldAlias),params:[]}:q(c,Dt)?c._.isWith?{sql:i(c._.alias),params:[]}:this.buildQueryFromSourceParams([new Qe("("),c._.sql,new Qe(") "),new Da(c._.alias)],r):gN(c)?c.schema?{sql:i(c.schema)+"."+i(c.enumName),params:[]}:{sql:i(c.enumName),params:[]}:kS(c)?(p=c.shouldOmitSQLParens)!=null&&p.call(c)?this.buildQueryFromSourceParams([c.getSQL()],r):this.buildQueryFromSourceParams([new Qe("("),c.getSQL(),new Qe(")")],r):a?{sql:this.mapInlineParam(c,r),params:[]}:{sql:o(u.value++,c),params:[c],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new ns.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};g(ns,Ym,"SQL");let H=ns;var Xm;Xm=M;class Da{constructor(t){g(this,"brand");this.value=t}getSQL(){return new H([this])}}g(Da,Xm,"Name");function xN(e){return typeof e=="object"&&e!==null&&"mapToDriverValue"in e&&typeof e.mapToDriverValue=="function"}const NS={mapFromDriverValue:e=>e},IS={mapToDriverValue:e=>e};({...NS,...IS});var Zm;Zm=M;class lr{constructor(t,n=IS){g(this,"brand");this.value=t,this.encoder=n}getSQL(){return new H([this])}}g(lr,Zm,"Param");function _(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Qe(e[0]));for(const[r,s]of t.entries())n.push(s,new Qe(e[r+1]));return new H(n)}(e=>{function t(){return new H([])}e.empty=t;function n(a){return new H(a)}e.fromList=n;function r(a){return new H([new Qe(a)])}e.raw=r;function s(a,u){const c=[];for(const[p,m]of a.entries())p>0&&u!==void 0&&c.push(u),c.push(m);return new H(c)}e.join=s;function i(a){return new Da(a)}e.identifier=i;function o(a){return new Rs(a)}e.placeholder=o;function l(a,u){return new lr(a,u)}e.param=l})(_||(_={}));(e=>{var n;n=M;const r=class r{constructor(i,o){g(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};g(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(H||(H={}));var ey;ey=M;class Rs{constructor(t){this.name=t}getSQL(){return new H([this])}}g(Rs,ey,"Placeholder");function Ul(e,t){return e.map(n=>{if(q(n,Rs)){if(!(n.name in t))throw new Error(`No value for placeholder "${n.name}" was provided`);return t[n.name]}if(q(n,lr)&&q(n.value,Rs)){if(!(n.value.name in t))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(t[n.value.name])}return n})}const bN=Symbol.for("drizzle:IsDrizzleView");var ty,ny,ry;ry=M,ny=st,ty=bN;class qs{constructor({name:t,schema:n,selectedFields:r,query:s}){g(this,ny);g(this,ty,!0);this[st]={name:t,originalName:t,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new H([this])}}g(qs,ry,"View");Ae.prototype.getSQL=function(){return new H([this])};U.prototype.getSQL=function(){return new H([this])};Dt.prototype.getSQL=function(){return new H([this])};var sy;sy=M;class Go{constructor(t){this.table=t}get(t,n){return n==="table"?this.table:t[n]}}g(Go,sy,"ColumnAliasProxyHandler");var iy;iy=M;class Nu{constructor(t,n){this.alias=t,this.replaceOriginalName=n}get(t,n){if(n===U.Symbol.IsAlias)return!0;if(n===U.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===U.Symbol.OriginalName)return this.alias;if(n===st)return{...t[st],name:this.alias,isAlias:!0};if(n===U.Symbol.Columns){const s=t[U.Symbol.Columns];if(!s)return s;const i={};return Object.keys(s).map(o=>{i[o]=new Proxy(s[o],new Go(new Proxy(t,this)))}),i}const r=t[n];return q(r,Ae)?new Proxy(r,new Go(new Proxy(t,this))):r}}g(Nu,iy,"TableAliasProxyHandler");function vc(e,t){return new Proxy(e,new Nu(t,!1))}function Mn(e,t){return new Proxy(e,new Go(new Proxy(e.table,new Nu(t,!1))))}function ES(e,t){return new H.Aliased(Ba(e.sql,t),e.fieldAlias)}function Ba(e,t){return _.join(e.queryChunks.map(n=>q(n,Ae)?Mn(n,t):q(n,H)?Ba(n,t):q(n,H.Aliased)?ES(n,t):n))}var oy,ly;class Iu extends(ly=Error,oy=M,ly){constructor({message:t,cause:n}){super(t),this.name="DrizzleError",this.cause=n}}g(Iu,oy,"DrizzleError");class gr extends Error{constructor(t,n,r){super(`Failed query: ${t}
params: ${n}`),this.query=t,this.params=n,this.cause=r,Error.captureStackTrace(this,gr),r&&(this.cause=r)}}var ay,uy;class RS extends(uy=Iu,ay=M,uy){constructor(){super({message:"Rollback"})}}g(RS,ay,"TransactionRollbackError");var cy;cy=M;class TS{write(t){console.log(t)}}g(TS,cy,"ConsoleLogWriter");var dy;dy=M;class jS{constructor(t){g(this,"writer");this.writer=(t==null?void 0:t.writer)??new TS}logQuery(t,n){const r=n.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),s=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${t}${s}`)}}g(jS,dy,"DefaultLogger");var fy;fy=M;class PS{logQuery(){}}g(PS,fy,"NoopLogger");var hy,py;py=M,hy=Symbol.toStringTag;class Gr{constructor(){g(this,hy,"QueryPromise")}catch(t){return this.then(void 0,t)}finally(t){return this.then(n=>(t==null||t(),n),n=>{throw t==null||t(),n})}then(t,n){return this.execute().then(t,n)}}g(Gr,py,"QueryPromise");function lm(e,t,n){const r={},s=e.reduce((i,{path:o,field:l},a)=>{let u;q(l,Ae)?u=l:q(l,H)?u=l.decoder:u=l.sql.decoder;let c=i;for(const[p,m]of o.entries())if(p<o.length-1)m in c||(c[m]={}),c=c[m];else{const x=t[a],b=c[m]=x===null?null:u.mapFromDriverValue(x);if(n&&q(l,Ae)&&o.length===2){const C=o[0];C in r?typeof r[C]=="string"&&r[C]!==ei(l.table)&&(r[C]=!1):r[C]=b===null?ei(l.table):!1}}return i},{});if(n&&Object.keys(r).length>0)for(const[i,o]of Object.entries(r))typeof o=="string"&&!n[o]&&(s[i]=null);return s}function Ts(e,t){return Object.entries(e).reduce((n,[r,s])=>{if(typeof r!="string")return n;const i=t?[...t,r]:[r];return q(s,Ae)||q(s,H)||q(s,H.Aliased)?n.push({path:i,field:s}):q(s,U)?n.push(...Ts(s[U.Symbol.Columns],i)):n.push(...Ts(s,i)),n},[])}function ih(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const[s,i]of n.entries())if(i!==r[s])return!1;return!0}function AS(e,t){const n=Object.entries(t).filter(([,r])=>r!==void 0).map(([r,s])=>q(s,H)||q(s,Ae)?[r,s]:[r,new lr(s,e[U.Symbol.Columns][r])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function CN(e,t){for(const n of t)for(const r of Object.getOwnPropertyNames(n.prototype))r!=="constructor"&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))}function _N(e){return e[U.Symbol.Columns]}function wd(e){return q(e,Dt)?e._.alias:q(e,qs)?e[st].name:q(e,H)?void 0:e[U.Symbol.IsAlias]?e[U.Symbol.Name]:e[U.Symbol.BaseName]}function wl(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}function kN(e){if(typeof e!="object"||e===null||e.constructor.name!=="Object")return!1;if("logger"in e){const t=typeof e.logger;return!(t!=="boolean"&&(t!=="object"||typeof e.logger.logQuery!="function")&&t!=="undefined")}if("schema"in e){const t=typeof e.schema;return!(t!=="object"&&t!=="undefined")}if("casing"in e){const t=typeof e.casing;return!(t!=="string"&&t!=="undefined")}if("mode"in e)return!(e.mode!=="default"||e.mode!=="planetscale"||e.mode!==void 0);if("connection"in e){const t=typeof e.connection;return!(t!=="string"&&t!=="object"&&t!=="undefined")}if("client"in e){const t=typeof e.client;return!(t!=="object"&&t!=="function"&&t!=="undefined")}return Object.keys(e).length===0}const LS=typeof TextDecoder>"u"?null:new TextDecoder,am=Symbol.for("drizzle:PgInlineForeignKeys"),um=Symbol.for("drizzle:EnableRLS");var my,yy,gy,vy,wy,Sy;class Sd extends(Sy=U,wy=M,vy=am,gy=um,yy=U.Symbol.ExtraConfigBuilder,my=U.Symbol.ExtraConfigColumns,Sy){constructor(){super(...arguments);g(this,vy,[]);g(this,gy,!1);g(this,yy);g(this,my,{})}}g(Sd,wy,"PgTable"),g(Sd,"Symbol",Object.assign({},U.Symbol,{InlineForeignKeys:am,EnableRLS:um}));var xy;xy=M;class OS{constructor(t,n){g(this,"columns");g(this,"name");this.columns=t,this.name=n}build(t){return new qS(t,this.columns,this.name)}}g(OS,xy,"PgPrimaryKeyBuilder");var by;by=M;class qS{constructor(t,n,r){g(this,"columns");g(this,"name");this.table=t,this.columns=n,this.name=r}getName(){return this.name??`${this.table[Sd.Symbol.Name]}_${this.columns.map(t=>t.name).join("_")}_pk`}}g(qS,by,"PgPrimaryKey");function Tt(e,t){return xN(t)&&!kS(e)&&!q(e,lr)&&!q(e,Rs)&&!q(e,Ae)&&!q(e,U)&&!q(e,qs)?new lr(e,t):e}const J=(e,t)=>_`${e} = ${Tt(t,e)}`,NN=(e,t)=>_`${e} <> ${Tt(t,e)}`;function Xt(...e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?new H(t):new H([new Qe("("),_.join(t,new Qe(" and ")),new Qe(")")])}function IN(...e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?new H(t):new H([new Qe("("),_.join(t,new Qe(" or ")),new Qe(")")])}function EN(e){return _`not ${e}`}const RN=(e,t)=>_`${e} > ${Tt(t,e)}`,TN=(e,t)=>_`${e} >= ${Tt(t,e)}`,jN=(e,t)=>_`${e} < ${Tt(t,e)}`,MS=(e,t)=>_`${e} <= ${Tt(t,e)}`;function xd(e,t){return Array.isArray(t)?t.length===0?_`false`:_`${e} in ${t.map(n=>Tt(n,e))}`:_`${e} in ${Tt(t,e)}`}function PN(e,t){return Array.isArray(t)?t.length===0?_`true`:_`${e} not in ${t.map(n=>Tt(n,e))}`:_`${e} not in ${Tt(t,e)}`}function AN(e){return _`${e} is null`}function LN(e){return _`${e} is not null`}function ON(e){return _`exists ${e}`}function qN(e){return _`not exists ${e}`}function MN(e,t,n){return _`${e} between ${Tt(t,e)} and ${Tt(n,e)}`}function $N(e,t,n){return _`${e} not between ${Tt(t,e)} and ${Tt(n,e)}`}function DN(e,t){return _`${e} like ${t}`}function BN(e,t){return _`${e} not like ${t}`}function zN(e,t){return _`${e} ilike ${t}`}function UN(e,t){return _`${e} not ilike ${t}`}function FN(e){return _`${e} asc`}function oh(e){return _`${e} desc`}var Cy;Cy=M;class lh{constructor(t,n,r){g(this,"referencedTableName");g(this,"fieldName");this.sourceTable=t,this.referencedTable=n,this.relationName=r,this.referencedTableName=n[U.Symbol.Name]}}g(lh,Cy,"Relation");var _y;_y=M;class $S{constructor(t,n){this.table=t,this.config=n}}g($S,_y,"Relations");var ky,Ny;const Xa=class Xa extends(Ny=lh,ky=M,Ny){constructor(t,n,r,s){super(t,n,r==null?void 0:r.relationName),this.config=r,this.isNullable=s}withFieldName(t){const n=new Xa(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=t,n}};g(Xa,ky,"One");let js=Xa;var Iy,Ey;const Za=class Za extends(Ey=lh,Iy=M,Ey){constructor(t,n,r){super(t,n,r==null?void 0:r.relationName),this.config=r}withFieldName(t){const n=new Za(this.sourceTable,this.referencedTable,this.config);return n.fieldName=t,n}};g(Za,Iy,"Many");let za=Za;function QN(){return{and:Xt,between:MN,eq:J,exists:ON,gt:RN,gte:TN,ilike:zN,inArray:xd,isNull:AN,isNotNull:LN,like:DN,lt:jN,lte:MS,ne:NN,not:EN,notBetween:$N,notExists:qN,notLike:BN,notIlike:UN,notInArray:PN,or:IN,sql:_}}function VN(){return{sql:_,asc:FN,desc:oh}}function WN(e,t){var i;Object.keys(e).length===1&&"default"in e&&!q(e.default,U)&&(e=e.default);const n={},r={},s={};for(const[o,l]of Object.entries(e))if(q(l,U)){const a=Ko(l),u=r[a];n[a]=o,s[o]={tsName:o,dbName:l[U.Symbol.Name],schema:l[U.Symbol.Schema],columns:l[U.Symbol.Columns],relations:(u==null?void 0:u.relations)??{},primaryKey:(u==null?void 0:u.primaryKey)??[]};for(const p of Object.values(l[U.Symbol.Columns]))p.primary&&s[o].primaryKey.push(p);const c=(i=l[U.Symbol.ExtraConfigBuilder])==null?void 0:i.call(l,l[U.Symbol.ExtraConfigColumns]);if(c)for(const p of Object.values(c))q(p,OS)&&s[o].primaryKey.push(...p.columns)}else if(q(l,$S)){const a=Ko(l.table),u=n[a],c=l.config(t(l.table));let p;for(const[m,x]of Object.entries(c))if(u){const b=s[u];b.relations[m]=x}else a in r||(r[a]={relations:{},primaryKey:p}),r[a].relations[m]=x}return{tables:s,tableNamesMap:n}}function HN(e){return function(n,r){return new js(e,n,r,(r==null?void 0:r.fields.reduce((s,i)=>s&&i.notNull,!0))??!1)}}function KN(e){return function(n,r){return new za(e,n,r)}}function GN(e,t,n){if(q(n,js)&&n.config)return{fields:n.config.fields,references:n.config.references};const r=t[Ko(n.referencedTable)];if(!r)throw new Error(`Table "${n.referencedTable[U.Symbol.Name]}" not found in schema`);const s=e[r];if(!s)throw new Error(`Table "${r}" not found in schema`);const i=n.sourceTable,o=t[Ko(i)];if(!o)throw new Error(`Table "${i[U.Symbol.Name]}" not found in schema`);const l=[];for(const a of Object.values(s.relations))(n.relationName&&n!==a&&a.relationName===n.relationName||!n.relationName&&a.referencedTable===n.sourceTable)&&l.push(a);if(l.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${r}"`):new Error(`There are multiple relations between "${r}" and "${n.sourceTable[U.Symbol.Name]}". Please specify relation name`);if(l[0]&&q(l[0],js)&&l[0].config)return{fields:l[0].config.references,references:l[0].config.fields};throw new Error(`There is not enough information to infer relation "${o}.${n.fieldName}"`)}function JN(e){return{one:HN(e),many:KN(e)}}function bd(e,t,n,r,s=i=>i){const i={};for(const[o,l]of r.entries())if(l.isJson){const a=t.relations[l.tsKey],u=n[o],c=typeof u=="string"?JSON.parse(u):u;i[l.tsKey]=q(a,js)?c&&bd(e,e[l.relationTableTsKey],c,l.selection,s):c.map(p=>bd(e,e[l.relationTableTsKey],p,l.selection,s))}else{const a=s(n[o]),u=l.field;let c;q(u,Ae)?c=u:q(u,H)?c=u.decoder:c=u.sql.decoder,i[l.tsKey]=a===null?null:c.mapFromDriverValue(a)}return i}var Ry;Ry=M;class DS{constructor(t,n){g(this,"reference");g(this,"_onUpdate");g(this,"_onDelete");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=t();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t,this}onDelete(t){return this._onDelete=t,this}build(t){return new BS(t,this)}}g(DS,Ry,"SQLiteForeignKeyBuilder");var Ty;Ty=M;class BS{constructor(t,n){g(this,"reference");g(this,"onUpdate");g(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),s=n.map(l=>l.name),i=r.map(l=>l.name),o=[this.table[Br],...s,r[0].table[Br],...i];return t??`${o.join("_")}_fk`}}g(BS,Ty,"SQLiteForeignKey");function YN(e,t){return`${e[Br]}_${t.join("_")}_unique`}var jy,Py;class Zt extends(Py=_S,jy=M,Py){constructor(){super(...arguments);g(this,"foreignKeyConfigs",[])}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n){return this.config.isUnique=!0,this.config.uniqueName=n,this}generatedAlwaysAs(n,r){return this.config.generated={as:n,type:"always",mode:(r==null?void 0:r.mode)??"virtual"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>((o,l)=>{const a=new DS(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&a.onUpdate(l.onUpdate),l.onDelete&&a.onDelete(l.onDelete),a.build(r)})(s,i))}}g(Zt,jy,"SQLiteColumnBuilder");var Ay,Ly;class ht extends(Ly=Ae,Ay=M,Ly){constructor(t,n){n.uniqueName||(n.uniqueName=YN(t,[n.name])),super(t,n),this.table=t}}g(ht,Ay,"SQLiteColumn");var Oy,qy;class zS extends(qy=Zt,Oy=M,qy){constructor(t){super(t,"bigint","SQLiteBigInt")}build(t){return new US(t,this.config)}}g(zS,Oy,"SQLiteBigIntBuilder");var My,$y;class US extends($y=ht,My=M,$y){getSQLType(){return"blob"}mapFromDriverValue(t){if(typeof Buffer<"u"&&Buffer.from){const n=Buffer.isBuffer(t)?t:t instanceof ArrayBuffer?Buffer.from(t):t.buffer?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(t);return BigInt(n.toString("utf8"))}return BigInt(LS.decode(t))}mapToDriverValue(t){return Buffer.from(t.toString())}}g(US,My,"SQLiteBigInt");var Dy,By;class FS extends(By=Zt,Dy=M,By){constructor(t){super(t,"json","SQLiteBlobJson")}build(t){return new QS(t,this.config)}}g(FS,Dy,"SQLiteBlobJsonBuilder");var zy,Uy;class QS extends(Uy=ht,zy=M,Uy){getSQLType(){return"blob"}mapFromDriverValue(t){if(typeof Buffer<"u"&&Buffer.from){const n=Buffer.isBuffer(t)?t:t instanceof ArrayBuffer?Buffer.from(t):t.buffer?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(t);return JSON.parse(n.toString("utf8"))}return JSON.parse(LS.decode(t))}mapToDriverValue(t){return Buffer.from(JSON.stringify(t))}}g(QS,zy,"SQLiteBlobJson");var Fy,Qy;class VS extends(Qy=Zt,Fy=M,Qy){constructor(t){super(t,"buffer","SQLiteBlobBuffer")}build(t){return new WS(t,this.config)}}g(VS,Fy,"SQLiteBlobBufferBuilder");var Vy,Wy;class WS extends(Wy=ht,Vy=M,Wy){mapFromDriverValue(t){return Buffer.isBuffer(t)?t:Buffer.from(t)}getSQLType(){return"blob"}}g(WS,Vy,"SQLiteBlobBuffer");function XN(e,t){const{name:n,config:r}=wl(e,t);return(r==null?void 0:r.mode)==="json"?new FS(n):(r==null?void 0:r.mode)==="bigint"?new zS(n):new VS(n)}var Hy,Ky;class HS extends(Ky=Zt,Hy=M,Ky){constructor(t,n,r){super(t,"custom","SQLiteCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new KS(t,this.config)}}g(HS,Hy,"SQLiteCustomColumnBuilder");var Gy,Jy;class KS extends(Jy=ht,Gy=M,Jy){constructor(n,r){super(n,r);g(this,"sqlName");g(this,"mapTo");g(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}g(KS,Gy,"SQLiteCustomColumn");function ZN(e){return(t,n)=>{const{name:r,config:s}=wl(t,n);return new HS(r,s,e)}}var Yy,Xy;class Eu extends(Xy=Zt,Yy=M,Xy){constructor(t,n,r){super(t,n,r),this.config.autoIncrement=!1}primaryKey(t){return t!=null&&t.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}g(Eu,Yy,"SQLiteBaseIntegerBuilder");var Zy,eg;class Ru extends(eg=ht,Zy=M,eg){constructor(){super(...arguments);g(this,"autoIncrement",this.config.autoIncrement)}getSQLType(){return"integer"}}g(Ru,Zy,"SQLiteBaseInteger");var tg,ng;class GS extends(ng=Eu,tg=M,ng){constructor(t){super(t,"number","SQLiteInteger")}build(t){return new JS(t,this.config)}}g(GS,tg,"SQLiteIntegerBuilder");var rg,sg;class JS extends(sg=Ru,rg=M,sg){}g(JS,rg,"SQLiteInteger");var ig,og;class YS extends(og=Eu,ig=M,og){constructor(t,n){super(t,"date","SQLiteTimestamp"),this.config.mode=n}defaultNow(){return this.default(_`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(t){return new XS(t,this.config)}}g(YS,ig,"SQLiteTimestampBuilder");var lg,ag;class XS extends(ag=Ru,lg=M,ag){constructor(){super(...arguments);g(this,"mode",this.config.mode)}mapFromDriverValue(n){return this.config.mode==="timestamp"?new Date(n*1e3):new Date(n)}mapToDriverValue(n){const r=n.getTime();return this.config.mode==="timestamp"?Math.floor(r/1e3):r}}g(XS,lg,"SQLiteTimestamp");var ug,cg;class ZS extends(cg=Eu,ug=M,cg){constructor(t,n){super(t,"boolean","SQLiteBoolean"),this.config.mode=n}build(t){return new ex(t,this.config)}}g(ZS,ug,"SQLiteBooleanBuilder");var dg,fg;class ex extends(fg=Ru,dg=M,fg){constructor(){super(...arguments);g(this,"mode",this.config.mode)}mapFromDriverValue(n){return Number(n)===1}mapToDriverValue(n){return n?1:0}}g(ex,dg,"SQLiteBoolean");function ae(e,t){const{name:n,config:r}=wl(e,t);return(r==null?void 0:r.mode)==="timestamp"||(r==null?void 0:r.mode)==="timestamp_ms"?new YS(n,r.mode):(r==null?void 0:r.mode)==="boolean"?new ZS(n,r.mode):new GS(n)}var hg,pg;class tx extends(pg=Zt,hg=M,pg){constructor(t){super(t,"string","SQLiteNumeric")}build(t){return new nx(t,this.config)}}g(tx,hg,"SQLiteNumericBuilder");var mg,yg;class nx extends(yg=ht,mg=M,yg){mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return"numeric"}}g(nx,mg,"SQLiteNumeric");var gg,vg;class rx extends(vg=Zt,gg=M,vg){constructor(t){super(t,"number","SQLiteNumericNumber")}build(t){return new sx(t,this.config)}}g(rx,gg,"SQLiteNumericNumberBuilder");var wg,Sg;class sx extends(Sg=ht,wg=M,Sg){constructor(){super(...arguments);g(this,"mapToDriverValue",String)}mapFromDriverValue(n){return typeof n=="number"?n:Number(n)}getSQLType(){return"numeric"}}g(sx,wg,"SQLiteNumericNumber");var xg,bg;class ix extends(bg=Zt,xg=M,bg){constructor(t){super(t,"bigint","SQLiteNumericBigInt")}build(t){return new ox(t,this.config)}}g(ix,xg,"SQLiteNumericBigIntBuilder");var Cg,_g;class ox extends(_g=ht,Cg=M,_g){constructor(){super(...arguments);g(this,"mapFromDriverValue",BigInt);g(this,"mapToDriverValue",String)}getSQLType(){return"numeric"}}g(ox,Cg,"SQLiteNumericBigInt");function eI(e,t){const{name:n,config:r}=wl(e,t),s=r==null?void 0:r.mode;return s==="number"?new rx(n):s==="bigint"?new ix(n):new tx(n)}var kg,Ng;class lx extends(Ng=Zt,kg=M,Ng){constructor(t){super(t,"number","SQLiteReal")}build(t){return new ax(t,this.config)}}g(lx,kg,"SQLiteRealBuilder");var Ig,Eg;class ax extends(Eg=ht,Ig=M,Eg){getSQLType(){return"real"}}g(ax,Ig,"SQLiteReal");function tI(e){return new lx(e??"")}var Rg,Tg;class ux extends(Tg=Zt,Rg=M,Tg){constructor(t,n){super(t,"string","SQLiteText"),this.config.enumValues=n.enum,this.config.length=n.length}build(t){return new cx(t,this.config)}}g(ux,Rg,"SQLiteTextBuilder");var jg,Pg;class cx extends(Pg=ht,jg=M,Pg){constructor(n,r){super(n,r);g(this,"enumValues",this.config.enumValues);g(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}g(cx,jg,"SQLiteText");var Ag,Lg;class dx extends(Lg=Zt,Ag=M,Lg){constructor(t){super(t,"json","SQLiteTextJson")}build(t){return new fx(t,this.config)}}g(dx,Ag,"SQLiteTextJsonBuilder");var Og,qg;class fx extends(qg=ht,Og=M,qg){getSQLType(){return"text"}mapFromDriverValue(t){return JSON.parse(t)}mapToDriverValue(t){return JSON.stringify(t)}}g(fx,Og,"SQLiteTextJson");function se(e,t={}){const{name:n,config:r}=wl(e,t);return r.mode==="json"?new dx(n):new ux(n,r)}var Mg;Mg=M;const eu=class eu{constructor(t){g(this,"config");this.config={...t}}get(t,n){if(n==="_")return{...t._,selectedFields:new Proxy(t._.selectedFields,this)};if(n===st)return{...t[st],selectedFields:new Proxy(t[st].selectedFields,this)};if(typeof n=="symbol")return t[n];const s=(q(t,Dt)?t._.selectedFields:q(t,qs)?t[st].selectedFields:t)[n];if(q(s,H.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!s.isSelectionField)return s.sql;const i=s.clone();return i.isSelectionField=!0,i}if(q(s,H)){if(this.config.sqlBehavior==="sql")return s;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return q(s,Ae)?this.config.alias?new Proxy(s,new Go(new Proxy(s.table,new Nu(this.config.alias,this.config.replaceOriginalName??!1)))):s:typeof s!="object"||s===null?s:new Proxy(s,new eu(this.config))}};g(eu,Mg,"SelectionProxyHandler");let dt=eu;function nI(){return{blob:XN,customType:ZN,integer:ae,numeric:eI,real:tI,text:se}}const Cd=Symbol.for("drizzle:SQLiteInlineForeignKeys");var $g,Dg,Bg,zg,Ug;class _t extends(Ug=U,zg=M,Bg=U.Symbol.Columns,Dg=Cd,$g=U.Symbol.ExtraConfigBuilder,Ug){constructor(){super(...arguments);g(this,Bg);g(this,Dg,[]);g(this,$g)}}g(_t,zg,"SQLiteTable"),g(_t,"Symbol",Object.assign({},U.Symbol,{InlineForeignKeys:Cd}));function rI(e,t,n,r,s=e){const i=new _t(e,r,s),o=typeof t=="function"?t(nI()):t,l=Object.fromEntries(Object.entries(o).map(([u,c])=>{const p=c;p.setName(u);const m=p.build(i);return i[Cd].push(...p.buildForeignKeys(m,i)),[u,m]})),a=Object.assign(i,l);return a[U.Symbol.Columns]=l,a[U.Symbol.ExtraConfigColumns]=l,n&&(a[_t.Symbol.ExtraConfigBuilder]=n),a}const vn=(e,t,n)=>rI(e,t,n);var Fg;Fg=M;class hx{constructor(t,n){this.name=t,this.unique=n}on(...t){return new px(this.name,t,this.unique)}}g(hx,Fg,"SQLiteIndexBuilderOn");var Qg;Qg=M;class px{constructor(t,n,r){g(this,"config");this.config={name:t,columns:n,unique:r,where:void 0}}where(t){return this.config.where=t,this}build(t){return new mx(this.config,t)}}g(px,Qg,"SQLiteIndexBuilder");var Vg;Vg=M;class mx{constructor(t,n){g(this,"config");this.config={...t,table:n}}}g(mx,Vg,"SQLiteIndex");function Tu(e){return new hx(e,!0)}function os(e){return q(e,_t)?[`${e[U.Symbol.BaseName]}`]:q(e,Dt)?e._.usedTables??[]:q(e,H)?e.usedTables??[]:[]}var Wg,Hg;class _d extends(Hg=Gr,Wg=M,Hg){constructor(n,r,s,i){super();g(this,"config");g(this,"run",n=>this._prepare().run(n));g(this,"all",n=>this._prepare().all(n));g(this,"get",n=>this._prepare().get(n));g(this,"values",n=>this._prepare().values(n));this.table=n,this.session=r,this.dialect=s,this.config={table:n,withList:i}}where(n){return this.config.where=n,this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.table[U.Symbol.Columns],new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.orderBy=s}else{const r=n;this.config.orderBy=r}return this}limit(n){return this.config.limit=n,this}returning(n=this.table[_t.Symbol.Columns]){return this.config.returning=Ts(n),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n=!0){return this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:os(this.config.table)})}prepare(){return this._prepare(!1)}async execute(n){return this._prepare().execute(n)}$dynamic(){return this}}g(_d,Wg,"SQLiteDelete");function sI(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function iI(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,r,s)=>{const i=s===0?r.toLowerCase():`${r[0].toUpperCase()}${r.slice(1)}`;return n+i},"")}function oI(e){return e}var Kg;Kg=M;class yx{constructor(t){g(this,"cache",{});g(this,"cachedTables",{});g(this,"convert");this.convert=t==="snake_case"?sI:t==="camelCase"?iI:oI}getColumnCasing(t){if(!t.keyAsName)return t.name;const n=t.table[U.Symbol.Schema]??"public",r=t.table[U.Symbol.OriginalName],s=`${n}.${r}.${t.name}`;return this.cache[s]||this.cacheTable(t.table),this.cache[s]}cacheTable(t){const n=t[U.Symbol.Schema]??"public",r=t[U.Symbol.OriginalName],s=`${n}.${r}`;if(!this.cachedTables[s]){for(const i of Object.values(t[U.Symbol.Columns])){const o=`${s}.${i.name}`;this.cache[o]=this.convert(i.name)}this.cachedTables[s]=!0}}clearCache(){this.cache={},this.cachedTables={}}}g(yx,Kg,"CasingCache");var Gg,Jg;class ju extends(Jg=qs,Gg=M,Jg){}g(ju,Gg,"SQLiteViewBase");var Yg;Yg=M;class Jo{constructor(t){g(this,"casing");this.casing=new yx(t==null?void 0:t.casing)}escapeName(t){return`"${t}"`}escapeParam(t){return"?"}escapeString(t){return`'${t.replace(/'/g,"''")}'`}buildWithCTE(t){if(!(t!=null&&t.length))return;const n=[_`with `];for(const[r,s]of t.entries())n.push(_`${_.identifier(s._.alias)} as (${s._.sql})`),r<t.length-1&&n.push(_`, `);return n.push(_` `),_.join(n)}buildDeleteQuery({table:t,where:n,returning:r,withList:s,limit:i,orderBy:o}){const l=this.buildWithCTE(s),a=r?_` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,u=n?_` where ${n}`:void 0,c=this.buildOrderBy(o),p=this.buildLimit(i);return _`${l}delete from ${t}${u}${a}${c}${p}`}buildUpdateSet(t,n){const r=t[U.Symbol.Columns],s=Object.keys(r).filter(o=>{var l;return n[o]!==void 0||((l=r[o])==null?void 0:l.onUpdateFn)!==void 0}),i=s.length;return _.join(s.flatMap((o,l)=>{const a=r[o],u=n[o]??_.param(a.onUpdateFn(),a),c=_`${_.identifier(this.casing.getColumnCasing(a))} = ${u}`;return l<i-1?[c,_.raw(", ")]:[c]}))}buildUpdateQuery({table:t,set:n,where:r,returning:s,withList:i,joins:o,from:l,limit:a,orderBy:u}){const c=this.buildWithCTE(i),p=this.buildUpdateSet(t,n),m=l&&_.join([_.raw(" from "),this.buildFromTable(l)]),x=this.buildJoins(o),b=s?_` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,C=r?_` where ${r}`:void 0,R=this.buildOrderBy(u),f=this.buildLimit(a);return _`${c}update ${t} set ${p}${m}${x}${C}${b}${R}${f}`}buildSelection(t,{isSingleTable:n=!1}={}){const r=t.length,s=t.flatMap(({field:i},o)=>{const l=[];if(q(i,H.Aliased)&&i.isSelectionField)l.push(_.identifier(i.fieldAlias));else if(q(i,H.Aliased)||q(i,H)){const a=q(i,H.Aliased)?i.sql:i;n?l.push(new H(a.queryChunks.map(u=>q(u,Ae)?_.identifier(this.casing.getColumnCasing(u)):u))):l.push(a),q(i,H.Aliased)&&l.push(_` as ${_.identifier(i.fieldAlias)}`)}else if(q(i,Ae)){const a=i.table[U.Symbol.Name];i.columnType==="SQLiteNumericBigInt"?n?l.push(_`cast(${_.identifier(this.casing.getColumnCasing(i))} as text)`):l.push(_`cast(${_.identifier(a)}.${_.identifier(this.casing.getColumnCasing(i))} as text)`):n?l.push(_.identifier(this.casing.getColumnCasing(i))):l.push(_`${_.identifier(a)}.${_.identifier(this.casing.getColumnCasing(i))}`)}return o<r-1&&l.push(_`, `),l});return _.join(s)}buildJoins(t){if(!t||t.length===0)return;const n=[];if(t)for(const[r,s]of t.entries()){r===0&&n.push(_` `);const i=s.table,o=s.on?_` on ${s.on}`:void 0;if(q(i,_t)){const l=i[_t.Symbol.Name],a=i[_t.Symbol.Schema],u=i[_t.Symbol.OriginalName],c=l===u?void 0:s.alias;n.push(_`${_.raw(s.joinType)} join ${a?_`${_.identifier(a)}.`:void 0}${_.identifier(u)}${c&&_` ${_.identifier(c)}`}${o}`)}else n.push(_`${_.raw(s.joinType)} join ${i}${o}`);r<t.length-1&&n.push(_` `)}return _.join(n)}buildLimit(t){return typeof t=="object"||typeof t=="number"&&t>=0?_` limit ${t}`:void 0}buildOrderBy(t){const n=[];if(t)for(const[r,s]of t.entries())n.push(s),r<t.length-1&&n.push(_`, `);return n.length>0?_` order by ${_.join(n)}`:void 0}buildFromTable(t){return q(t,U)&&t[U.Symbol.IsAlias]?_`${_`${_.identifier(t[U.Symbol.Schema]??"")}.`.if(t[U.Symbol.Schema])}${_.identifier(t[U.Symbol.OriginalName])} ${_.identifier(t[U.Symbol.Name])}`:t}buildSelectQuery({withList:t,fields:n,fieldsFlat:r,where:s,having:i,table:o,joins:l,orderBy:a,groupBy:u,limit:c,offset:p,distinct:m,setOperators:x}){const b=r??Ts(n);for(const B of b)if(q(B.field,Ae)&&ei(B.field.table)!==(q(o,Dt)?o._.alias:q(o,ju)?o[st].name:q(o,H)?void 0:ei(o))&&!(G=>l==null?void 0:l.some(({alias:ee})=>ee===(G[U.Symbol.IsAlias]?ei(G):G[U.Symbol.BaseName])))(B.field.table)){const G=ei(B.field.table);throw new Error(`Your "${B.path.join("->")}" field references a column "${G}"."${B.field.name}", but the table "${G}" is not part of the query! Did you forget to join it?`)}const C=!l||l.length===0,R=this.buildWithCTE(t),f=m?_` distinct`:void 0,h=this.buildSelection(b,{isSingleTable:C}),y=this.buildFromTable(o),S=this.buildJoins(l),T=s?_` where ${s}`:void 0,P=i?_` having ${i}`:void 0,N=[];if(u)for(const[B,G]of u.entries())N.push(G),B<u.length-1&&N.push(_`, `);const I=N.length>0?_` group by ${_.join(N)}`:void 0,z=this.buildOrderBy(a),k=this.buildLimit(c),A=p?_` offset ${p}`:void 0,$=_`${R}select${f} ${h} from ${y}${S}${T}${I}${P}${z}${k}${A}`;return x.length>0?this.buildSetOperations($,x):$}buildSetOperations(t,n){const[r,...s]=n;if(!r)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:t,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:t,setOperator:r}),s)}buildSetOperationQuery({leftSelect:t,setOperator:{type:n,isAll:r,rightSelect:s,limit:i,orderBy:o,offset:l}}){const a=_`${t.getSQL()} `,u=_`${s.getSQL()}`;let c;if(o&&o.length>0){const b=[];for(const C of o)if(q(C,ht))b.push(_.identifier(C.name));else if(q(C,H)){for(let R=0;R<C.queryChunks.length;R++){const f=C.queryChunks[R];q(f,ht)&&(C.queryChunks[R]=_.identifier(this.casing.getColumnCasing(f)))}b.push(_`${C}`)}else b.push(_`${C}`);c=_` order by ${_.join(b,_`, `)}`}const p=typeof i=="object"||typeof i=="number"&&i>=0?_` limit ${i}`:void 0,m=_.raw(`${n} ${r?"all ":""}`),x=l?_` offset ${l}`:void 0;return _`${a}${m}${u}${c}${p}${x}`}buildInsertQuery({table:t,values:n,onConflict:r,returning:s,withList:i,select:o}){const l=[],a=t[U.Symbol.Columns],u=Object.entries(a).filter(([C,R])=>!R.shouldDisableInsert()),c=u.map(([,C])=>_.identifier(this.casing.getColumnCasing(C)));if(o){const C=n;q(C,H)?l.push(C):l.push(C.getSQL())}else{const C=n;l.push(_.raw("values "));for(const[R,f]of C.entries()){const h=[];for(const[y,S]of u){const T=f[y];if(T===void 0||q(T,lr)&&T.value===void 0){let P;if(S.default!==null&&S.default!==void 0)P=q(S.default,H)?S.default:_.param(S.default,S);else if(S.defaultFn!==void 0){const N=S.defaultFn();P=q(N,H)?N:_.param(N,S)}else if(!S.default&&S.onUpdateFn!==void 0){const N=S.onUpdateFn();P=q(N,H)?N:_.param(N,S)}else P=_`null`;h.push(P)}else h.push(T)}l.push(h),R<C.length-1&&l.push(_`, `)}}const p=this.buildWithCTE(i),m=_.join(l),x=s?_` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,b=r!=null&&r.length?_.join(r):void 0;return _`${p}insert into ${t} ${c} ${m}${b}${x}`}sqlToQuery(t,n){return t.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:n})}buildRelationalQuery({fullSchema:t,schema:n,tableNamesMap:r,table:s,tableConfig:i,queryConfig:o,tableAlias:l,nestedQueryRelation:a,joinOn:u}){let c=[],p,m,x=[],b;const C=[];if(o===!0)c=Object.entries(i.columns).map(([h,y])=>({dbKey:y.name,tsKey:h,field:Mn(y,l),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const f=Object.fromEntries(Object.entries(i.columns).map(([N,I])=>[N,Mn(I,l)]));if(o.where){const N=typeof o.where=="function"?o.where(f,QN()):o.where;b=N&&Ba(N,l)}const h=[];let y=[];if(o.columns){let N=!1;for(const[I,z]of Object.entries(o.columns))z!==void 0&&I in i.columns&&(!N&&z===!0&&(N=!0),y.push(I));y.length>0&&(y=N?y.filter(I=>{var z;return((z=o.columns)==null?void 0:z[I])===!0}):Object.keys(i.columns).filter(I=>!y.includes(I)))}else y=Object.keys(i.columns);for(const N of y){const I=i.columns[N];h.push({tsKey:N,value:I})}let S=[];o.with&&(S=Object.entries(o.with).filter(N=>!!N[1]).map(([N,I])=>({tsKey:N,queryConfig:I,relation:i.relations[N]})));let T;if(o.extras){T=typeof o.extras=="function"?o.extras(f,{sql:_}):o.extras;for(const[N,I]of Object.entries(T))h.push({tsKey:N,value:ES(I,l)})}for(const{tsKey:N,value:I}of h)c.push({dbKey:q(I,H.Aliased)?I.fieldAlias:i.columns[N].name,tsKey:N,field:q(I,Ae)?Mn(I,l):I,relationTableTsKey:void 0,isJson:!1,selection:[]});let P=typeof o.orderBy=="function"?o.orderBy(f,VN()):o.orderBy??[];Array.isArray(P)||(P=[P]),x=P.map(N=>q(N,Ae)?Mn(N,l):Ba(N,l)),p=o.limit,m=o.offset;for(const{tsKey:N,queryConfig:I,relation:z}of S){const k=GN(n,r,z),A=Ko(z.referencedTable),$=r[A],B=`${l}_${N}`,G=Xt(...k.fields.map((W,j)=>J(Mn(k.references[j],B),Mn(W,l)))),ee=this.buildRelationalQuery({fullSchema:t,schema:n,tableNamesMap:r,table:t[$],tableConfig:n[$],queryConfig:q(z,js)?I===!0?{limit:1}:{...I,limit:1}:I,tableAlias:B,joinOn:G,nestedQueryRelation:z}),oe=_`(${ee.sql})`.as(N);c.push({dbKey:N,tsKey:N,field:oe,relationTableTsKey:$,isJson:!0,selection:ee.selection})}}if(c.length===0)throw new Iu({message:`No fields selected for table "${i.tsName}" ("${l}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let R;if(b=Xt(u,b),a){let f=_`json_array(${_.join(c.map(({field:S})=>q(S,ht)?_.identifier(this.casing.getColumnCasing(S)):q(S,H.Aliased)?S.sql:S),_`, `)})`;q(a,za)&&(f=_`coalesce(json_group_array(${f}), json_array())`);const h=[{dbKey:"data",tsKey:"data",field:f.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:c}];p!==void 0||m!==void 0||x.length>0?(R=this.buildSelectQuery({table:vc(s,l),fields:{},fieldsFlat:[{path:[],field:_.raw("*")}],where:b,limit:p,offset:m,orderBy:x,setOperators:[]}),b=void 0,p=void 0,m=void 0,x=void 0):R=vc(s,l),R=this.buildSelectQuery({table:q(R,_t)?R:new Dt(R,{},l),fields:{},fieldsFlat:h.map(({field:S})=>({path:[],field:q(S,Ae)?Mn(S,l):S})),joins:C,where:b,limit:p,offset:m,orderBy:x,setOperators:[]})}else R=this.buildSelectQuery({table:vc(s,l),fields:{},fieldsFlat:c.map(({field:f})=>({path:[],field:q(f,Ae)?Mn(f,l):f})),joins:C,where:b,limit:p,offset:m,orderBy:x,setOperators:[]});return{tableTsKey:i.tsName,sql:R,selection:c}}}g(Jo,Yg,"SQLiteDialect");var Xg,Zg;class gx extends(Zg=Jo,Xg=M,Zg){migrate(t,n,r){const s=r===void 0||typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=_`
			CREATE TABLE IF NOT EXISTS ${_.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;n.run(i);const l=n.values(_`SELECT id, hash, created_at FROM ${_.identifier(s)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;n.run(_`BEGIN`);try{for(const a of t)if(!l||Number(l[2])<a.folderMillis){for(const u of a.sql)n.run(_.raw(u));n.run(_`INSERT INTO ${_.identifier(s)} ("hash", "created_at") VALUES(${a.hash}, ${a.folderMillis})`)}n.run(_`COMMIT`)}catch(a){throw n.run(_`ROLLBACK`),a}}}g(gx,Xg,"SQLiteSyncDialect");var ev,tv;class vx extends(tv=Jo,ev=M,tv){async migrate(t,n,r){const s=r===void 0||typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=_`
			CREATE TABLE IF NOT EXISTS ${_.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await n.run(i);const l=(await n.values(_`SELECT id, hash, created_at FROM ${_.identifier(s)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await n.transaction(async a=>{for(const u of t)if(!l||Number(l[2])<u.folderMillis){for(const c of u.sql)await a.run(_.raw(c));await a.run(_`INSERT INTO ${_.identifier(s)} ("hash", "created_at") VALUES(${u.hash}, ${u.folderMillis})`)}})}}g(vx,ev,"SQLiteAsyncDialect");var nv;nv=M;class wx{getSelectedFields(){return this._.selectedFields}}g(wx,nv,"TypedQueryBuilder");var rv;rv=M;class tr{constructor(t){g(this,"fields");g(this,"session");g(this,"dialect");g(this,"withList");g(this,"distinct");this.fields=t.fields,this.session=t.session,this.dialect=t.dialect,this.withList=t.withList,this.distinct=t.distinct}from(t){const n=!!this.fields;let r;return this.fields?r=this.fields:q(t,Dt)?r=Object.fromEntries(Object.keys(t._.selectedFields).map(s=>[s,t[s]])):q(t,ju)?r=t[st].selectedFields:q(t,H)?r={}:r=_N(t),new ah({table:t,fields:r,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}g(tr,rv,"SQLiteSelectBuilder");var sv,iv;class Sx extends(iv=wx,sv=M,iv){constructor({table:n,fields:r,isPartialSelect:s,session:i,dialect:o,withList:l,distinct:a}){super();g(this,"_");g(this,"config");g(this,"joinsNotNullableMap");g(this,"tableName");g(this,"isPartialSelect");g(this,"session");g(this,"dialect");g(this,"cacheConfig");g(this,"usedTables",new Set);g(this,"leftJoin",this.createJoin("left"));g(this,"rightJoin",this.createJoin("right"));g(this,"innerJoin",this.createJoin("inner"));g(this,"fullJoin",this.createJoin("full"));g(this,"crossJoin",this.createJoin("cross"));g(this,"union",this.createSetOperator("union",!1));g(this,"unionAll",this.createSetOperator("union",!0));g(this,"intersect",this.createSetOperator("intersect",!1));g(this,"except",this.createSetOperator("except",!1));this.config={withList:l,table:n,fields:{...r},distinct:a,setOperators:[]},this.isPartialSelect=s,this.session=i,this.dialect=o,this._={selectedFields:r,config:this.config},this.tableName=wd(n),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(const u of os(n))this.usedTables.add(u)}getUsedTables(){return[...this.usedTables]}createJoin(n){return(r,s)=>{var l;const i=this.tableName,o=wd(r);for(const a of os(r))this.usedTables.add(a);if(typeof o=="string"&&((l=this.config.joins)!=null&&l.some(a=>a.alias===o)))throw new Error(`Alias "${o}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof o=="string"&&!q(r,H))){const a=q(r,Dt)?r._.selectedFields:q(r,qs)?r[st].selectedFields:r[U.Symbol.Columns];this.config.fields[o]=a}if(typeof s=="function"&&(s=s(new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:s,table:r,joinType:n,alias:o}),typeof o=="string")switch(n){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[o]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}createSetOperator(n,r){return s=>{const i=typeof s=="function"?s(lI()):s;if(!ih(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:n,isAll:r,rightSelect:i}),this}}addSetOperators(n){return this.config.setOperators.push(...n),this}where(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=n,this}having(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=n,this}groupBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=n;return this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const r=n;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=n:this.config.limit=n,this}offset(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=n:this.config.offset=n,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(n){const r=[];if(r.push(...os(this.config.table)),this.config.joins)for(const s of this.config.joins)r.push(...os(s.table));return new Proxy(new Dt(this.getSQL(),this.config.fields,n,!1,[...new Set(r)]),new dt({alias:n,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new dt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}g(Sx,sv,"SQLiteSelectQueryBuilder");var ov,lv;class ah extends(lv=Sx,ov=M,lv){constructor(){super(...arguments);g(this,"run",n=>this._prepare().run(n));g(this,"all",n=>this._prepare().all(n));g(this,"get",n=>this._prepare().get(n));g(this,"values",n=>this._prepare().values(n))}_prepare(n=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const r=Ts(this.config.fields),s=this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),r,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return s.joinsNotNullableMap=this.joinsNotNullableMap,s}$withCache(n){return this.cacheConfig=n===void 0?{config:{},enable:!0,autoInvalidate:!0}:n===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...n},this}prepare(){return this._prepare(!1)}async execute(){return this.all()}}g(ah,ov,"SQLiteSelect");CN(ah,[Gr]);function Pu(e,t){return(n,r,...s)=>{const i=[r,...s].map(o=>({type:e,isAll:t,rightSelect:o}));for(const o of i)if(!ih(n.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(i)}}const lI=()=>({union:aI,unionAll:uI,intersect:cI,except:dI}),aI=Pu("union",!1),uI=Pu("union",!0),cI=Pu("intersect",!1),dI=Pu("except",!1);var av;av=M;class uh{constructor(t){g(this,"dialect");g(this,"dialectConfig");g(this,"$with",(t,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(r)),new Proxy(new sh(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new dt({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=q(t,Jo)?t:void 0,this.dialectConfig=q(t,Jo)?void 0:t}with(...t){const n=this;function r(i){return new tr({fields:i??void 0,session:void 0,dialect:n.getDialect(),withList:t})}function s(i){return new tr({fields:i??void 0,session:void 0,dialect:n.getDialect(),withList:t,distinct:!0})}return{select:r,selectDistinct:s}}select(t){return new tr({fields:t??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(t){return new tr({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new gx(this.dialectConfig)),this.dialect}}g(uh,av,"SQLiteQueryBuilder");var uv;uv=M;class kd{constructor(t,n,r,s){this.table=t,this.session=n,this.dialect=r,this.withList=s}values(t){if(t=Array.isArray(t)?t:[t],t.length===0)throw new Error("values() must be called with at least one value");const n=t.map(r=>{const s={},i=this.table[U.Symbol.Columns];for(const o of Object.keys(r)){const l=r[o];s[o]=q(l,H)?l:new lr(l,i[o])}return s});return new Nd(this.table,n,this.session,this.dialect,this.withList)}select(t){const n=typeof t=="function"?t(new uh):t;if(!q(n,H)&&!ih(this.table[vd],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Nd(this.table,n,this.session,this.dialect,this.withList,!0)}}g(kd,uv,"SQLiteInsertBuilder");var cv,dv;class Nd extends(dv=Gr,cv=M,dv){constructor(n,r,s,i,o,l){super();g(this,"config");g(this,"run",n=>this._prepare().run(n));g(this,"all",n=>this._prepare().all(n));g(this,"get",n=>this._prepare().get(n));g(this,"values",n=>this._prepare().values(n));this.session=s,this.dialect=i,this.config={table:n,values:r,withList:o,select:l}}returning(n=this.config.table[_t.Symbol.Columns]){return this.config.returning=Ts(n),this}onConflictDoNothing(n={}){if(this.config.onConflict||(this.config.onConflict=[]),n.target===void 0)this.config.onConflict.push(_` on conflict do nothing`);else{const r=Array.isArray(n.target)?_`${n.target}`:_`${[n.target]}`,s=n.where?_` where ${n.where}`:_``;this.config.onConflict.push(_` on conflict ${r} do nothing${s}`)}return this}onConflictDoUpdate(n){if(n.where&&(n.targetWhere||n.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);const r=n.where?_` where ${n.where}`:void 0,s=n.targetWhere?_` where ${n.targetWhere}`:void 0,i=n.setWhere?_` where ${n.setWhere}`:void 0,o=Array.isArray(n.target)?_`${n.target}`:_`${[n.target]}`,l=this.dialect.buildUpdateSet(this.config.table,AS(this.config.table,n.set));return this.config.onConflict.push(_` on conflict ${o}${s} do update set ${l}${r}${i}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n=!0){return this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:os(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}g(Nd,cv,"SQLiteInsert");var fv;fv=M;class Id{constructor(t,n,r,s){this.table=t,this.session=n,this.dialect=r,this.withList=s}set(t){return new xx(this.table,AS(this.table,t),this.session,this.dialect,this.withList)}}g(Id,fv,"SQLiteUpdateBuilder");var hv,pv;class xx extends(pv=Gr,hv=M,pv){constructor(n,r,s,i,o){super();g(this,"config");g(this,"leftJoin",this.createJoin("left"));g(this,"rightJoin",this.createJoin("right"));g(this,"innerJoin",this.createJoin("inner"));g(this,"fullJoin",this.createJoin("full"));g(this,"run",n=>this._prepare().run(n));g(this,"all",n=>this._prepare().all(n));g(this,"get",n=>this._prepare().get(n));g(this,"values",n=>this._prepare().values(n));this.session=s,this.dialect=i,this.config={set:r,table:n,withList:o,joins:[]}}from(n){return this.config.from=n,this}createJoin(n){return(r,s)=>{const i=wd(r);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof s=="function"){const o=this.config.from?q(r,_t)?r[U.Symbol.Columns]:q(r,Dt)?r._.selectedFields:q(r,ju)?r[st].selectedFields:void 0:void 0;s=s(new Proxy(this.config.table[U.Symbol.Columns],new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:s,table:r,joinType:n,alias:i}),this}}where(n){return this.config.where=n,this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.table[U.Symbol.Columns],new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.orderBy=s}else{const r=n;this.config.orderBy=r}return this}limit(n){return this.config.limit=n,this}returning(n=this.config.table[_t.Symbol.Columns]){return this.config.returning=Ts(n),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n=!0){return this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:os(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}g(xx,hv,"SQLiteUpdate");var mv,yv,gv;const Eo=class Eo extends(gv=H,yv=M,mv=Symbol.toStringTag,gv){constructor(n){super(Eo.buildEmbeddedCount(n.source,n.filters).queryChunks);g(this,"sql");g(this,mv,"SQLiteCountBuilderAsync");g(this,"session");this.params=n,this.session=n.session,this.sql=Eo.buildCount(n.source,n.filters)}static buildEmbeddedCount(n,r){return _`(select count(*) from ${n}${_.raw(" where ").if(r)}${r})`}static buildCount(n,r){return _`select count(*) from ${n}${_.raw(" where ").if(r)}${r}`}then(n,r){return Promise.resolve(this.session.count(this.sql)).then(n,r)}catch(n){return this.then(void 0,n)}finally(n){return this.then(r=>(n==null||n(),r),r=>{throw n==null||n(),r})}};g(Eo,yv,"SQLiteCountBuilderAsync");let Ed=Eo;var vv;vv=M;class bx{constructor(t,n,r,s,i,o,l,a){this.mode=t,this.fullSchema=n,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=l,this.session=a}findMany(t){return this.mode==="sync"?new Rd(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t||{},"many"):new Ua(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t||{},"many")}findFirst(t){return this.mode==="sync"?new Rd(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t?{...t,limit:1}:{limit:1},"first"):new Ua(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t?{...t,limit:1}:{limit:1},"first")}}g(bx,vv,"SQLiteAsyncRelationalQueryBuilder");var wv,Sv;class Ua extends(Sv=Gr,wv=M,Sv){constructor(n,r,s,i,o,l,a,u,c){super();g(this,"mode");this.fullSchema=n,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=l,this.session=a,this.config=u,this.mode=c}getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(n=!1){const{query:r,builtQuery:s}=this._toSQL();return this.session[n?"prepareOneTimeQuery":"prepareQuery"](s,void 0,this.mode==="first"?"get":"all",!0,(i,o)=>{const l=i.map(a=>bd(this.schema,this.tableConfig,a,r.selection,o));return this.mode==="first"?l[0]:l})}prepare(){return this._prepare(!1)}_toSQL(){const n=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),r=this.dialect.sqlToQuery(n.sql);return{query:n,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}g(Ua,wv,"SQLiteAsyncRelationalQuery");var xv,bv;class Rd extends(bv=Ua,xv=M,bv){sync(){return this.executeRaw()}}g(Rd,xv,"SQLiteSyncRelationalQuery");var Cv,_v;class lo extends(_v=Gr,Cv=M,_v){constructor(n,r,s,i,o){super();g(this,"config");this.execute=n,this.getSQL=r,this.dialect=i,this.mapBatchResult=o,this.config={action:s}}getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(n,r){return r?this.mapBatchResult(n):n}_prepare(){return this}isResponseInArrayMode(){return!1}}g(lo,Cv,"SQLiteRaw");var kv;kv=M;class ch{constructor(t,n,r,s){g(this,"query");g(this,"$with",(t,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(new uh(r.dialect))),new Proxy(new sh(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new dt({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});g(this,"$cache");this.resultKind=t,this.dialect=n,this.session=r,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const i=this.query;if(this._.schema)for(const[o,l]of Object.entries(this._.schema))i[o]=new bx(t,s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[o],l,n,r);this.$cache={invalidate:async o=>{}}}$count(t,n){return new Ed({source:t,filters:n,session:this.session})}with(...t){const n=this;function r(a){return new tr({fields:a??void 0,session:n.session,dialect:n.dialect,withList:t})}function s(a){return new tr({fields:a??void 0,session:n.session,dialect:n.dialect,withList:t,distinct:!0})}function i(a){return new Id(a,n.session,n.dialect,t)}function o(a){return new kd(a,n.session,n.dialect,t)}function l(a){return new _d(a,n.session,n.dialect,t)}return{select:r,selectDistinct:s,update:i,insert:o,delete:l}}select(t){return new tr({fields:t??void 0,session:this.session,dialect:this.dialect})}selectDistinct(t){return new tr({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(t){return new Id(t,this.session,this.dialect)}insert(t){return new kd(t,this.session,this.dialect)}delete(t){return new _d(t,this.session,this.dialect)}run(t){const n=typeof t=="string"?_.raw(t):t.getSQL();return this.resultKind==="async"?new lo(async()=>this.session.run(n),()=>n,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(n)}all(t){const n=typeof t=="string"?_.raw(t):t.getSQL();return this.resultKind==="async"?new lo(async()=>this.session.all(n),()=>n,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(n)}get(t){const n=typeof t=="string"?_.raw(t):t.getSQL();return this.resultKind==="async"?new lo(async()=>this.session.get(n),()=>n,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(n)}values(t){const n=typeof t=="string"?_.raw(t):t.getSQL();return this.resultKind==="async"?new lo(async()=>this.session.values(n),()=>n,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(n)}transaction(t,n){return this.session.transaction(t,n)}}g(ch,kv,"BaseSQLiteDatabase");var Nv;Nv=M;class Cx{}g(Cx,Nv,"Cache");var Iv,Ev;class dh extends(Ev=Cx,Iv=M,Ev){strategy(){return"all"}async get(t){}async put(t,n,r,s){}async onMutate(t){}}g(dh,Iv,"NoopCache");async function cm(e,t){const n=`${e}-${JSON.stringify(t)}`,s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s);return[...new Uint8Array(i)].map(a=>a.toString(16).padStart(2,"0")).join("")}var Rv,Tv;class _x extends(Tv=Gr,Rv=M,Tv){constructor(t){super(),this.resultCb=t}async execute(){return this.resultCb()}sync(){return this.resultCb()}}g(_x,Rv,"ExecuteResultSync");var jv;jv=M;class kx{constructor(t,n,r,s,i,o){g(this,"joinsNotNullableMap");var l;this.mode=t,this.executeMethod=n,this.query=r,this.cache=s,this.queryMetadata=i,this.cacheConfig=o,s&&s.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),(l=this.cacheConfig)!=null&&l.enable||(this.cacheConfig=void 0)}async queryWithCache(t,n,r){if(this.cache===void 0||q(this.cache,dh)||this.queryMetadata===void 0)try{return await r()}catch(s){throw new gr(t,n,s)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(s){throw new gr(t,n,s)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{const[s]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return s}catch(s){throw new gr(t,n,s)}if(!this.cacheConfig)try{return await r()}catch(s){throw new gr(t,n,s)}if(this.queryMetadata.type==="select"){const s=await this.cache.get(this.cacheConfig.tag??await cm(t,n),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(s===void 0){let i;try{i=await r()}catch(o){throw new gr(t,n,o)}return await this.cache.put(this.cacheConfig.tag??await cm(t,n),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return s}try{return await r()}catch(s){throw new gr(t,n,s)}}getQuery(){return this.query}mapRunResult(t,n){return t}mapAllResult(t,n){throw new Error("Not implemented")}mapGetResult(t,n){throw new Error("Not implemented")}execute(t){return this.mode==="async"?this[this.executeMethod](t):new _x(()=>this[this.executeMethod](t))}mapResult(t,n){switch(this.executeMethod){case"run":return this.mapRunResult(t,n);case"all":return this.mapAllResult(t,n);case"get":return this.mapGetResult(t,n)}}}g(kx,jv,"PreparedQuery");var Pv;Pv=M;class Nx{constructor(t){this.dialect=t}prepareOneTimeQuery(t,n,r,s,i,o,l){return this.prepareQuery(t,n,r,s,i,o,l)}run(t){const n=this.dialect.sqlToQuery(t);try{return this.prepareOneTimeQuery(n,void 0,"run",!1).run()}catch(r){throw new Iu({cause:r,message:`Failed to run the query '${n.sql}'`})}}extractRawRunValueFromBatchResult(t){return t}all(t){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(t),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(t){throw new Error("Not implemented")}get(t){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(t),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(t){throw new Error("Not implemented")}values(t){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(t),void 0,"run",!1).values()}async count(t){return(await this.values(t))[0][0]}extractRawValuesValueFromBatchResult(t){throw new Error("Not implemented")}}g(Nx,Pv,"SQLiteSession");var Av,Lv;class Ix extends(Lv=ch,Av=M,Lv){constructor(t,n,r,s,i=0){super(t,n,r,s),this.schema=s,this.nestedIndex=i}rollback(){throw new RS}}g(Ix,Av,"SQLiteTransaction");const yn=vn("child",{id:ae("id").primaryKey({autoIncrement:!0}),name:se("name").notNull().unique(),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")}),He=vn("subject",{id:ae("id").primaryKey({autoIncrement:!0}),name:se("name").notNull().unique(),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")}),ke=vn("material",{id:ae("id").primaryKey({autoIncrement:!0}),name:se("name").notNull().unique(),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")}),Oe=vn("schedule_template",{id:ae("id").primaryKey({autoIncrement:!0}),childId:ae("child_id").notNull().references(()=>yn.id,{onDelete:"cascade"}),name:se("name").notNull(),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")},e=>({uniqueChildName:Tu("idx_schedule_template_child_name").on(e.childId,e.name)})),Nt=vn("schedule_version",{id:ae("id").primaryKey({autoIncrement:!0}),templateId:ae("template_id").notNull().references(()=>Oe.id,{onDelete:"cascade"}),validFrom:se("valid_from").notNull(),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")}),Se=vn("schedule_block",{id:ae("id").primaryKey({autoIncrement:!0}),versionId:ae("version_id").notNull().references(()=>Nt.id,{onDelete:"cascade"}),blockOrder:ae("block_order").notNull(),subjectId:ae("subject_id").notNull().references(()=>He.id),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")}),Ct=vn("checklist_instance",{id:ae("id").primaryKey({autoIncrement:!0}),childId:ae("child_id").notNull().references(()=>yn.id,{onDelete:"cascade"}),targetDate:se("target_date").notNull(),scheduleVersionId:ae("schedule_version_id").notNull().references(()=>Nt.id),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")},e=>({uniqueChildDate:Tu("idx_checklist_instance_child_date").on(e.childId,e.targetDate)})),Ft=vn("checklist_item_state",{id:ae("id").primaryKey({autoIncrement:!0}),checklistInstanceId:ae("checklist_instance_id").notNull().references(()=>Ct.id,{onDelete:"cascade"}),subjectId:ae("subject_id").notNull().references(()=>He.id),materialId:ae("material_id").notNull().references(()=>ke.id),checked:ae("is_checked",{mode:"boolean"}).notNull().default(!1),checkedAt:se("checked_at"),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),updatedAt:se("updated_at").notNull().default("CURRENT_TIMESTAMP")},e=>({uniqueChecklistItem:Tu("idx_checklist_item_unique").on(e.checklistInstanceId,e.subjectId,e.materialId)})),fI=vn("audit_event",{id:ae("id").primaryKey({autoIncrement:!0}),eventType:se("event_type").notNull(),childId:ae("child_id").references(()=>yn.id,{onDelete:"set null"}),checklistInstanceId:ae("checklist_instance_id").references(()=>Ct.id,{onDelete:"set null"}),payloadJson:se("payload_json"),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP")}),hI=vn("subject_requirement",{id:ae("id").primaryKey({autoIncrement:!0}),subjectId:ae("subject_id").notNull().references(()=>He.id,{onDelete:"cascade"}),description:se("description").notNull(),targetDate:se("target_date"),isRecurring:ae("is_recurring",{mode:"boolean"}).notNull().default(!1),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP"),resolvedAt:se("resolved_at")}),Ee=vn("template_subject_material",{id:ae("id").primaryKey({autoIncrement:!0}),templateId:ae("template_id").notNull().references(()=>Oe.id,{onDelete:"cascade"}),subjectId:ae("subject_id").notNull().references(()=>He.id,{onDelete:"cascade"}),materialId:ae("material_id").notNull().references(()=>ke.id,{onDelete:"cascade"}),createdAt:se("created_at").notNull().default("CURRENT_TIMESTAMP")},e=>({uniqueTemplateSubjectMaterial:Tu("idx_template_subject_material_unique").on(e.templateId,e.subjectId,e.materialId)})),pI=Object.freeze(Object.defineProperty({__proto__:null,auditEvent:fI,checklistInstance:Ct,checklistItemState:Ft,child:yn,material:ke,scheduleBlock:Se,scheduleTemplate:Oe,scheduleVersion:Nt,subject:He,subjectRequirement:hI,templateSubjectMaterial:Ee},Symbol.toStringTag,{value:"Module"}));class de extends Error{constructor(n,r,s,i){r!==void 0&&(n=`${r}: ${n}`);super(n,{cause:i});g(this,"code");g(this,"rawCode");this.code=r,this.rawCode=s,this.name="LibsqlError"}}function mI(e){const t=yI.exec(e);if(t===null)throw new de(`The URL '${e}' is not in a valid format`,"URL_INVALID");const n=t.groups,r=n.scheme,s=n.authority!==void 0?gI(n.authority):void 0,i=xs(n.path),o=n.query!==void 0?wI(n.query):void 0,l=n.fragment!==void 0?xs(n.fragment):void 0;return{scheme:r,authority:s,path:i,query:o,fragment:l}}const yI=(()=>{const e="(?<scheme>[A-Za-z][A-Za-z.+-]*)",t="(?<authority>[^/?#]*)",n="(?<path>[^?#]*)",r="(?<query>[^#]*)",s="(?<fragment>.*)";return new RegExp(`^${e}:(//${t})?${n}(\\?${r})?(#${s})?$`,"su")})();function gI(e){const t=vI.exec(e);if(t===null)throw new de("The authority part of the URL is not in a valid format","URL_INVALID");const n=t.groups,r=xs(n.host_br??n.host),s=n.port?parseInt(n.port,10):void 0,i=n.username!==void 0?{username:xs(n.username),password:n.password!==void 0?xs(n.password):void 0}:void 0;return{host:r,port:s,userinfo:i}}const vI=new RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function wI(e){const t=e.split("&"),n=[];for(const r of t){if(r==="")continue;let s,i;const o=r.indexOf("=");o<0?(s=r,i=""):(s=r.substring(0,o),i=r.substring(o+1)),n.push({key:xs(s.replaceAll("+"," ")),value:xs(i.replaceAll("+"," "))})}return{pairs:n}}function xs(e){try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError?new de(`URL component has invalid percent encoding: ${t}`,"URL_INVALID",void 0,t):t}}function Td(e,t,n){if(t===void 0)throw new de(`URL with scheme ${JSON.stringify(e+":")} requires authority (the "//" part)`,"URL_INVALID");const r=`${e}:`,s=SI(t.host),i=xI(t.port),l=`//${bI(t.userinfo)}${s}${i}`;let a=n.split("/").map(encodeURIComponent).join("/");return a!==""&&!a.startsWith("/")&&(a="/"+a),new URL(`${r}${l}${a}`)}function SI(e){return e.includes(":")?`[${encodeURI(e)}]`:encodeURI(e)}function xI(e){return e!==void 0?`:${e}`:""}function bI(e){if(e===void 0)return"";const t=encodeURIComponent(e.username),n=e.password!==void 0?`:${encodeURIComponent(e.password)}`:"";return`${t}${n}@`}const Ex="3.7.8",CI=Ex,Ui=typeof Buffer=="function",dm=typeof TextDecoder=="function"?new TextDecoder:void 0,fm=typeof TextEncoder=="function"?new TextEncoder:void 0,_I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ao=Array.prototype.slice.call(_I),Fl=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(ao),kI=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Je=String.fromCharCode.bind(String),hm=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Rx=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Tx=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),jx=e=>{let t,n,r,s,i="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(s=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|s,i+=ao[t>>18&63]+ao[t>>12&63]+ao[t>>6&63]+ao[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},fh=typeof btoa=="function"?e=>btoa(e):Ui?e=>Buffer.from(e,"binary").toString("base64"):jx,jd=Ui?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,s=e.length;r<s;r+=4096)n.push(Je.apply(null,e.subarray(r,r+4096)));return fh(n.join(""))},la=(e,t=!1)=>t?Rx(jd(e)):jd(e),NI=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Je(192|t>>>6)+Je(128|t&63):Je(224|t>>>12&15)+Je(128|t>>>6&63)+Je(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Je(240|t>>>18&7)+Je(128|t>>>12&63)+Je(128|t>>>6&63)+Je(128|t&63)}},II=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Px=e=>e.replace(II,NI),pm=Ui?e=>Buffer.from(e,"utf8").toString("base64"):fm?e=>jd(fm.encode(e)):e=>fh(Px(e)),ui=(e,t=!1)=>t?Rx(pm(e)):pm(e),mm=e=>ui(e,!0),EI=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,RI=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Je((n>>>10)+55296)+Je((n&1023)+56320);case 3:return Je((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Je((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Ax=e=>e.replace(EI,RI),Lx=e=>{if(e=e.replace(/\s+/g,""),!kI.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,r,s=[];for(let i=0;i<e.length;)t=Fl[e.charAt(i++)]<<18|Fl[e.charAt(i++)]<<12|(n=Fl[e.charAt(i++)])<<6|(r=Fl[e.charAt(i++)]),n===64?s.push(Je(t>>16&255)):r===64?s.push(Je(t>>16&255,t>>8&255)):s.push(Je(t>>16&255,t>>8&255,t&255));return s.join("")},hh=typeof atob=="function"?e=>atob(Tx(e)):Ui?e=>Buffer.from(e,"base64").toString("binary"):Lx,Ox=Ui?e=>hm(Buffer.from(e,"base64")):e=>hm(hh(e).split("").map(t=>t.charCodeAt(0))),qx=e=>Ox(Mx(e)),TI=Ui?e=>Buffer.from(e,"base64").toString("utf8"):dm?e=>dm.decode(Ox(e)):e=>Ax(hh(e)),Mx=e=>Tx(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Pd=e=>TI(Mx(e)),jI=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},$x=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Dx=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,$x(n));e("fromBase64",function(){return Pd(this)}),e("toBase64",function(t){return ui(this,t)}),e("toBase64URI",function(){return ui(this,!0)}),e("toBase64URL",function(){return ui(this,!0)}),e("toUint8Array",function(){return qx(this)})},Bx=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,$x(n));e("toBase64",function(t){return la(this,t)}),e("toBase64URI",function(){return la(this,!0)}),e("toBase64URL",function(){return la(this,!0)})},PI=()=>{Dx(),Bx()},ph={version:Ex,VERSION:CI,atob:hh,atobPolyfill:Lx,btoa:fh,btoaPolyfill:jx,fromBase64:Pd,toBase64:ui,encode:ui,encodeURI:mm,encodeURL:mm,utob:Px,btou:Ax,decode:Pd,isValid:jI,fromUint8Array:la,toUint8Array:qx,extendString:Dx,extendUint8Array:Bx,extendBuiltins:PI},Yo="https://github.com/libsql/libsql-client-ts#supported-urls";function Ad(e){if(e==="write")return"BEGIN IMMEDIATE";if(e==="read")return"BEGIN TRANSACTION READONLY";if(e==="deferred")return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class AI{constructor(t,n,r,s,i){g(this,"columns");g(this,"columnTypes");g(this,"rows");g(this,"rowsAffected");g(this,"lastInsertRowid");this.columns=t,this.columnTypes=n,this.rows=r,this.rowsAffected=s,this.lastInsertRowid=i}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(LI),rowsAffected:this.rowsAffected,lastInsertRowid:this.lastInsertRowid!==void 0?""+this.lastInsertRowid:null}}}function LI(e){return Array.prototype.map.call(e,OI)}function OI(e){return typeof e=="bigint"?""+e:e instanceof ArrayBuffer?ph.fromUint8Array(new Uint8Array(e)):e}const ym=":memory:";function qI(e,t){var C,R;if(typeof e!="object")throw new TypeError(`Expected client configuration as object, got ${typeof e}`);let{url:n,authToken:r,tls:s,intMode:i,concurrency:o}=e;o=Math.max(0,o||20),i??(i="number");let l=[];n===ym&&(n="file::memory:");const a=mI(n),u=a.scheme.toLowerCase(),c=u==="file"&&a.path===ym&&a.authority===void 0;let p;c?p={cache:{values:["shared","private"],update:(f,h)=>l.push(`${f}=${h}`)}}:p={tls:{values:["0","1"],update:(f,h)=>s=h==="1"},authToken:{update:(f,h)=>r=h}};for(const{key:f,value:h}of((C=a.query)==null?void 0:C.pairs)??[]){if(!Object.hasOwn(p,f))throw new de(`Unsupported URL query parameter ${JSON.stringify(f)}`,"URL_PARAM_NOT_SUPPORTED");const y=p[f];if(y.values!==void 0&&!y.values.includes(h))throw new de(`Unknown value for the "${f}" query argument: ${JSON.stringify(h)}. Supported values are: [${y.values.map(S=>'"'+S+'"').join(", ")}]`,"URL_INVALID");y.update!==void 0&&(y==null||y.update(f,h))}const m=l.length===0?"":`?${l.join("&")}`,x=a.path+m;let b;if(u==="libsql")if(s===!1){if(((R=a.authority)==null?void 0:R.port)===void 0)throw new de('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");b="http"}else b="https";else b=u;if(b==="http"||b==="ws"?s??(s=!1):s??(s=!0),b!=="http"&&b!=="ws"&&b!=="https"&&b!=="wss"&&b!=="file")throw new de(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(a.scheme+":")}. For more information, please read ${Yo}`,"URL_SCHEME_NOT_SUPPORTED");if(i!=="number"&&i!=="bigint"&&i!=="string")throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(i)}`);if(a.fragment!==void 0)throw new de(`URL fragments are not supported: ${JSON.stringify("#"+a.fragment)}`,"URL_INVALID");return c?{scheme:"file",tls:!1,path:x,intMode:i,concurrency:o,syncUrl:e.syncUrl,syncInterval:e.syncInterval,fetch:e.fetch,authToken:void 0,encryptionKey:void 0,authority:void 0}:{scheme:b,tls:s,authority:a.authority,path:x,authToken:r,intMode:i,concurrency:o,encryptionKey:e.encryptionKey,syncUrl:e.syncUrl,syncInterval:e.syncInterval,fetch:e.fetch}}let ti;typeof WebSocket<"u"?ti=WebSocket:typeof global<"u"?ti=global.WebSocket:typeof window<"u"?ti=window.WebSocket:typeof self<"u"&&(ti=self.WebSocket);class zx{constructor(){g(this,"intMode");this.intMode="number"}}class Re extends Error{constructor(t){super(t),this.name="ClientError"}}class te extends Re{constructor(t){super(t),this.name="ProtoError"}}class Ux extends Re{constructor(n,r){super(n);g(this,"code");g(this,"proto");this.name="ResponseError",this.code=r.code,this.proto=r,this.stack=void 0}}class Gt extends Re{constructor(t,n){n!==void 0?(super(`${t}: ${n}`),this.cause=n):super(t),this.name="ClosedError"}}class Fx extends Re{constructor(t){super(t),this.name="WebSocketUnsupportedError"}}class Ld extends Re{constructor(t){super(t),this.name="WebSocketError"}}class Qx extends Re{constructor(n,r){super(n);g(this,"status");this.status=r,this.name="HttpServerError"}}class Pi extends Re{constructor(t){super(t),this.name="ProtocolVersionError"}}class Qr extends Re{constructor(t){super(t),this.name="InternalError"}}class Fi extends Re{constructor(t){super(t),this.name="MisuseError"}}function fn(e){if(typeof e=="string")return e;throw Qi(e,"string")}function gn(e){if(e!=null){if(typeof e=="string")return e;throw Qi(e,"string or null")}}function bs(e){if(typeof e=="number")return e;throw Qi(e,"number")}function Xo(e){if(typeof e=="boolean")return e;throw Qi(e,"boolean")}function Fa(e){if(Array.isArray(e))return e;throw Qi(e,"array")}function Xe(e){if(e!==null&&typeof e=="object"&&!Array.isArray(e))return e;throw Qi(e,"object")}function Vr(e,t){return Fa(e).map(n=>t(Xe(n)))}function Qi(e,t){if(e===void 0)return new te(`Expected ${t}, but the property was missing`);let n=typeof e;return e===null?n="null":Array.isArray(e)&&(n="array"),new te(`Expected ${t}, received ${n}`)}function mh(e,t){return t(Xe(e))}var $e,Sr,Bn,Zr;class MI{constructor(t){L(this,Bn);L(this,$e);L(this,Sr);E(this,$e,t),E(this,Sr,!1)}begin(){d(this,$e).push("{"),E(this,Sr,!0)}end(){d(this,$e).push("}"),E(this,Sr,!1)}string(t,n){O(this,Bn,Zr).call(this,t),d(this,$e).push(JSON.stringify(n))}stringRaw(t,n){O(this,Bn,Zr).call(this,t),d(this,$e).push('"'),d(this,$e).push(n),d(this,$e).push('"')}number(t,n){O(this,Bn,Zr).call(this,t),d(this,$e).push(""+n)}boolean(t,n){O(this,Bn,Zr).call(this,t),d(this,$e).push(n?"true":"false")}object(t,n,r){O(this,Bn,Zr).call(this,t),this.begin(),r(this,n),this.end()}arrayObjects(t,n,r){O(this,Bn,Zr).call(this,t),d(this,$e).push("[");for(let s=0;s<n.length;++s)s!==0&&d(this,$e).push(","),this.begin(),r(this,n[s]),this.end();d(this,$e).push("]")}}$e=new WeakMap,Sr=new WeakMap,Bn=new WeakSet,Zr=function(t){d(this,Sr)?(d(this,$e).push('"'),E(this,Sr,!1)):d(this,$e).push(',"'),d(this,$e).push(t),d(this,$e).push('":')};function Vx(e,t){const n=[],r=new MI(n);return r.begin(),t(r,e),r.end(),n.join("")}const No=0,Od=1,qd=2,$I=5;var kn,tl,jt;class DI{constructor(t){L(this,kn);L(this,tl);L(this,jt);E(this,kn,t),E(this,tl,new DataView(t.buffer,t.byteOffset,t.byteLength)),E(this,jt,0)}varint(){let t=0;for(let n=0;;n+=7){const r=d(this,kn)[Ms(this,jt)._++];if(t|=(r&127)<<n,!(r&128))break}return t}varintBig(){let t=0n;for(let n=0n;;n+=7n){const r=d(this,kn)[Ms(this,jt)._++];if(t|=BigInt(r&127)<<n,!(r&128))break}return t}bytes(t){const n=new Uint8Array(d(this,kn).buffer,d(this,kn).byteOffset+d(this,jt),t);return E(this,jt,d(this,jt)+t),n}double(){const t=d(this,tl).getFloat64(d(this,jt),!0);return E(this,jt,d(this,jt)+8),t}skipVarint(){for(;d(this,kn)[Ms(this,jt)._++]&128;);}skip(t){E(this,jt,d(this,jt)+t)}eof(){return d(this,jt)>=d(this,kn).byteLength}}kn=new WeakMap,tl=new WeakMap,jt=new WeakMap;var yt,ot,ls,uo;class BI{constructor(t){L(this,ls);L(this,yt);L(this,ot);E(this,yt,t),E(this,ot,-1)}setup(t){E(this,ot,t)}bytes(){O(this,ls,uo).call(this,qd);const t=d(this,yt).varint();return d(this,yt).bytes(t)}string(){return new TextDecoder().decode(this.bytes())}message(t){return Au(this.bytes(),t)}int32(){return O(this,ls,uo).call(this,No),d(this,yt).varint()}uint32(){return this.int32()}bool(){return this.int32()!==0}uint64(){return O(this,ls,uo).call(this,No),d(this,yt).varintBig()}sint64(){const t=this.uint64();return t>>1n^-(t&1n)}double(){return O(this,ls,uo).call(this,Od),d(this,yt).double()}maybeSkip(){if(!(d(this,ot)<0)){if(d(this,ot)===No)d(this,yt).skipVarint();else if(d(this,ot)===Od)d(this,yt).skip(8);else if(d(this,ot)===qd){const t=d(this,yt).varint();d(this,yt).skip(t)}else if(d(this,ot)===$I)d(this,yt).skip(4);else throw new te(`Unexpected wire type ${d(this,ot)}`);E(this,ot,-1)}}}yt=new WeakMap,ot=new WeakMap,ls=new WeakSet,uo=function(t){if(d(this,ot)!==t)throw new te(`Expected wire type ${t}, got ${d(this,ot)}`);E(this,ot,-1)};function Au(e,t){const n=new DI(e),r=new BI(n);let s=t.default();for(;!n.eof();){const i=n.varint(),o=i>>3,l=i&7;r.setup(l);const a=t[o];if(a!==void 0){const u=a(r,s);u!==void 0&&(s=u)}r.maybeSkip()}return s}var nn,xr,ci,gt,Ve,co,aa,Wx,fo;const Oh=class Oh{constructor(){L(this,Ve);L(this,nn);L(this,xr);L(this,ci);L(this,gt);E(this,nn,new ArrayBuffer(256)),E(this,xr,new Uint8Array(d(this,nn))),E(this,ci,new DataView(d(this,nn))),E(this,gt,0)}bytes(t,n){O(this,Ve,fo).call(this,t,qd),O(this,Ve,aa).call(this,n.byteLength),O(this,Ve,co).call(this,n.byteLength),d(this,xr).set(n,d(this,gt)),E(this,gt,d(this,gt)+n.byteLength)}string(t,n){this.bytes(t,new TextEncoder().encode(n))}message(t,n,r){const s=new Oh;r(s,n),this.bytes(t,s.data())}int32(t,n){O(this,Ve,fo).call(this,t,No),O(this,Ve,aa).call(this,n)}uint32(t,n){this.int32(t,n)}bool(t,n){this.int32(t,n?1:0)}sint64(t,n){O(this,Ve,fo).call(this,t,No),O(this,Ve,Wx).call(this,n<<1n^n>>63n)}double(t,n){O(this,Ve,fo).call(this,t,Od),O(this,Ve,co).call(this,8),d(this,ci).setFloat64(d(this,gt),n,!0),E(this,gt,d(this,gt)+8)}data(){return new Uint8Array(d(this,nn),0,d(this,gt))}};nn=new WeakMap,xr=new WeakMap,ci=new WeakMap,gt=new WeakMap,Ve=new WeakSet,co=function(t){if(d(this,gt)+t<=d(this,nn).byteLength)return;let n=d(this,nn).byteLength;for(;n<d(this,gt)+t;)n*=2;const r=new ArrayBuffer(n),s=new Uint8Array(r),i=new DataView(r);s.set(new Uint8Array(d(this,nn),0,d(this,gt))),E(this,nn,r),E(this,xr,s),E(this,ci,i)},aa=function(t){O(this,Ve,co).call(this,5),t=0|t;do{let n=t&127;t>>>=7,n|=t?128:0,d(this,xr)[Ms(this,gt)._++]=n}while(t)},Wx=function(t){O(this,Ve,co).call(this,10),t=t&0xffffffffffffffffn;do{let n=Number(t&0x7fn);t>>=7n,n|=t?128:0,d(this,xr)[Ms(this,gt)._++]=n}while(t)},fo=function(t,n){O(this,Ve,aa).call(this,t<<3|n)};let Md=Oh;function Hx(e,t){const n=new Md;return t(n,e),n.data()}var Pt,zn;class ho{constructor(){L(this,Pt);L(this,zn);E(this,Pt,new Set),E(this,zn,new Set)}alloc(){for(const n of d(this,zn))return d(this,zn).delete(n),d(this,Pt).add(n),d(this,Pt).has(d(this,Pt).size-1)||d(this,zn).add(d(this,Pt).size-1),n;const t=d(this,Pt).size;return d(this,Pt).add(t),t}free(t){if(!d(this,Pt).delete(t))throw new Qr("Freeing an id that is not allocated");d(this,zn).delete(d(this,Pt).size),t<d(this,Pt).size&&d(this,zn).add(t)}}Pt=new WeakMap,zn=new WeakMap;function qe(e,t){throw new Qr(t)}function Io(e){if(e===null)return null;if(typeof e=="string")return e;if(typeof e=="number"){if(!Number.isFinite(e))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return e}else if(typeof e=="bigint"){if(e<zI||e>UI)throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return e}else{if(typeof e=="boolean")return e?1n:0n;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;if(e instanceof Date)return+e.valueOf();if(typeof e=="object")return""+e.toString();throw new TypeError("Unsupported type of value")}}const zI=-9223372036854775808n,UI=9223372036854775807n;function Kx(e,t){if(e===null)return null;if(typeof e=="number")return e;if(typeof e=="string")return e;if(typeof e=="bigint")if(t==="number"){const n=Number(e);if(!Number.isSafeInteger(n))throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");return n}else{if(t==="bigint")return e;if(t==="string")return""+e;throw new Fi("Invalid value for IntMode")}else{if(e instanceof Uint8Array)return e.slice().buffer;throw e===void 0?new te("Received unrecognized type of Value"):qe(e,"Impossible type of Value")}}function Sl(e){return{affectedRowCount:e.affectedRowCount,lastInsertRowid:e.lastInsertRowid,columnNames:e.cols.map(t=>t.name),columnDecltypes:e.cols.map(t=>t.decltype)}}function Gx(e,t){const n=Sl(e),r=e.rows.map(s=>Xx(n.columnNames,s,t));return{...n,rows:r}}function Jx(e,t){const n=Sl(e);let r;return e.rows.length>0&&(r=Xx(n.columnNames,e.rows[0],t)),{...n,row:r}}function Yx(e,t){const n=Sl(e);let r;return e.rows.length>0&&n.columnNames.length>0&&(r=Kx(e.rows[0][0],t)),{...n,value:r}}function Xx(e,t,n){const r={};Object.defineProperty(r,"length",{value:t.length});for(let s=0;s<t.length;++s){const i=Kx(t[s],n);Object.defineProperty(r,s,{value:i});const o=e[s];o!==void 0&&!Object.hasOwn(r,o)&&Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0})}return r}function Ai(e){return new Ux(e.message,e)}var di,fi,Un;class yh{constructor(t,n){L(this,di);L(this,fi);L(this,Un);E(this,di,t),E(this,fi,n),E(this,Un,void 0)}_getSqlId(t){if(d(this,di)!==t)throw new Fi("Attempted to use SQL text opened with other object");if(d(this,Un)!==void 0)throw new Gt("SQL text is closed",d(this,Un));return d(this,fi)}close(){this._setClosed(new Re("SQL text was manually closed"))}_setClosed(t){d(this,Un)===void 0&&(E(this,Un,t),d(this,di)._closeSql(d(this,fi)))}get closed(){return d(this,Un)!==void 0}}di=new WeakMap,fi=new WeakMap,Un=new WeakMap;function $d(e,t){return t instanceof yh?{sqlId:t._getSqlId(e)}:{sql:""+t}}var Nn,rn;class Qa{constructor(){L(this,Nn);L(this,rn);E(this,Nn,[]),E(this,rn,[])}get length(){return d(this,Nn).length+d(this,rn).length}push(t){d(this,Nn).push(t)}shift(){return d(this,rn).length===0&&d(this,Nn).length>0&&(E(this,rn,d(this,Nn).reverse()),E(this,Nn,[])),d(this,rn).pop()}first(){return d(this,rn).length!==0?d(this,rn)[d(this,rn).length-1]:d(this,Nn)[0]}}Nn=new WeakMap,rn=new WeakMap;let Dd=class{constructor(t){g(this,"sql");g(this,"_args");g(this,"_namedArgs");this.sql=t,this._args=[],this._namedArgs=new Map}bindIndexes(t){this._args.length=0;for(const n of t)this._args.push(Io(n));return this}bindIndex(t,n){if(t!==(t|0)||t<=0)throw new RangeError("Index of a positional argument must be positive integer");for(;this._args.length<t;)this._args.push(null);return this._args[t-1]=Io(n),this}bindName(t,n){return this._namedArgs.set(t,Io(n)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}};function Zx(e,t,n){let r,s=[],i=[];if(t instanceof Dd){r=t.sql,s=t._args;for(const[a,u]of t._namedArgs.entries())i.push({name:a,value:u})}else Array.isArray(t)?(r=t[0],Array.isArray(t[1])?s=t[1].map(a=>Io(a)):i=Object.entries(t[1]).map(([a,u])=>({name:a,value:Io(u)}))):r=t;const{sql:o,sqlId:l}=$d(e,r);return{sql:o,sqlId:l,args:s,namedArgs:i,wantRows:n}}var nl,hi,Ov;let FI=(Ov=class{constructor(t,n){g(this,"_stream");L(this,nl);g(this,"_steps");L(this,hi);this._stream=t,E(this,nl,n),this._steps=[],E(this,hi,!1)}step(){return new WI(this)}execute(){if(d(this,hi))throw new Fi("This batch has already been executed");E(this,hi,!0);const t={steps:this._steps.map(n=>n.proto)};return d(this,nl)?VI(this._stream,this._steps,t):QI(this._stream,this._steps,t)}},nl=new WeakMap,hi=new WeakMap,Ov);function QI(e,t,n){return e._batch(n).then(r=>{for(let s=0;s<t.length;++s){const i=r.stepResults.get(s),o=r.stepErrors.get(s);t[s].callback(i,o)}})}async function VI(e,t,n){const r=await e._openCursor(n);try{let s=0,i,o=[];for(;;){const l=await r.next();if(l===void 0)break;if(l.type==="step_begin"){if(l.step<s||l.step>=t.length)throw new te("Server produced StepBeginEntry for unexpected step");if(i!==void 0)throw new te("Server produced StepBeginEntry before terminating previous step");for(let a=s;a<l.step;++a)t[a].callback(void 0,void 0);s=l.step+1,i=l,o=[]}else if(l.type==="step_end"){if(i===void 0)throw new te("Server produced StepEndEntry but no step is active");const a={cols:i.cols,rows:o,affectedRowCount:l.affectedRowCount,lastInsertRowid:l.lastInsertRowid};t[i.step].callback(a,void 0),i=void 0,o=[]}else if(l.type==="step_error"){if(i===void 0){if(l.step>=t.length)throw new te("Server produced StepErrorEntry for unexpected step");for(let a=s;a<l.step;++a)t[a].callback(void 0,void 0)}else{if(l.step!==i.step)throw new te("Server produced StepErrorEntry for unexpected step");i=void 0,o=[]}t[l.step].callback(void 0,l.error),s=l.step+1}else if(l.type==="row"){if(i===void 0)throw new te("Server produced RowEntry but no step is active");o.push(l.row)}else throw l.type==="error"?Ai(l.error):l.type==="none"?new te("Server produced unrecognized CursorEntry"):qe(l,"Impossible CursorEntry")}if(i!==void 0)throw new te("Server closed Cursor before terminating active step");for(let l=s;l<t.length;++l)t[l].callback(void 0,void 0)}finally{r.close()}}var Fn,as,po,qv;let WI=(qv=class{constructor(t){L(this,as);g(this,"_batch");L(this,Fn);g(this,"_index");this._batch=t,E(this,Fn,[]),this._index=void 0}condition(t){return d(this,Fn).push(t._proto),this}query(t){return O(this,as,po).call(this,t,!0,Gx)}queryRow(t){return O(this,as,po).call(this,t,!0,Jx)}queryValue(t){return O(this,as,po).call(this,t,!0,Yx)}run(t){return O(this,as,po).call(this,t,!1,Sl)}},Fn=new WeakMap,as=new WeakSet,po=function(t,n,r){if(this._index!==void 0)throw new Fi("This BatchStep has already been added to the batch");const s=Zx(this._batch._stream._sqlOwner(),t,n);let i;d(this,Fn).length===0?i=void 0:d(this,Fn).length===1?i=d(this,Fn)[0]:i={type:"and",conds:d(this,Fn).slice()};const o={stmt:s,condition:i};return new Promise((l,a)=>{const u=(c,p)=>{c!==void 0&&p!==void 0?a(new te("Server returned both result and error")):p!==void 0?a(Ai(p)):l(c!==void 0?r(c,this._batch._stream.intMode):void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:o,callback:u})})},qv),xt=class es{constructor(t,n){g(this,"_batch");g(this,"_proto");this._batch=t,this._proto=n}static ok(t){return new es(t._batch,{type:"ok",step:gm(t)})}static error(t){return new es(t._batch,{type:"error",step:gm(t)})}static not(t){return new es(t._batch,{type:"not",cond:t._proto})}static and(t,n){for(const r of n)vm(t,r);return new es(t,{type:"and",conds:n.map(r=>r._proto)})}static or(t,n){for(const r of n)vm(t,r);return new es(t,{type:"or",conds:n.map(r=>r._proto)})}static isAutocommit(t){return t._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new es(t,{type:"is_autocommit"})}};function gm(e){if(e._index===void 0)throw new Fi("Cannot add a condition referencing a step that has not been added to the batch");return e._index}function vm(e,t){if(t._batch!==e)throw new Fi("Cannot mix BatchCond objects for different Batch objects")}function HI(e){return{paramNames:e.params.map(t=>t.name),columns:e.cols,isExplain:e.isExplain,isReadonly:e.isReadonly}}var us,mo;class eb{constructor(t){L(this,us);g(this,"intMode");this.intMode=t}query(t){return O(this,us,mo).call(this,t,!0,Gx)}queryRow(t){return O(this,us,mo).call(this,t,!0,Jx)}queryValue(t){return O(this,us,mo).call(this,t,!0,Yx)}run(t){return O(this,us,mo).call(this,t,!1,Sl)}batch(t=!1){return new FI(this,t)}describe(t){const n=$d(this._sqlOwner(),t);return this._describe(n).then(HI)}sequence(t){const n=$d(this._sqlOwner(),t);return this._sequence(n)}}us=new WeakSet,mo=function(t,n,r){const s=Zx(this._sqlOwner(),t,n);return this._execute(s).then(i=>r(i,this.intMode))};class tb{}const KI=1e3,GI=10;var tu,cs,pi,mi,ds,Qn,fs,nu,nb;class JI extends tb{constructor(n,r,s){super();L(this,nu);L(this,tu);L(this,cs);L(this,pi);L(this,mi);L(this,ds);L(this,Qn);L(this,fs);E(this,tu,n),E(this,cs,r),E(this,pi,s),E(this,mi,new Qa),E(this,ds,new Qa),E(this,Qn,void 0),E(this,fs,!1)}async next(){for(;;){if(d(this,Qn)!==void 0)throw new Gt("Cursor is closed",d(this,Qn));for(;!d(this,fs)&&d(this,ds).length<GI;)d(this,ds).push(O(this,nu,nb).call(this));const n=d(this,mi).shift();if(d(this,fs)||n!==void 0)return n;await d(this,ds).shift().then(r=>{if(r!==void 0){for(const s of r.entries)d(this,mi).push(s);d(this,fs)||E(this,fs,r.done)}})}}_setClosed(n){d(this,Qn)===void 0&&(E(this,Qn,n),d(this,cs)._sendCursorRequest(this,{type:"close_cursor",cursorId:d(this,pi)}).catch(()=>{}),d(this,cs)._cursorClosed(this))}close(){this._setClosed(new Re("Cursor was manually closed"))}get closed(){return d(this,Qn)!==void 0}}tu=new WeakMap,cs=new WeakMap,pi=new WeakMap,mi=new WeakMap,ds=new WeakMap,Qn=new WeakMap,fs=new WeakMap,nu=new WeakSet,nb=function(){return d(this,cs)._sendCursorRequest(this,{type:"fetch_cursor",cursorId:d(this,pi),maxCount:KI}).then(n=>n,n=>{this._setClosed(n)})};var Ke,Ut,Vn,At,br,sn,Be,Bs,zd,ua,ca;const qh=class qh extends eb{constructor(n,r){super(n.intMode);L(this,Be);L(this,Ke);L(this,Ut);L(this,Vn);L(this,At);L(this,br);L(this,sn);E(this,Ke,n),E(this,Ut,r),E(this,Vn,new Qa),E(this,At,void 0),E(this,br,!1),E(this,sn,void 0)}static open(n){const r=n._streamIdAlloc.alloc(),s=new qh(n,r),i=()=>{},o=a=>{var u;return O(u=s,Be,ca).call(u,a)},l={type:"open_stream",streamId:r};return n._sendRequest(l,{responseCallback:i,errorCallback:o}),s}client(){return d(this,Ke)}_sqlOwner(){return d(this,Ke)}_execute(n){return O(this,Be,Bs).call(this,{type:"execute",streamId:d(this,Ut),stmt:n}).then(r=>r.result)}_batch(n){return O(this,Be,Bs).call(this,{type:"batch",streamId:d(this,Ut),batch:n}).then(r=>r.result)}_describe(n){return d(this,Ke)._ensureVersion(2,"describe()"),O(this,Be,Bs).call(this,{type:"describe",streamId:d(this,Ut),sql:n.sql,sqlId:n.sqlId}).then(r=>r.result)}_sequence(n){return d(this,Ke)._ensureVersion(2,"sequence()"),O(this,Be,Bs).call(this,{type:"sequence",streamId:d(this,Ut),sql:n.sql,sqlId:n.sqlId}).then(r=>{})}getAutocommit(){return d(this,Ke)._ensureVersion(3,"getAutocommit()"),O(this,Be,Bs).call(this,{type:"get_autocommit",streamId:d(this,Ut)}).then(n=>n.isAutocommit)}_openCursor(n){return d(this,Ke)._ensureVersion(3,"cursor"),new Promise((r,s)=>{O(this,Be,zd).call(this,{type:"cursor",batch:n,cursorCallback:r,errorCallback:s})})}_sendCursorRequest(n,r){if(n!==d(this,At))throw new Qr("Cursor not associated with the stream attempted to execute a request");return new Promise((s,i)=>{d(this,sn)!==void 0?i(new Gt("Stream is closed",d(this,sn))):d(this,Ke)._sendRequest(r,{responseCallback:s,errorCallback:i})})}_cursorClosed(n){if(n!==d(this,At))throw new Qr("Cursor was closed, but it was not associated with the stream");E(this,At,void 0),O(this,Be,ua).call(this)}close(){O(this,Be,ca).call(this,new Re("Stream was manually closed"))}closeGracefully(){E(this,br,!0),O(this,Be,ua).call(this)}get closed(){return d(this,sn)!==void 0||d(this,br)}};Ke=new WeakMap,Ut=new WeakMap,Vn=new WeakMap,At=new WeakMap,br=new WeakMap,sn=new WeakMap,Be=new WeakSet,Bs=function(n){return new Promise((r,s)=>{O(this,Be,zd).call(this,{type:"request",request:n,responseCallback:r,errorCallback:s})})},zd=function(n){d(this,sn)!==void 0?n.errorCallback(new Gt("Stream is closed",d(this,sn))):d(this,br)?n.errorCallback(new Gt("Stream is closing",void 0)):(d(this,Vn).push(n),O(this,Be,ua).call(this))},ua=function(){for(;;){const n=d(this,Vn).first();if(n===void 0&&d(this,At)===void 0&&d(this,br)){O(this,Be,ca).call(this,new Re("Stream was gracefully closed"));break}else if((n==null?void 0:n.type)==="request"&&d(this,At)===void 0){const{request:r,responseCallback:s,errorCallback:i}=n;d(this,Vn).shift(),d(this,Ke)._sendRequest(r,{responseCallback:s,errorCallback:i})}else if((n==null?void 0:n.type)==="cursor"&&d(this,At)===void 0){const{batch:r,cursorCallback:s}=n;d(this,Vn).shift();const i=d(this,Ke)._cursorIdAlloc.alloc(),o=new JI(d(this,Ke),this,i),l={type:"open_cursor",streamId:d(this,Ut),cursorId:i,batch:r},a=()=>{},u=c=>o._setClosed(c);d(this,Ke)._sendRequest(l,{responseCallback:a,errorCallback:u}),E(this,At,o),s(o)}else break}},ca=function(n){if(d(this,sn)!==void 0)return;for(E(this,sn,n),d(this,At)!==void 0&&d(this,At)._setClosed(n);;){const o=d(this,Vn).shift();if(o!==void 0)o.errorCallback(n);else break}const r={type:"close_stream",streamId:d(this,Ut)},s=()=>d(this,Ke)._streamIdAlloc.free(d(this,Ut)),i=()=>{};d(this,Ke)._sendRequest(r,{responseCallback:s,errorCallback:i})};let Bd=qh;function gh(e,t){t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId),e.arrayObjects("args",t.args,rb),e.arrayObjects("named_args",t.namedArgs,YI),e.boolean("want_rows",t.wantRows)}function YI(e,t){e.string("name",t.name),e.object("value",t.value,rb)}function Va(e,t){e.arrayObjects("steps",t.steps,XI)}function XI(e,t){t.condition!==void 0&&e.object("condition",t.condition,Ud),e.object("stmt",t.stmt,gh)}function Ud(e,t){if(e.stringRaw("type",t.type),t.type==="ok"||t.type==="error")e.number("step",t.step);else if(t.type==="not")e.object("cond",t.cond,Ud);else if(t.type==="and"||t.type==="or")e.arrayObjects("conds",t.conds,Ud);else if(t.type!=="is_autocommit")throw qe(t,"Impossible type of BatchCond")}function rb(e,t){if(t===null)e.stringRaw("type","null");else if(typeof t=="bigint")e.stringRaw("type","integer"),e.stringRaw("value",""+t);else if(typeof t=="number")e.stringRaw("type","float"),e.number("value",t);else if(typeof t=="string")e.stringRaw("type","text"),e.string("value",t);else if(t instanceof Uint8Array)e.stringRaw("type","blob"),e.stringRaw("base64",ph.fromUint8Array(t));else if(t!==void 0)throw qe(t,"Impossible type of Value")}function ZI(e,t){if(e.stringRaw("type",t.type),t.type==="hello")t.jwt!==void 0&&e.string("jwt",t.jwt);else if(t.type==="request")e.number("request_id",t.requestId),e.object("request",t.request,eE);else throw qe(t,"Impossible type of ClientMsg")}function eE(e,t){if(e.stringRaw("type",t.type),t.type==="open_stream")e.number("stream_id",t.streamId);else if(t.type==="close_stream")e.number("stream_id",t.streamId);else if(t.type==="execute")e.number("stream_id",t.streamId),e.object("stmt",t.stmt,gh);else if(t.type==="batch")e.number("stream_id",t.streamId),e.object("batch",t.batch,Va);else if(t.type==="open_cursor")e.number("stream_id",t.streamId),e.number("cursor_id",t.cursorId),e.object("batch",t.batch,Va);else if(t.type==="close_cursor")e.number("cursor_id",t.cursorId);else if(t.type==="fetch_cursor")e.number("cursor_id",t.cursorId),e.number("max_count",t.maxCount);else if(t.type==="sequence")e.number("stream_id",t.streamId),t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="describe")e.number("stream_id",t.streamId),t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="store_sql")e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if(t.type==="close_sql")e.number("sql_id",t.sqlId);else if(t.type==="get_autocommit")e.number("stream_id",t.streamId);else throw qe(t,"Impossible type of Request")}function vh(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId);for(const n of t.args)e.message(3,n,sb);for(const n of t.namedArgs)e.message(4,n,tE);e.bool(5,t.wantRows)}function tE(e,t){e.string(1,t.name),e.message(2,t.value,sb)}function Lu(e,t){for(const n of t.steps)e.message(1,n,nE)}function nE(e,t){t.condition!==void 0&&e.message(1,t.condition,wh),e.message(2,t.stmt,vh)}function wh(e,t){if(t.type==="ok")e.uint32(1,t.step);else if(t.type==="error")e.uint32(2,t.step);else if(t.type==="not")e.message(3,t.cond,wh);else if(t.type==="and")e.message(4,t.conds,wm);else if(t.type==="or")e.message(5,t.conds,wm);else if(t.type==="is_autocommit")e.message(6,void 0,ib);else throw qe(t,"Impossible type of BatchCond")}function wm(e,t){for(const n of t)e.message(1,n,wh)}function sb(e,t){if(t===null)e.message(1,void 0,ib);else if(typeof t=="bigint")e.sint64(2,t);else if(typeof t=="number")e.double(3,t);else if(typeof t=="string")e.string(4,t);else if(t instanceof Uint8Array)e.bytes(5,t);else if(t!==void 0)throw qe(t,"Impossible type of Value")}function ib(e,t){}function rE(e,t){if(t.type==="hello")e.message(1,t,sE);else if(t.type==="request")e.message(2,t,iE);else throw qe(t,"Impossible type of ClientMsg")}function sE(e,t){t.jwt!==void 0&&e.string(1,t.jwt)}function iE(e,t){e.int32(1,t.requestId);const n=t.request;if(n.type==="open_stream")e.message(2,n,oE);else if(n.type==="close_stream")e.message(3,n,lE);else if(n.type==="execute")e.message(4,n,aE);else if(n.type==="batch")e.message(5,n,uE);else if(n.type==="open_cursor")e.message(6,n,cE);else if(n.type==="close_cursor")e.message(7,n,dE);else if(n.type==="fetch_cursor")e.message(8,n,fE);else if(n.type==="sequence")e.message(9,n,hE);else if(n.type==="describe")e.message(10,n,pE);else if(n.type==="store_sql")e.message(11,n,mE);else if(n.type==="close_sql")e.message(12,n,yE);else if(n.type==="get_autocommit")e.message(13,n,gE);else throw qe(n,"Impossible type of Request")}function oE(e,t){e.int32(1,t.streamId)}function lE(e,t){e.int32(1,t.streamId)}function aE(e,t){e.int32(1,t.streamId),e.message(2,t.stmt,vh)}function uE(e,t){e.int32(1,t.streamId),e.message(2,t.batch,Lu)}function cE(e,t){e.int32(1,t.streamId),e.int32(2,t.cursorId),e.message(3,t.batch,Lu)}function dE(e,t){e.int32(1,t.cursorId)}function fE(e,t){e.int32(1,t.cursorId),e.uint32(2,t.maxCount)}function hE(e,t){e.int32(1,t.streamId),t.sql!==void 0&&e.string(2,t.sql),t.sqlId!==void 0&&e.int32(3,t.sqlId)}function pE(e,t){e.int32(1,t.streamId),t.sql!==void 0&&e.string(2,t.sql),t.sqlId!==void 0&&e.int32(3,t.sqlId)}function mE(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function yE(e,t){e.int32(1,t.sqlId)}function gE(e,t){e.int32(1,t.streamId)}function Li(e){const t=fn(e.message),n=gn(e.code);return{message:t,code:n}}function Sh(e){const t=Vr(e.cols,ob),n=Fa(e.rows).map(o=>Vr(o,cb)),r=bs(e.affected_row_count),s=gn(e.last_insert_rowid),i=s!==void 0?BigInt(s):void 0;return{cols:t,rows:n,affectedRowCount:r,lastInsertRowid:i}}function ob(e){const t=gn(e.name),n=gn(e.decltype);return{name:t,decltype:n}}function lb(e){const t=new Map;Fa(e.step_results).forEach((r,s)=>{r!==null&&t.set(s,Sh(Xe(r)))});const n=new Map;return Fa(e.step_errors).forEach((r,s)=>{r!==null&&n.set(s,Li(Xe(r)))}),{stepResults:t,stepErrors:n}}function ab(e){const t=fn(e.type);if(t==="step_begin"){const n=bs(e.step),r=Vr(e.cols,ob);return{type:"step_begin",step:n,cols:r}}else if(t==="step_end"){const n=bs(e.affected_row_count),r=gn(e.last_insert_rowid),s=r!==void 0?BigInt(r):void 0;return{type:"step_end",affectedRowCount:n,lastInsertRowid:s}}else if(t==="step_error"){const n=bs(e.step),r=Li(Xe(e.error));return{type:"step_error",step:n,error:r}}else{if(t==="row")return{type:"row",row:Vr(e.row,cb)};if(t==="error")return{type:"error",error:Li(Xe(e.error))};throw new te("Unexpected type of CursorEntry")}}function ub(e){const t=Vr(e.params,vE),n=Vr(e.cols,wE),r=Xo(e.is_explain),s=Xo(e.is_readonly);return{params:t,cols:n,isExplain:r,isReadonly:s}}function vE(e){return{name:gn(e.name)}}function wE(e){const t=fn(e.name),n=gn(e.decltype);return{name:t,decltype:n}}function cb(e){const t=fn(e.type);if(t==="null")return null;if(t==="integer"){const n=fn(e.value);return BigInt(n)}else{if(t==="float")return bs(e.value);if(t==="text")return fn(e.value);if(t==="blob")return ph.toUint8Array(fn(e.base64));throw new te("Unexpected type of Value")}}function SE(e){const t=fn(e.type);if(t==="hello_ok")return{type:"hello_ok"};if(t==="hello_error")return{type:"hello_error",error:Li(Xe(e.error))};if(t==="response_ok"){const n=bs(e.request_id),r=xE(Xe(e.response));return{type:"response_ok",requestId:n,response:r}}else if(t==="response_error"){const n=bs(e.request_id),r=Li(Xe(e.error));return{type:"response_error",requestId:n,error:r}}else throw new te("Unexpected type of ServerMsg")}function xE(e){const t=fn(e.type);if(t==="open_stream")return{type:"open_stream"};if(t==="close_stream")return{type:"close_stream"};if(t==="execute")return{type:"execute",result:Sh(Xe(e.result))};if(t==="batch")return{type:"batch",result:lb(Xe(e.result))};if(t==="open_cursor")return{type:"open_cursor"};if(t==="close_cursor")return{type:"close_cursor"};if(t==="fetch_cursor"){const n=Vr(e.entries,ab),r=Xo(e.done);return{type:"fetch_cursor",entries:n,done:r}}else{if(t==="sequence")return{type:"sequence"};if(t==="describe")return{type:"describe",result:ub(Xe(e.result))};if(t==="store_sql")return{type:"store_sql"};if(t==="close_sql")return{type:"close_sql"};if(t==="get_autocommit")return{type:"get_autocommit",isAutocommit:Xo(e.is_autocommit)};throw new te("Unexpected type of Response")}}const On={default(){return{message:"",code:void 0}},1(e,t){t.message=e.string()},2(e,t){t.code=e.string()}},Oi={default(){return{cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}},1(e,t){t.cols.push(e.message(db))},2(e,t){t.rows.push(e.message(fb))},3(e,t){t.affectedRowCount=Number(e.uint64())},4(e,t){t.lastInsertRowid=e.sint64()}},db={default(){return{name:void 0,decltype:void 0}},1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},fb={default(){return[]},1(e,t){t.push(e.message(RE))}},Wa={default(){return{stepResults:new Map,stepErrors:new Map}},1(e,t){const[n,r]=e.message(bE);t.stepResults.set(n,r)},2(e,t){const[n,r]=e.message(CE);t.stepErrors.set(n,r)}},bE={default(){return[0,Oi.default()]},1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(Oi)}},CE={default(){return[0,On.default()]},1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(On)}},hb={default(){return{type:"none"}},1(e){return e.message(_E)},2(e){return e.message(kE)},3(e){return e.message(NE)},4(e){return{type:"row",row:e.message(fb)}},5(e){return{type:"error",error:e.message(On)}}},_E={default(){return{type:"step_begin",step:0,cols:[]}},1(e,t){t.step=e.uint32()},2(e,t){t.cols.push(e.message(db))}},kE={default(){return{type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}},1(e,t){t.affectedRowCount=e.uint32()},2(e,t){t.lastInsertRowid=e.uint64()}},NE={default(){return{type:"step_error",step:0,error:On.default()}},1(e,t){t.step=e.uint32()},2(e,t){t.error=e.message(On)}},Ha={default(){return{params:[],cols:[],isExplain:!1,isReadonly:!1}},1(e,t){t.params.push(e.message(IE))},2(e,t){t.cols.push(e.message(EE))},3(e,t){t.isExplain=e.bool()},4(e,t){t.isReadonly=e.bool()}},IE={default(){return{name:void 0}},1(e,t){t.name=e.string()}},EE={default(){return{name:"",decltype:void 0}},1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},RE={default(){},1(e){return null},2(e){return e.sint64()},3(e){return e.double()},4(e){return e.string()},5(e){return e.bytes()}},TE={default(){return{type:"none"}},1(e){return{type:"hello_ok"}},2(e){return e.message(jE)},3(e){return e.message(AE)},4(e){return e.message(PE)}},jE={default(){return{type:"hello_error",error:On.default()}},1(e,t){t.error=e.message(On)}},PE={default(){return{type:"response_error",requestId:0,error:On.default()}},1(e,t){t.requestId=e.int32()},2(e,t){t.error=e.message(On)}},AE={default(){return{type:"response_ok",requestId:0,response:{type:"none"}}},1(e,t){t.requestId=e.int32()},2(e,t){t.response={type:"open_stream"}},3(e,t){t.response={type:"close_stream"}},4(e,t){t.response=e.message(LE)},5(e,t){t.response=e.message(OE)},6(e,t){t.response={type:"open_cursor"}},7(e,t){t.response={type:"close_cursor"}},8(e,t){t.response=e.message(qE)},9(e,t){t.response={type:"sequence"}},10(e,t){t.response=e.message(ME)},11(e,t){t.response={type:"store_sql"}},12(e,t){t.response={type:"close_sql"}},13(e,t){t.response=e.message($E)}},LE={default(){return{type:"execute",result:Oi.default()}},1(e,t){t.result=e.message(Oi)}},OE={default(){return{type:"batch",result:Wa.default()}},1(e,t){t.result=e.message(Wa)}},qE={default(){return{type:"fetch_cursor",entries:[],done:!1}},1(e,t){t.entries.push(e.message(hb))},2(e,t){t.done=e.bool()}},ME={default(){return{type:"describe",result:Ha.default()}},1(e,t){t.result=e.message(Ha)}},$E={default(){return{type:"get_autocommit",isAutocommit:!1}},1(e,t){t.isAutocommit=e.bool()}},DE=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),pb=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);var nt,In,hs,vt,ps,wt,yi,on,Cr,gi,ce,Fd,mb,Qd,yb,gb,Cn,vb,wb,Mv;let BE=(Mv=class extends zx{constructor(n,r){super();L(this,ce);L(this,nt);L(this,In);L(this,hs);L(this,vt);L(this,ps);L(this,wt);L(this,yi);L(this,on);L(this,Cr);g(this,"_streamIdAlloc");g(this,"_cursorIdAlloc");L(this,gi);E(this,nt,n),E(this,In,[]),E(this,hs,!1),E(this,vt,void 0),E(this,ps,!1),E(this,wt,void 0),E(this,yi,!1),E(this,on,new Map),E(this,Cr,new ho),this._streamIdAlloc=new ho,this._cursorIdAlloc=new ho,E(this,gi,new ho),d(this,nt).binaryType="arraybuffer",d(this,nt).addEventListener("open",()=>O(this,ce,mb).call(this)),d(this,nt).addEventListener("close",s=>O(this,ce,gb).call(this,s)),d(this,nt).addEventListener("error",s=>O(this,ce,yb).call(this,s)),d(this,nt).addEventListener("message",s=>O(this,ce,vb).call(this,s)),O(this,ce,Fd).call(this,{type:"hello",jwt:r})}getVersion(){return new Promise((n,r)=>{if(E(this,yi,!0),d(this,vt)!==void 0)r(d(this,vt));else if(d(this,hs))n(d(this,wt).version);else{const s=()=>n(d(this,wt).version);d(this,In).push({openCallback:s,errorCallback:r})}})}_ensureVersion(n,r){if(d(this,wt)===void 0||!d(this,yi))throw new Pi(`${r} is supported only on protocol version ${n} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(d(this,wt).version<n)throw new Pi(`${r} is supported on protocol version ${n} and higher, but the WebSocket server only supports version ${d(this,wt).version}`)}_sendRequest(n,r){if(d(this,vt)!==void 0){r.errorCallback(new Gt("Client is closed",d(this,vt)));return}const s=d(this,Cr).alloc();d(this,on).set(s,{...r,type:n.type}),O(this,ce,Fd).call(this,{type:"request",requestId:s,request:n})}openStream(){return Bd.open(this)}storeSql(n){this._ensureVersion(2,"storeSql()");const r=d(this,gi).alloc(),s=new yh(this,r),i=()=>{},o=a=>s._setClosed(a),l={type:"store_sql",sqlId:r,sql:n};return this._sendRequest(l,{responseCallback:i,errorCallback:o}),s}_closeSql(n){if(d(this,vt)!==void 0)return;const r=()=>d(this,gi).free(n),s=o=>O(this,ce,Cn).call(this,o),i={type:"close_sql",sqlId:n};this._sendRequest(i,{responseCallback:r,errorCallback:s})}close(){O(this,ce,Cn).call(this,new Re("Client was manually closed"))}get closed(){return d(this,vt)!==void 0}},nt=new WeakMap,In=new WeakMap,hs=new WeakMap,vt=new WeakMap,ps=new WeakMap,wt=new WeakMap,yi=new WeakMap,on=new WeakMap,Cr=new WeakMap,gi=new WeakMap,ce=new WeakSet,Fd=function(n){if(d(this,vt)!==void 0)throw new Qr("Trying to send a message on a closed client");if(d(this,hs))O(this,ce,Qd).call(this,n);else{const r=()=>O(this,ce,Qd).call(this,n),s=()=>{};d(this,In).push({openCallback:r,errorCallback:s})}},mb=function(){const n=d(this,nt).protocol;if(n===void 0){O(this,ce,Cn).call(this,new Re("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}else if(n==="")E(this,wt,{version:1,encoding:"json"});else if(E(this,wt,pb.get(n)),d(this,wt)===void 0){O(this,ce,Cn).call(this,new te(`Unrecognized WebSocket subprotocol: ${JSON.stringify(n)}`));return}for(const r of d(this,In))r.openCallback();d(this,In).length=0,E(this,hs,!0)},Qd=function(n){const r=d(this,wt).encoding;if(r==="json"){const s=Vx(n,ZI);d(this,nt).send(s)}else if(r==="protobuf"){const s=Hx(n,rE);d(this,nt).send(s)}else throw qe(r,"Impossible encoding")},yb=function(n){const s=n.message??"WebSocket was closed due to an error";O(this,ce,Cn).call(this,new Ld(s))},gb=function(n){let r=`WebSocket was closed with code ${n.code}`;n.reason&&(r+=`: ${n.reason}`),O(this,ce,Cn).call(this,new Ld(r))},Cn=function(n){if(d(this,vt)===void 0){E(this,vt,n);for(const r of d(this,In))r.errorCallback(n);d(this,In).length=0;for(const[r,s]of d(this,on).entries())s.errorCallback(n),d(this,Cr).free(r);d(this,on).clear(),d(this,nt).close()}},vb=function(n){if(d(this,vt)===void 0)try{let r;const s=d(this,wt).encoding;if(s==="json"){if(typeof n.data!="string"){d(this,nt).close(3003,"Only text messages are accepted with JSON encoding"),O(this,ce,Cn).call(this,new te("Received non-text message from server with JSON encoding"));return}r=mh(JSON.parse(n.data),SE)}else if(s==="protobuf"){if(!(n.data instanceof ArrayBuffer)){d(this,nt).close(3003,"Only binary messages are accepted with Protobuf encoding"),O(this,ce,Cn).call(this,new te("Received non-binary message from server with Protobuf encoding"));return}r=Au(new Uint8Array(n.data),TE)}else throw qe(s,"Impossible encoding");O(this,ce,wb).call(this,r)}catch(r){d(this,nt).close(3007,"Could not handle message"),O(this,ce,Cn).call(this,r)}},wb=function(n){if(n.type==="none")throw new te("Received an unrecognized ServerMsg");if(n.type==="hello_ok"||n.type==="hello_error"){if(d(this,ps))throw new te("Received a duplicated hello response");if(E(this,ps,!0),n.type==="hello_error")throw Ai(n.error);return}else if(!d(this,ps))throw new te("Received a non-hello message before a hello response");if(n.type==="response_ok"){const r=n.requestId,s=d(this,on).get(r);if(d(this,on).delete(r),s===void 0)throw new te("Received unexpected OK response");d(this,Cr).free(r);try{if(s.type!==n.response.type)throw console.dir({responseState:s,msg:n}),new te("Received unexpected type of response");s.responseCallback(n.response)}catch(i){throw s.errorCallback(i),i}}else if(n.type==="response_error"){const r=n.requestId,s=d(this,on).get(r);if(d(this,on).delete(r),s===void 0)throw new te("Received unexpected error response");d(this,Cr).free(r),s.errorCallback(Ai(n.error))}else throw qe(n,"Impossible ServerMsg type")},Mv);const zE=fetch,Sb=Request,UE=Headers;let ni;if(typeof queueMicrotask<"u")ni=queueMicrotask;else{const e=Promise.resolve();ni=t=>{e.then(t)}}var Lt,ln,St,ru,xb;class FE{constructor(t){L(this,ru);L(this,Lt);L(this,ln);L(this,St);E(this,Lt,new Uint8Array(new ArrayBuffer(t))),E(this,ln,0),E(this,St,0)}get length(){return d(this,St)-d(this,ln)}data(){return d(this,Lt).slice(d(this,ln),d(this,St))}push(t){O(this,ru,xb).call(this,t.byteLength),d(this,Lt).set(t,d(this,St)),E(this,St,d(this,St)+t.byteLength)}shift(t){E(this,ln,d(this,ln)+t)}}Lt=new WeakMap,ln=new WeakMap,St=new WeakMap,ru=new WeakSet,xb=function(t){if(d(this,St)+t<=d(this,Lt).byteLength)return;const n=d(this,St)-d(this,ln);if(n+t<=d(this,Lt).byteLength&&2*d(this,St)>=d(this,Lt).byteLength)d(this,Lt).copyWithin(0,d(this,ln),d(this,St));else{let r=d(this,Lt).byteLength;do r*=2;while(n+t>r);const s=new Uint8Array(new ArrayBuffer(r));s.set(d(this,Lt).slice(d(this,ln),d(this,St)),0),E(this,Lt,s)}E(this,St,n),E(this,ln,0)};function QE(e){const t=gn(e.baton),n=gn(e.base_url),r=Vr(e.results,VE);return{baton:t,baseUrl:n,results:r}}function VE(e){const t=fn(e.type);if(t==="ok")return{type:"ok",response:WE(Xe(e.response))};if(t==="error")return{type:"error",error:Li(Xe(e.error))};throw new te("Unexpected type of StreamResult")}function WE(e){const t=fn(e.type);if(t==="close")return{type:"close"};if(t==="execute")return{type:"execute",result:Sh(Xe(e.result))};if(t==="batch")return{type:"batch",result:lb(Xe(e.result))};if(t==="sequence")return{type:"sequence"};if(t==="describe")return{type:"describe",result:ub(Xe(e.result))};if(t==="store_sql")return{type:"store_sql"};if(t==="close_sql")return{type:"close_sql"};if(t==="get_autocommit")return{type:"get_autocommit",isAutocommit:Xo(e.is_autocommit)};throw new te("Unexpected type of StreamResponse")}function HE(e){const t=gn(e.baton),n=gn(e.base_url);return{baton:t,baseUrl:n}}const KE={default(){return{baton:void 0,baseUrl:void 0,results:[]}},1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()},3(e,t){t.results.push(e.message(GE))}},GE={default(){return{type:"none"}},1(e){return{type:"ok",response:e.message(JE)}},2(e){return{type:"error",error:e.message(On)}}},JE={default(){return{type:"none"}},1(e){return{type:"close"}},2(e){return e.message(YE)},3(e){return e.message(XE)},4(e){return{type:"sequence"}},5(e){return e.message(ZE)},6(e){return{type:"store_sql"}},7(e){return{type:"close_sql"}},8(e){return e.message(eR)}},YE={default(){return{type:"execute",result:Oi.default()}},1(e,t){t.result=e.message(Oi)}},XE={default(){return{type:"batch",result:Wa.default()}},1(e,t){t.result=e.message(Wa)}},ZE={default(){return{type:"describe",result:Ha.default()}},1(e,t){t.result=e.message(Ha)}},eR={default(){return{type:"get_autocommit",isAutocommit:!1}},1(e,t){t.isAutocommit=e.bool()}},tR={default(){return{baton:void 0,baseUrl:void 0}},1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()}};var rl,ms,Wn,En,Hn,vi,ur,Vd,bb,Cb;class nR extends tb{constructor(n,r){super();L(this,ur);L(this,rl);L(this,ms);L(this,Wn);L(this,En);L(this,Hn);L(this,vi);E(this,rl,n),E(this,ms,r),E(this,Wn,void 0),E(this,En,new FE(16*1024)),E(this,Hn,void 0),E(this,vi,!1)}async open(n){if(n.body===null)throw new te("No response body for cursor request");E(this,Wn,n.body.getReader());const r=await O(this,ur,Vd).call(this,HE,tR);if(r===void 0)throw new te("Empty response to cursor request");return r}next(){return O(this,ur,Vd).call(this,ab,hb)}close(){this._setClosed(new Re("Cursor was manually closed"))}_setClosed(n){d(this,Hn)===void 0&&(E(this,Hn,n),d(this,rl)._cursorClosed(this),d(this,Wn)!==void 0&&d(this,Wn).cancel())}get closed(){return d(this,Hn)!==void 0}}rl=new WeakMap,ms=new WeakMap,Wn=new WeakMap,En=new WeakMap,Hn=new WeakMap,vi=new WeakMap,ur=new WeakSet,Vd=async function(n,r){for(;;){if(d(this,vi))return;if(d(this,Hn)!==void 0)throw new Gt("Cursor is closed",d(this,Hn));if(d(this,ms)==="json"){const o=O(this,ur,bb).call(this);if(o!==void 0){const l=new TextDecoder().decode(o),a=JSON.parse(l);return mh(a,n)}}else if(d(this,ms)==="protobuf"){const o=O(this,ur,Cb).call(this);if(o!==void 0)return Au(o,r)}else throw qe(d(this,ms),"Impossible encoding");if(d(this,Wn)===void 0)throw new Qr("Attempted to read from HTTP cursor before it was opened");const{value:s,done:i}=await d(this,Wn).read();if(i&&d(this,En).length===0)E(this,vi,!0);else{if(i)throw new te("Unexpected end of cursor stream");d(this,En).push(s)}}},bb=function(){const n=d(this,En).data(),s=n.indexOf(10);if(s<0)return;const i=n.slice(0,s);return d(this,En).shift(s+1),i},Cb=function(){const n=d(this,En).data();let r=0,s=0;for(;;){if(s>=n.byteLength)return;const o=n[s];if(r|=(o&127)<<7*s,s+=1,!(o&128))break}if(n.byteLength<s+r)return;const i=n.slice(s,s+r);return d(this,En).shift(s+r),i};function rR(e,t){t.baton!==void 0&&e.string("baton",t.baton),e.arrayObjects("requests",t.requests,sR)}function sR(e,t){if(e.stringRaw("type",t.type),t.type!=="close"){if(t.type==="execute")e.object("stmt",t.stmt,gh);else if(t.type==="batch")e.object("batch",t.batch,Va);else if(t.type==="sequence")t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="describe")t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="store_sql")e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if(t.type==="close_sql")e.number("sql_id",t.sqlId);else if(t.type!=="get_autocommit")throw qe(t,"Impossible type of StreamRequest")}}function iR(e,t){t.baton!==void 0&&e.string("baton",t.baton),e.object("batch",t.batch,Va)}function oR(e,t){t.baton!==void 0&&e.string(1,t.baton);for(const n of t.requests)e.message(2,n,lR)}function lR(e,t){if(t.type==="close")e.message(1,t,aR);else if(t.type==="execute")e.message(2,t,uR);else if(t.type==="batch")e.message(3,t,cR);else if(t.type==="sequence")e.message(4,t,dR);else if(t.type==="describe")e.message(5,t,fR);else if(t.type==="store_sql")e.message(6,t,hR);else if(t.type==="close_sql")e.message(7,t,pR);else if(t.type==="get_autocommit")e.message(8,t,mR);else throw qe(t,"Impossible type of StreamRequest")}function aR(e,t){}function uR(e,t){e.message(1,t.stmt,vh)}function cR(e,t){e.message(1,t.batch,Lu)}function dR(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId)}function fR(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId)}function hR(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function pR(e,t){e.int32(1,t.sqlId)}function mR(e,t){}function yR(e,t){t.baton!==void 0&&e.string(1,t.baton),e.message(2,t.batch,Lu)}var Kn,_r,wi,sl,kr,an,Nr,Gn,Jn,Ir,Rn,Si,ne,pr,Wd,ts,_b,kb,Hd,Nb,Ib,Kd;class gR extends eb{constructor(n,r,s,i){super(n.intMode);L(this,ne);L(this,Kn);L(this,_r);L(this,wi);L(this,sl);L(this,kr);L(this,an);L(this,Nr);L(this,Gn);L(this,Jn);L(this,Ir);L(this,Rn);L(this,Si);E(this,Kn,n),E(this,_r,r.toString()),E(this,wi,s),E(this,sl,i),E(this,kr,void 0),E(this,an,new Qa),E(this,Nr,!1),E(this,Jn,!1),E(this,Ir,!1),E(this,Rn,void 0),E(this,Si,new ho)}client(){return d(this,Kn)}_sqlOwner(){return this}storeSql(n){const r=d(this,Si).alloc();return O(this,ne,pr).call(this,{type:"store_sql",sqlId:r,sql:n}).then(()=>{},s=>this._setClosed(s)),new yh(this,r)}_closeSql(n){d(this,Rn)===void 0&&O(this,ne,pr).call(this,{type:"close_sql",sqlId:n}).then(()=>d(this,Si).free(n),r=>this._setClosed(r))}_execute(n){return O(this,ne,pr).call(this,{type:"execute",stmt:n}).then(r=>r.result)}_batch(n){return O(this,ne,pr).call(this,{type:"batch",batch:n}).then(r=>r.result)}_describe(n){return O(this,ne,pr).call(this,{type:"describe",sql:n.sql,sqlId:n.sqlId}).then(r=>r.result)}_sequence(n){return O(this,ne,pr).call(this,{type:"sequence",sql:n.sql,sqlId:n.sqlId}).then(r=>{})}getAutocommit(){return d(this,Kn)._ensureVersion(3,"getAutocommit()"),O(this,ne,pr).call(this,{type:"get_autocommit"}).then(n=>n.isAutocommit)}_openCursor(n){return new Promise((r,s)=>{O(this,ne,Wd).call(this,{type:"cursor",batch:n,cursorCallback:r,errorCallback:s})})}_cursorClosed(n){if(n!==d(this,Gn))throw new Qr("Cursor was closed, but it was not associated with the stream");E(this,Gn,void 0),ni(()=>O(this,ne,ts).call(this))}close(){this._setClosed(new Re("Stream was manually closed"))}closeGracefully(){E(this,Jn,!0),ni(()=>O(this,ne,ts).call(this))}get closed(){return d(this,Rn)!==void 0||d(this,Jn)}_setClosed(n){if(d(this,Rn)===void 0){for(E(this,Rn,n),d(this,Gn)!==void 0&&d(this,Gn)._setClosed(n),d(this,Kn)._streamClosed(this);;){const r=d(this,an).shift();if(r!==void 0)r.errorCallback(n);else break}(d(this,kr)!==void 0||d(this,Nr))&&!d(this,Ir)&&(d(this,an).push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),E(this,Ir,!0),ni(()=>O(this,ne,ts).call(this)))}}}Kn=new WeakMap,_r=new WeakMap,wi=new WeakMap,sl=new WeakMap,kr=new WeakMap,an=new WeakMap,Nr=new WeakMap,Gn=new WeakMap,Jn=new WeakMap,Ir=new WeakMap,Rn=new WeakMap,Si=new WeakMap,ne=new WeakSet,pr=function(n){return new Promise((r,s)=>{O(this,ne,Wd).call(this,{type:"pipeline",request:n,responseCallback:r,errorCallback:s})})},Wd=function(n){if(d(this,Rn)!==void 0)throw new Gt("Stream is closed",d(this,Rn));if(d(this,Jn))throw new Gt("Stream is closing",void 0);d(this,an).push(n),ni(()=>O(this,ne,ts).call(this))},ts=function(){if(d(this,Nr)||d(this,Gn)!==void 0)return;if(d(this,Jn)&&d(this,an).length===0){this._setClosed(new Re("Stream was gracefully closed"));return}const n=d(this,Kn)._endpoint;if(n===void 0){d(this,Kn)._endpointPromise.then(()=>O(this,ne,ts).call(this),s=>this._setClosed(s));return}const r=d(this,an).shift();if(r!==void 0)if(r.type==="pipeline"){const s=[r];for(;;){const i=d(this,an).first();if(i!==void 0&&i.type==="pipeline")s.push(i),d(this,an).shift();else if(i===void 0&&d(this,Jn)&&!d(this,Ir)){s.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),E(this,Ir,!0);break}else break}O(this,ne,_b).call(this,n,s)}else if(r.type==="cursor")O(this,ne,kb).call(this,n,r);else throw qe(r,"Impossible type of QueueEntry")},_b=function(n,r){O(this,ne,Hd).call(this,()=>O(this,ne,Nb).call(this,r,n),s=>wR(s,n.encoding),s=>s.baton,s=>s.baseUrl,s=>vR(r,s),s=>r.forEach(i=>i.errorCallback(s)))},kb=function(n,r){const s=new nR(this,n.encoding);E(this,Gn,s),O(this,ne,Hd).call(this,()=>O(this,ne,Ib).call(this,r,n),i=>s.open(i),i=>i.baton,i=>i.baseUrl,i=>r.cursorCallback(s),i=>r.errorCallback(i))},Hd=function(n,r,s,i,o,l){let a;try{const u=n();a=d(this,sl)(u)}catch(u){a=Promise.reject(u)}E(this,Nr,!0),a.then(u=>u.ok?r(u):SR(u).then(c=>{throw c})).then(u=>{E(this,kr,s(u)),E(this,_r,i(u)??d(this,_r)),o(u)}).catch(u=>{this._setClosed(u),l(u)}).finally(()=>{E(this,Nr,!1),O(this,ne,ts).call(this)})},Nb=function(n,r){return O(this,ne,Kd).call(this,new URL(r.pipelinePath,d(this,_r)),{baton:d(this,kr),requests:n.map(s=>s.request)},r.encoding,rR,oR)},Ib=function(n,r){if(r.cursorPath===void 0)throw new Pi(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${r.version}.`);return O(this,ne,Kd).call(this,new URL(r.cursorPath,d(this,_r)),{baton:d(this,kr),batch:n.batch},r.encoding,iR,yR)},Kd=function(n,r,s,i,o){let l,a;if(s==="json")l=Vx(r,i),a="application/json";else if(s==="protobuf")l=Hx(r,o),a="application/x-protobuf";else throw qe(s,"Impossible encoding");const u=new UE;return u.set("content-type",a),d(this,wi)!==void 0&&u.set("authorization",`Bearer ${d(this,wi)}`),new Sb(n.toString(),{method:"POST",headers:u,body:l})};function vR(e,t){if(t.results.length!==e.length)throw new te("Server returned unexpected number of pipeline results");for(let n=0;n<e.length;++n){const r=t.results[n],s=e[n];if(r.type==="ok"){if(r.response.type!==s.request.type)throw new te("Received unexpected type of response");s.responseCallback(r.response)}else if(r.type==="error")s.errorCallback(Ai(r.error));else throw r.type==="none"?new te("Received unrecognized type of StreamResult"):qe(r,"Received impossible type of StreamResult")}}async function wR(e,t){if(t==="json"){const n=await e.json();return mh(n,QE)}else if(t==="protobuf"){const n=await e.arrayBuffer();return Au(new Uint8Array(n),KE)}else throw qe(t,"Impossible encoding")}async function SR(e){const t=e.headers.get("content-type")??"text/plain";if(t==="application/json"){const r=await e.json();if("message"in r)return Ai(r)}let n=`Server returned HTTP status ${e.status}`;if(t==="text/plain"){const r=(await e.text()).trim();r!==""&&(n+=`: ${r}`)}return new Qx(n,e.status)}const xR=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],Gd={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};var xi,il,bi,Yn,ys,Ci,da,$v;let bR=($v=class extends zx{constructor(n,r,s,i=2){super();L(this,Ci);L(this,xi);L(this,il);L(this,bi);L(this,Yn);L(this,ys);g(this,"_endpointPromise");g(this,"_endpoint");E(this,xi,n),E(this,il,r),E(this,bi,s??zE),E(this,Yn,void 0),E(this,ys,new Set),i==3?(this._endpointPromise=CR(d(this,bi),d(this,xi)),this._endpointPromise.then(o=>this._endpoint=o,o=>O(this,Ci,da).call(this,o))):(this._endpointPromise=Promise.resolve(Gd),this._endpointPromise.then(o=>this._endpoint=o,o=>O(this,Ci,da).call(this,o)))}async getVersion(){return this._endpoint!==void 0?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(n,r){if(!(n<=Gd.version)){if(this._endpoint===void 0)throw new Pi(`${r} is supported only on protocol version ${n} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<n)throw new Pi(`${r} is supported only on protocol version ${n} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(d(this,Yn)!==void 0)throw new Gt("Client is closed",d(this,Yn));const n=new gR(this,d(this,xi),d(this,il),d(this,bi));return d(this,ys).add(n),n}_streamClosed(n){d(this,ys).delete(n)}close(){O(this,Ci,da).call(this,new Re("Client was manually closed"))}get closed(){return d(this,Yn)!==void 0}},xi=new WeakMap,il=new WeakMap,bi=new WeakMap,Yn=new WeakMap,ys=new WeakMap,Ci=new WeakSet,da=function(n){if(d(this,Yn)===void 0){E(this,Yn,n);for(const r of Array.from(d(this,ys)))r._setClosed(new Gt("Client was closed",n))}},$v);async function CR(e,t){const n=e;for(const r of xR){const s=new URL(r.versionPath,t),i=new Sb(s.toString(),{method:"GET"}),o=await n(i);if(await o.arrayBuffer(),o.ok)return r}return Gd}function Eb(e,t,n=2){if(typeof ti>"u")throw new Fx("WebSockets are not supported in this environment");var r=void 0;n==3?r=Array.from(pb.keys()):r=Array.from(DE.keys());const s=new ti(e,r);return new BE(s,t)}function _R(e,t,n,r=2){return new bR(e instanceof URL?e:new URL(e),t,n,r)}var _i,Xn,lt;class Rb{constructor(t,n){L(this,_i);L(this,Xn);L(this,lt);E(this,_i,t),E(this,Xn,n),E(this,lt,void 0)}execute(t){return this.batch([t]).then(n=>n[0])}async batch(t){const n=this._getStream();if(n.closed)throw new de("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{const r=t.map(Cs);let s;if(d(this,lt)===void 0){this._getSqlCache().apply(r);const o=n.batch(d(this,Xn)>=3),l=o.step(),a=l.run(Ad(d(this,_i)));let u=l;s=r.map(c=>{const p=o.step().condition(xt.ok(u));d(this,Xn)>=3&&p.condition(xt.not(xt.isAutocommit(o)));const m=p.query(c);return m.catch(()=>{}),u=p,m}),E(this,lt,o.execute().then(()=>a).then(()=>{}));try{await d(this,lt)}catch(c){throw this.close(),c}}else{d(this,Xn)<3&&await d(this,lt),this._getSqlCache().apply(r);const o=n.batch(d(this,Xn)>=3);let l;s=r.map(a=>{const u=o.step();l!==void 0&&u.condition(xt.ok(l)),d(this,Xn)>=3&&u.condition(xt.not(xt.isAutocommit(o)));const c=u.query(a);return c.catch(()=>{}),l=u,c}),await o.execute()}const i=[];for(const o of s){const l=await o;if(l===void 0)throw new de("Statement in a transaction was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");i.push(Ou(l))}return i}catch(r){throw je(r)}}async executeMultiple(t){const n=this._getStream();if(n.closed)throw new de("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(d(this,lt)===void 0){E(this,lt,n.run(Ad(d(this,_i))).then(()=>{}));try{await d(this,lt)}catch(r){throw this.close(),r}}else await d(this,lt);await n.sequence(t)}catch(r){throw je(r)}}async rollback(){try{const t=this._getStream();if(t.closed||d(this,lt)===void 0)return;const n=t.run("ROLLBACK").catch(r=>{throw je(r)});t.closeGracefully(),await n}catch(t){throw je(t)}finally{this.close()}}async commit(){try{const t=this._getStream();if(t.closed)throw new de("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(d(this,lt)!==void 0)await d(this,lt);else return;const n=t.run("COMMIT").catch(r=>{throw je(r)});t.closeGracefully(),await n}catch(t){throw je(t)}finally{this.close()}}}_i=new WeakMap,Xn=new WeakMap,lt=new WeakMap;async function Ka(e,t,n,r,s=!1){s&&n.step().run("PRAGMA foreign_keys=off");const i=n.step(),o=i.run(Ad(e));let l=i;const a=r.map(x=>{const b=n.step().condition(xt.ok(l));t>=3&&b.condition(xt.not(xt.isAutocommit(n)));const C=b.query(x);return l=b,C}),u=n.step().condition(xt.ok(l));t>=3&&u.condition(xt.not(xt.isAutocommit(n)));const c=u.run("COMMIT");n.step().condition(xt.not(xt.ok(u))).run("ROLLBACK").catch(x=>{}),s&&n.step().run("PRAGMA foreign_keys=on"),await n.execute();const m=[];await o;for(const x of a){const b=await x;if(b===void 0)throw new de("Statement in a batch was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");m.push(Ou(b))}return await c,m}function Cs(e){if(typeof e=="string")return new Dd(e);const t=new Dd(e.sql);if(Array.isArray(e.args))t.bindIndexes(e.args);else for(const[n,r]of Object.entries(e.args))t.bindName(n,r);return t}function Ou(e){const t=e.columnNames.map(o=>o??""),n=e.columnDecltypes.map(o=>o??""),r=e.rows,s=e.affectedRowCount,i=e.lastInsertRowid!==void 0?e.lastInsertRowid:void 0;return new AI(t,n,r,s,i)}function je(e){if(e instanceof Re){const t=Tb(e);return new de(e.message,t,void 0,e)}return e}function Tb(e){return e instanceof Ux&&e.code!==void 0?e.code:e instanceof te?"HRANA_PROTO_ERROR":e instanceof Gt?e.cause instanceof Re?Tb(e.cause):"HRANA_CLOSED_ERROR":e instanceof Ld?"HRANA_WEBSOCKET_ERROR":e instanceof Qx?"SERVER_ERROR":e instanceof Pi?"PROTOCOL_VERSION_ERROR":e instanceof Qr?"INTERNAL_ERROR":"UNKNOWN"}var ol,Tn;class xh{constructor(t,n){L(this,ol);L(this,Tn);g(this,"capacity");E(this,ol,t),E(this,Tn,new kR),this.capacity=n}apply(t){if(this.capacity<=0)return;const n=new Set;for(const r of t){if(typeof r.sql!="string")continue;const s=r.sql;if(s.length>=5e3)continue;let i=d(this,Tn).get(s);if(i===void 0){for(;d(this,Tn).size+1>this.capacity;){const[o,l]=d(this,Tn).peekLru();if(n.has(l))break;l.close(),d(this,Tn).delete(o)}d(this,Tn).size+1<=this.capacity&&(i=d(this,ol).storeSql(s),d(this,Tn).set(s,i))}i!==void 0&&(r.sql=i,n.add(i))}}}ol=new WeakMap,Tn=new WeakMap;var un;class kR{constructor(){L(this,un);E(this,un,new Map)}get(t){const n=d(this,un).get(t);return n!==void 0&&(d(this,un).delete(t),d(this,un).set(t,n)),n}set(t,n){d(this,un).set(t,n)}peekLru(){for(const t of d(this,un).entries())return t}delete(t){d(this,un).delete(t)}get size(){return d(this,un).size}}un=new WeakMap;function NR(e){var t=0,n=[];function r(){t--,t<e&&s()}function s(){var a=n.shift();l.queue=n.length,a&&o(a.fn).then(a.resolve).catch(a.reject)}function i(a){return new Promise(function(u,c){n.push({fn:a,resolve:u,reject:c}),l.queue=n.length})}function o(a){t++;try{return Promise.resolve(a()).then(function(u){return r(),u},function(u){throw r(),u})}catch(u){return r(),Promise.reject(u)}}var l=function(a){return t>=e?i(a):o(a)};return l}function IR(e,t){var n=!1,r=this;return Promise.all(e.map(function(){var s=arguments;return r(function(){if(!n)return t.apply(void 0,s).catch(function(i){throw n=!0,i})})}))}function Sm(e){return e.queue=0,e.map=IR,e}var ER=function(e){return Sm(e?NR(e):function(t){return t()})};const jb=Hv(ER);function RR(e){if(e.scheme!=="wss"&&e.scheme!=="ws")throw new de(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${Yo}`,"URL_SCHEME_NOT_SUPPORTED");if(e.encryptionKey!==void 0)throw new de("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(e.scheme==="ws"&&e.tls)throw new de('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(e.scheme==="wss"&&!e.tls)throw new de('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const t=Td(e.scheme,e.authority,e.path);let n;try{n=Eb(t,e.authToken)}catch(r){if(r instanceof Fx){const s=e.scheme==="wss"?"https":"http",i=Td(s,e.authority,e.path);throw new de(`This environment does not support WebSockets, please switch to the HTTP client by using a "${s}:" URL (${JSON.stringify(i)}). For more information, please read ${Yo}`,"WEBSOCKETS_NOT_SUPPORTED")}throw je(r)}return new PR(n,t,e.authToken,e.intMode,e.concurrency)}const TR=60*1e3,jR=100;var ll,al,ul,at,jn,of,cl,Wt,zs,fa;class PR{constructor(t,n,r,s,i){L(this,Wt);L(this,ll);L(this,al);L(this,ul);L(this,at);L(this,jn);g(this,"closed");g(this,"protocol");L(this,of);L(this,cl);E(this,ll,n),E(this,al,r),E(this,ul,s),E(this,at,O(this,Wt,fa).call(this,t)),E(this,jn,void 0),this.closed=!1,this.protocol="ws",E(this,cl,jb(i))}async limit(t){return d(this,cl).call(this,t)}async execute(t,n){let r;return typeof t=="string"?r={sql:t,args:n||[]}:r=t,this.limit(async()=>{const s=await O(this,Wt,zs).call(this);try{const i=Cs(r);s.conn.sqlCache.apply([i]);const o=s.stream.query(i);s.stream.closeGracefully();const l=await o;return Ou(l)}catch(i){throw je(i)}finally{this._closeStream(s)}})}async batch(t,n="deferred"){return this.limit(async()=>{const r=await O(this,Wt,zs).call(this);try{const s=t.map(Cs),i=await r.conn.client.getVersion();r.conn.sqlCache.apply(s);const o=r.stream.batch(i>=3);return await Ka(n,i,o,s)}catch(s){throw je(s)}finally{this._closeStream(r)}})}async migrate(t){return this.limit(async()=>{const n=await O(this,Wt,zs).call(this);try{const r=t.map(Cs),s=await n.conn.client.getVersion(),i=n.stream.batch(s>=3);return await Ka("deferred",s,i,r,!0)}catch(r){throw je(r)}finally{this._closeStream(n)}})}async transaction(t="write"){return this.limit(async()=>{const n=await O(this,Wt,zs).call(this);try{const r=await n.conn.client.getVersion();return new AR(this,n,t,r)}catch(r){throw this._closeStream(n),je(r)}})}async executeMultiple(t){return this.limit(async()=>{const n=await O(this,Wt,zs).call(this);try{const r=n.stream.sequence(t);n.stream.closeGracefully(),await r}catch(r){throw je(r)}finally{this._closeStream(n)}})}sync(){throw new de("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}_closeStream(t){t.stream.close();const n=t.conn;n.streamStates.delete(t),n.streamStates.size===0&&n!==d(this,at)&&n.client.close()}close(){d(this,at).client.close(),this.closed=!0}}ll=new WeakMap,al=new WeakMap,ul=new WeakMap,at=new WeakMap,jn=new WeakMap,of=new WeakMap,cl=new WeakMap,Wt=new WeakSet,zs=async function(){if(this.closed)throw new de("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-d(this,at).openTime.valueOf()>TR&&d(this,jn)===void 0){const s=O(this,Wt,fa).call(this);E(this,jn,s),s.client.getVersion().then(i=>{d(this,at)!==s&&d(this,at).streamStates.size===0&&d(this,at).client.close(),E(this,at,s),E(this,jn,void 0)},i=>{E(this,jn,void 0)})}if(d(this,at).client.closed)try{d(this,jn)!==void 0?E(this,at,d(this,jn)):E(this,at,O(this,Wt,fa).call(this))}catch(s){throw je(s)}const r=d(this,at);try{r.useSqlCache===void 0&&(r.useSqlCache=await r.client.getVersion()>=2,r.useSqlCache&&(r.sqlCache.capacity=jR));const s=r.client.openStream();s.intMode=d(this,ul);const i={conn:r,stream:s};return r.streamStates.add(i),i}catch(s){throw je(s)}},fa=function(t){try{return t??(t=Eb(d(this,ll),d(this,al))),{client:t,useSqlCache:void 0,sqlCache:new xh(t,0),openTime:new Date,streamStates:new Set}}catch(n){throw je(n)}};var dl,Er;class AR extends Rb{constructor(n,r,s,i){super(s,i);L(this,dl);L(this,Er);E(this,dl,n),E(this,Er,r)}_getStream(){return d(this,Er).stream}_getSqlCache(){return d(this,Er).conn.sqlCache}close(){d(this,dl)._closeStream(d(this,Er))}get closed(){return d(this,Er).stream.closed}}dl=new WeakMap,Er=new WeakMap;function LR(e){if(e.scheme!=="https"&&e.scheme!=="http")throw new de(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${Yo}`,"URL_SCHEME_NOT_SUPPORTED");if(e.encryptionKey!==void 0)throw new de("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(e.scheme==="http"&&e.tls)throw new de('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(e.scheme==="https"&&!e.tls)throw new de('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const t=Td(e.scheme,e.authority,e.path);return new OR(t,e.authToken,e.intMode,e.fetch,e.concurrency)}const Pb=30;var ut,su,fl;class OR{constructor(t,n,r,s,i){L(this,ut);g(this,"protocol");L(this,su);L(this,fl);E(this,ut,_R(t,n,s)),d(this,ut).intMode=r,this.protocol="http",E(this,su,n),E(this,fl,jb(i))}async limit(t){return d(this,fl).call(this,t)}async execute(t,n){let r;return typeof t=="string"?r={sql:t,args:n||[]}:r=t,this.limit(async()=>{try{const s=Cs(r);let i;const o=d(this,ut).openStream();try{i=o.query(s)}finally{o.closeGracefully()}const l=await i;return Ou(l)}catch(s){throw je(s)}})}async batch(t,n="deferred"){return this.limit(async()=>{try{const r=t.map(Cs),s=await d(this,ut).getVersion();let i;const o=d(this,ut).openStream();try{new xh(o,Pb).apply(r);const u=o.batch(!1);i=Ka(n,s,u,r)}finally{o.closeGracefully()}return await i}catch(r){throw je(r)}})}async migrate(t){return this.limit(async()=>{try{const n=t.map(Cs),r=await d(this,ut).getVersion();let s;const i=d(this,ut).openStream();try{const l=i.batch(!1);s=Ka("deferred",r,l,n,!0)}finally{i.closeGracefully()}return await s}catch(n){throw je(n)}})}async transaction(t="write"){return this.limit(async()=>{try{const n=await d(this,ut).getVersion();return new qR(d(this,ut).openStream(),t,n)}catch(n){throw je(n)}})}async executeMultiple(t){return this.limit(async()=>{try{let n;const r=d(this,ut).openStream();try{n=r.sequence(t)}finally{r.closeGracefully()}await n}catch(n){throw je(n)}})}sync(){throw new de("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){d(this,ut).close()}get closed(){return d(this,ut).closed}}ut=new WeakMap,su=new WeakMap,fl=new WeakMap;var gs,hl;class qR extends Rb{constructor(n,r,s){super(r,s);L(this,gs);L(this,hl);E(this,gs,n),E(this,hl,new xh(n,Pb))}_getStream(){return d(this,gs)}_getSqlCache(){return d(this,hl)}close(){d(this,gs).close()}get closed(){return d(this,gs).closed}}gs=new WeakMap,hl=new WeakMap;function ha(e){return MR(qI(e))}function MR(e){if(e.scheme==="ws"||e.scheme==="wss")return RR(e);if(e.scheme==="http"||e.scheme==="https")return LR(e);throw new de(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${Yo}`,"URL_SCHEME_NOT_SUPPORTED")}var Dv,Bv;const iu=class iu extends(Bv=Nx,Dv=M,Bv){constructor(n,r,s,i,o){super(r);g(this,"logger");g(this,"cache");this.client=n,this.schema=s,this.options=i,this.tx=o,this.logger=i.logger??new PS,this.cache=i.cache??new dh}prepareQuery(n,r,s,i,o,l,a){return new Ab(this.client,n,this.logger,this.cache,l,a,r,this.tx,s,i,o)}async batch(n){const r=[],s=[];for(const o of n){const l=o._prepare(),a=l.getQuery();r.push(l),s.push({sql:a.sql,args:a.params})}return(await this.client.batch(s)).map((o,l)=>r[l].mapResult(o,!0))}async migrate(n){const r=[],s=[];for(const o of n){const l=o._prepare(),a=l.getQuery();r.push(l),s.push({sql:a.sql,args:a.params})}return(await this.client.migrate(s)).map((o,l)=>r[l].mapResult(o,!0))}async transaction(n,r){const s=await this.client.transaction(),i=new iu(this.client,this.dialect,this.schema,this.options,s),o=new Yd("async",this.dialect,i,this.schema);try{const l=await n(o);return await s.commit(),l}catch(l){throw await s.rollback(),l}}extractRawAllValueFromBatchResult(n){return n.rows}extractRawGetValueFromBatchResult(n){return n.rows[0]}extractRawValuesValueFromBatchResult(n){return n.rows}};g(iu,Dv,"LibSQLSession");let Jd=iu;var zv,Uv;const ou=class ou extends(Uv=Ix,zv=M,Uv){async transaction(t){const n=`sp${this.nestedIndex}`,r=new ou("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(_.raw(`savepoint ${n}`));try{const s=await t(r);return await this.session.run(_.raw(`release savepoint ${n}`)),s}catch(s){throw await this.session.run(_.raw(`rollback to savepoint ${n}`)),s}}};g(ou,zv,"LibSQLTransaction");let Yd=ou;var Fv,Qv;class Ab extends(Qv=kx,Fv=M,Qv){constructor(t,n,r,s,i,o,l,a,u,c,p){super("async",u,n,s,i,o),this.client=t,this.logger=r,this.fields=l,this.tx=a,this._isResponseInArrayMode=c,this.customResultMapper=p,this.customResultMapper=p,this.fields=l}async run(t){const n=Ul(this.query.params,t??{});return this.logger.logQuery(this.query.sql,n),await this.queryWithCache(this.query.sql,n,async()=>{const r={sql:this.query.sql,args:n};return this.tx?this.tx.execute(r):this.client.execute(r)})}async all(t){const{fields:n,logger:r,query:s,tx:i,client:o,customResultMapper:l}=this;if(!n&&!l){const u=Ul(s.params,t??{});return r.logQuery(s.sql,u),await this.queryWithCache(s.sql,u,async()=>{const c={sql:s.sql,args:u};return(i?i.execute(c):o.execute(c)).then(({rows:p})=>this.mapAllResult(p))})}const a=await this.values(t);return this.mapAllResult(a)}mapAllResult(t,n){return n&&(t=t.rows),!this.fields&&!this.customResultMapper?t.map(r=>xm(r)):this.customResultMapper?this.customResultMapper(t,Ql):t.map(r=>lm(this.fields,Array.prototype.slice.call(r).map(s=>Ql(s)),this.joinsNotNullableMap))}async get(t){const{fields:n,logger:r,query:s,tx:i,client:o,customResultMapper:l}=this;if(!n&&!l){const u=Ul(s.params,t??{});return r.logQuery(s.sql,u),await this.queryWithCache(s.sql,u,async()=>{const c={sql:s.sql,args:u};return(i?i.execute(c):o.execute(c)).then(({rows:p})=>this.mapGetResult(p))})}const a=await this.values(t);return this.mapGetResult(a)}mapGetResult(t,n){n&&(t=t.rows);const r=t[0];if(!this.fields&&!this.customResultMapper)return xm(r);if(r)return this.customResultMapper?this.customResultMapper(t,Ql):lm(this.fields,Array.prototype.slice.call(r).map(s=>Ql(s)),this.joinsNotNullableMap)}async values(t){const n=Ul(this.query.params,t??{});return this.logger.logQuery(this.query.sql,n),await this.queryWithCache(this.query.sql,n,async()=>{const r={sql:this.query.sql,args:n};return(this.tx?this.tx.execute(r):this.client.execute(r)).then(({rows:s})=>s)})}isResponseInArrayMode(){return this._isResponseInArrayMode}}g(Ab,Fv,"LibSQLPreparedQuery");function xm(e){return Object.keys(e).reduce((t,n)=>(Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n]),t),{})}function Ql(e){if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer){if(typeof Buffer<"u")return e instanceof Buffer?e:Buffer.from(e);if(typeof TextDecoder<"u")return new TextDecoder().decode(e);throw new Error("TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.")}return e}var Vv,Wv;class Lb extends(Wv=ch,Vv=M,Wv){async batch(t){return this.session.batch(t)}}g(Lb,Vv,"LibSQLDatabase");function yo(e,t={}){var l;const n=new vx({casing:t.casing});let r;t.logger===!0?r=new jS:t.logger!==!1&&(r=t.logger);let s;if(t.schema){const a=WN(t.schema,JN);s={fullSchema:t.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}const i=new Jd(e,n,s,{logger:r,cache:t.cache},void 0),o=new Lb("async",n,i,s);return o.$client=e,o.$cache=t.cache,o.$cache&&(o.$cache.invalidate=(l=t.cache)==null?void 0:l.onMutate),o}function Xd(...e){if(typeof e[0]=="string"){const t=ha({url:e[0]});return yo(t,e[1])}if(kN(e[0])){const{connection:t,client:n,...r}=e[0];if(n)return yo(n,r);const s=ha(typeof t=="string"?{url:t}:t);return yo(s,r)}return yo(e[0],e[1])}(e=>{function t(n){return yo({},n)}e.mock=t})(Xd||(Xd={}));var bm={};let wc;function ie(){if(!wc){const e=bm.VITE_TURSO_DATABASE_URL,t=bm.VITE_TURSO_AUTH_TOKEN;if(!e)throw new Error("Missing VITE_TURSO_DATABASE_URL");if(!t)throw new Error("Missing VITE_TURSO_AUTH_TOKEN");const n=ha({url:e,authToken:t});wc=Xd(n,{schema:pI})}return wc}async function $R(e){const t=ie(),[n]=await t.insert(yn).values({name:e.name}).returning();return n}async function Ob(){return ie().select().from(yn).orderBy(yn.name)}async function DR(e){await ie().delete(yn).where(J(yn.id,e))}async function BR(e,t){return(await ie().update(yn).set({name:t}).where(J(yn.id,e)).returning())[0]||null}function qb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=qb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=qb(e))&&(r&&(r+=" "),r+=t);return r}const Cm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_m=Mb,bh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _m(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const c=n==null?void 0:n[u],p=i==null?void 0:i[u];if(c===null)return null;const m=Cm(c)||Cm(p);return s[u][m]}),l=n&&Object.entries(n).reduce((u,c)=>{let[p,m]=c;return m===void 0||(u[p]=m),u},{}),a=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:p,className:m,...x}=c;return Object.entries(x).every(b=>{let[C,R]=b;return Array.isArray(R)?R.includes({...i,...l}[C]):{...i,...l}[C]===R})?[...u,p,m]:u},[]);return _m(e,o,a,n==null?void 0:n.class,n==null?void 0:n.className)},Ch="-",zR=e=>{const t=FR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Ch);return l[0]===""&&l.length!==1&&l.shift(),$b(l,t)||UR(o)},getConflictingClassGroupIds:(o,l)=>{const a=n[o]||[];return l&&r[o]?[...a,...r[o]]:a}}},$b=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?$b(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ch);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},km=/^\[(.+)\]$/,UR=e=>{if(km.test(e)){const t=km.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},FR=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Zd(n[s],r,s,t);return r},Zd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Nm(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(QR(s)){Zd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Zd(o,Nm(t,i),n,r)})})},Nm=(e,t)=>{let n=e;return t.split(Ch).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QR=e=>e.isThemeGetter,VR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ef="!",tf=":",WR=tf.length,HR=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,l=0,a=0,u;for(let b=0;b<s.length;b++){let C=s[b];if(o===0&&l===0){if(C===tf){i.push(s.slice(a,b)),a=b+WR;continue}if(C==="/"){u=b;continue}}C==="["?o++:C==="]"?o--:C==="("?l++:C===")"&&l--}const c=i.length===0?s:s.substring(a),p=KR(c),m=p!==c,x=u&&u>a?u-a:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}};if(t){const s=t+tf,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},KR=e=>e.endsWith(ef)?e.substring(0,e.length-1):e.startsWith(ef)?e.substring(1):e,GR=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},JR=e=>({cache:VR(e.cacheSize),parseClassName:HR(e),sortModifiers:GR(e),...zR(e)}),YR=/\s+/,XR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(YR);let a="";for(let u=l.length-1;u>=0;u-=1){const c=l[u],{isExternal:p,modifiers:m,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:C}=n(c);if(p){a=c+(a.length>0?" "+a:a);continue}let R=!!C,f=r(R?b.substring(0,C):b);if(!f){if(!R){a=c+(a.length>0?" "+a:a);continue}if(f=r(b),!f){a=c+(a.length>0?" "+a:a);continue}R=!1}const h=i(m).join(":"),y=x?h+ef:h,S=y+f;if(o.includes(S))continue;o.push(S);const T=s(f,R);for(let P=0;P<T.length;++P){const N=T[P];o.push(y+N)}a=c+(a.length>0?" "+a:a)}return a};function ZR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Db(t))&&(r&&(r+=" "),r+=n);return r}const Db=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Db(e[r]))&&(n&&(n+=" "),n+=t);return n};function eT(e,...t){let n,r,s,i=o;function o(a){const u=t.reduce((c,p)=>p(c),e());return n=JR(u),r=n.cache.get,s=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const c=XR(a,n);return s(a,c),c}return function(){return i(ZR.apply(null,arguments))}}const Me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Bb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tT=/^\d+\/\d+$/,nT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ds=e=>tT.test(e),X=e=>!!e&&!Number.isNaN(Number(e)),hr=e=>!!e&&Number.isInteger(Number(e)),Sc=e=>e.endsWith("%")&&X(e.slice(0,-1)),qn=e=>nT.test(e),lT=()=>!0,aT=e=>rT.test(e)&&!sT.test(e),Ub=()=>!1,uT=e=>iT.test(e),cT=e=>oT.test(e),dT=e=>!Q(e)&&!V(e),fT=e=>Vi(e,Vb,Ub),Q=e=>Bb.test(e),Jr=e=>Vi(e,Wb,aT),xc=e=>Vi(e,gT,X),Im=e=>Vi(e,Fb,Ub),hT=e=>Vi(e,Qb,cT),Vl=e=>Vi(e,Hb,uT),V=e=>zb.test(e),to=e=>Wi(e,Wb),pT=e=>Wi(e,vT),Em=e=>Wi(e,Fb),mT=e=>Wi(e,Vb),yT=e=>Wi(e,Qb),Wl=e=>Wi(e,Hb,!0),Vi=(e,t,n)=>{const r=Bb.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Wi=(e,t,n=!1)=>{const r=zb.exec(e);return r?r[1]?t(r[1]):n:!1},Fb=e=>e==="position"||e==="percentage",Qb=e=>e==="image"||e==="url",Vb=e=>e==="length"||e==="size"||e==="bg-size",Wb=e=>e==="length",gT=e=>e==="number",vT=e=>e==="family-name",Hb=e=>e==="shadow",wT=()=>{const e=Me("color"),t=Me("font"),n=Me("text"),r=Me("font-weight"),s=Me("tracking"),i=Me("leading"),o=Me("breakpoint"),l=Me("container"),a=Me("spacing"),u=Me("radius"),c=Me("shadow"),p=Me("inset-shadow"),m=Me("text-shadow"),x=Me("drop-shadow"),b=Me("blur"),C=Me("perspective"),R=Me("aspect"),f=Me("ease"),h=Me("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...S(),V,Q],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],I=()=>[V,Q,a],z=()=>[Ds,"full","auto",...I()],k=()=>[hr,"none","subgrid",V,Q],A=()=>["auto",{span:["full",hr,V,Q]},hr,V,Q],$=()=>[hr,"auto",V,Q],B=()=>["auto","min","max","fr",V,Q],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...I()],W=()=>[Ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[e,V,Q],K=()=>[...S(),Em,Im,{position:[V,Q]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],me=()=>["auto","cover","contain",mT,fT,{size:[V,Q]}],Ce=()=>[Sc,to,Jr],Te=()=>["","none","full",u,V,Q],Ne=()=>["",X,to,Jr],dr=()=>["solid","dashed","dotted","double"],xn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[X,Sc,Em,Im],Mh=()=>["","none",b,V,Q],bl=()=>["none",X,V,Q],Cl=()=>["none",X,V,Q],zu=()=>[X,V,Q],_l=()=>[Ds,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qn],breakpoint:[qn],color:[lT],container:[qn],"drop-shadow":[qn],ease:["in","out","in-out"],font:[dT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qn],shadow:[qn],spacing:["px",X],text:[qn],"text-shadow":[qn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ds,Q,V,R]}],container:["container"],columns:[{columns:[X,Q,V,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[hr,"auto",V,Q]}],basis:[{basis:[Ds,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[X,Ds,"auto","initial","none",Q]}],grow:[{grow:["",X,V,Q]}],shrink:[{shrink:["",X,V,Q]}],order:[{order:[hr,"first","last","none",V,Q]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,to,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,V,xc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sc,Q]}],"font-family":[{font:[pT,Q,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,V,Q]}],"line-clamp":[{"line-clamp":[X,"none",V,xc]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",V,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",V,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...dr(),"wavy"]}],"text-decoration-thickness":[{decoration:[X,"from-font","auto",V,Jr]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[X,"auto",V,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",V,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",V,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hr,V,Q],radial:["",V,Q],conic:[hr,V,Q]},yT,hT]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:Ce()}],"gradient-via-pos":[{via:Ce()}],"gradient-to-pos":[{to:Ce()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:Te()}],"rounded-s":[{"rounded-s":Te()}],"rounded-e":[{"rounded-e":Te()}],"rounded-t":[{"rounded-t":Te()}],"rounded-r":[{"rounded-r":Te()}],"rounded-b":[{"rounded-b":Te()}],"rounded-l":[{"rounded-l":Te()}],"rounded-ss":[{"rounded-ss":Te()}],"rounded-se":[{"rounded-se":Te()}],"rounded-ee":[{"rounded-ee":Te()}],"rounded-es":[{"rounded-es":Te()}],"rounded-tl":[{"rounded-tl":Te()}],"rounded-tr":[{"rounded-tr":Te()}],"rounded-br":[{"rounded-br":Te()}],"rounded-bl":[{"rounded-bl":Te()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...dr(),"hidden","none"]}],"divide-style":[{divide:[...dr(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...dr(),"none","hidden"]}],"outline-offset":[{"outline-offset":[X,V,Q]}],"outline-w":[{outline:["",X,to,Jr]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",c,Wl,Vl]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",p,Wl,Vl]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[X,Jr]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",m,Wl,Vl]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[X,V,Q]}],"mix-blend":[{"mix-blend":[...xn(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xn()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[X]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[V,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[X]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",V,Q]}],filter:[{filter:["","none",V,Q]}],blur:[{blur:Mh()}],brightness:[{brightness:[X,V,Q]}],contrast:[{contrast:[X,V,Q]}],"drop-shadow":[{"drop-shadow":["","none",x,Wl,Vl]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",X,V,Q]}],"hue-rotate":[{"hue-rotate":[X,V,Q]}],invert:[{invert:["",X,V,Q]}],saturate:[{saturate:[X,V,Q]}],sepia:[{sepia:["",X,V,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",V,Q]}],"backdrop-blur":[{"backdrop-blur":Mh()}],"backdrop-brightness":[{"backdrop-brightness":[X,V,Q]}],"backdrop-contrast":[{"backdrop-contrast":[X,V,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",X,V,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[X,V,Q]}],"backdrop-invert":[{"backdrop-invert":["",X,V,Q]}],"backdrop-opacity":[{"backdrop-opacity":[X,V,Q]}],"backdrop-saturate":[{"backdrop-saturate":[X,V,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",X,V,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",V,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[X,"initial",V,Q]}],ease:[{ease:["linear","initial",f,V,Q]}],delay:[{delay:[X,V,Q]}],animate:[{animate:["none",h,V,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,V,Q]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:bl()}],"rotate-x":[{"rotate-x":bl()}],"rotate-y":[{"rotate-y":bl()}],"rotate-z":[{"rotate-z":bl()}],scale:[{scale:Cl()}],"scale-x":[{"scale-x":Cl()}],"scale-y":[{"scale-y":Cl()}],"scale-z":[{"scale-z":Cl()}],"scale-3d":["scale-3d"],skew:[{skew:zu()}],"skew-x":[{"skew-x":zu()}],"skew-y":[{"skew-y":zu()}],transform:[{transform:[V,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_l()}],"translate-x":[{"translate-x":_l()}],"translate-y":[{"translate-y":_l()}],"translate-z":[{"translate-z":_l()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",V,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",V,Q]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[X,to,Jr,xc]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ST=eT(wT);function le(...e){return ST(Mb(e))}function xT({className:e,...t}){return v.jsx("div",{"data-slot":"card",className:le("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function bT({className:e,...t}){return v.jsx("div",{"data-slot":"card-header",className:le("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function CT({className:e,...t}){return v.jsx("div",{"data-slot":"card-title",className:le("leading-none font-semibold",e),...t})}function _T({className:e,...t}){return v.jsx("div",{"data-slot":"card-description",className:le("text-muted-foreground text-sm",e),...t})}function kT({className:e,...t}){return v.jsx("div",{"data-slot":"card-content",className:le("px-6",e),...t})}function Ps({...e}){const{className:t,font:n}=e;return v.jsxs("div",{className:le("relative border-y-6 border-foreground dark:border-ring !p-0",t),children:[v.jsx(xT,{...e,className:le("rounded-none border-0 !w-full",n!=="normal"&&"retro",t)}),v.jsx("div",{className:"absolute inset-0 border-x-6 -mx-1.5 border-foreground dark:border-ring pointer-events-none","aria-hidden":"true"})]})}function Zo({...e}){const{className:t,font:n}=e;return v.jsx(bT,{className:le(n!=="normal"&&"retro",t),...e})}function el({...e}){const{className:t,font:n}=e;return v.jsx(CT,{className:le(n!=="normal"&&"retro",t),...e})}function NT({...e}){const{className:t,font:n}=e;return v.jsx(_T,{className:le(n!=="normal"&&"retro",t),...e})}function Kb({...e}){const{className:t,font:n}=e;return v.jsx(kT,{className:le(n!=="normal"&&"retro",t),...e})}function xl(e,t=[]){let n=[];function r(i,o){const l=w.createContext(o),a=n.length;n=[...n,o];const u=p=>{var f;const{scope:m,children:x,...b}=p,C=((f=m==null?void 0:m[e])==null?void 0:f[a])||l,R=w.useMemo(()=>b,Object.values(b));return v.jsx(C.Provider,{value:R,children:x})};u.displayName=i+"Provider";function c(p,m){var C;const x=((C=m==null?void 0:m[e])==null?void 0:C[a])||l,b=w.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(l){const a=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return s.scopeName=e,[r,IT(s,...t)]}function IT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:a,scopeName:u})=>{const p=a(i)[`__scope${u}`];return{...l,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ET(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var ar=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function Rm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gb(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Rm(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Rm(e[s],null)}}}}function As(...e){return w.useCallback(Gb(...e),e)}function Ga(e){const t=RT(e),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,l=w.Children.toArray(i),a=l.find(jT);if(a){const u=a.props.children,c=l.map(p=>p===a?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:p);return v.jsx(t,{...o,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,c):null})}return v.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Jb=Ga("Slot");function RT(e){const t=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=AT(s),l=PT(i,s.props);return s.type!==w.Fragment&&(l.ref=r?Gb(r,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TT=Symbol("radix.slottable");function jT(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TT}function PT(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const a=i(...l);return s(...l),a}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function AT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var LT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=LT.reduce((e,t)=>{const n=Ga(`Primitive.${t}`),r=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,a=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Yb={exports:{}},Xb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=w;function OT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qT=typeof Object.is=="function"?Object.is:OT,MT=qi.useState,$T=qi.useEffect,DT=qi.useLayoutEffect,BT=qi.useDebugValue;function zT(e,t){var n=t(),r=MT({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return DT(function(){s.value=n,s.getSnapshot=t,bc(s)&&i({inst:s})},[e,n,t]),$T(function(){return bc(s)&&i({inst:s}),e(function(){bc(s)&&i({inst:s})})},[e]),BT(n),n}function bc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qT(e,n)}catch{return!0}}function UT(e,t){return t()}var FT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UT:zT;Xb.useSyncExternalStore=qi.useSyncExternalStore!==void 0?qi.useSyncExternalStore:FT;Yb.exports=Xb;var QT=Yb.exports;function VT(){return QT.useSyncExternalStore(WT,()=>!0,()=>!1)}function WT(){return()=>{}}var _h="Avatar",[HT]=xl(_h),[KT,Zb]=HT(_h),e1=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=w.useState("idle");return v.jsx(KT,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:v.jsx(wn.span,{...r,ref:t})})});e1.displayName=_h;var t1="AvatarImage",n1=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=Zb(t1,n),l=GT(r,i),a=ET(u=>{s(u),o.onImageLoadingStatusChange(u)});return ar(()=>{l!=="idle"&&a(l)},[l,a]),l==="loaded"?v.jsx(wn.img,{...i,ref:t,src:r}):null});n1.displayName=t1;var r1="AvatarFallback",s1=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=Zb(r1,n),[o,l]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const a=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(a)}},[r]),o&&i.imageLoadingStatus!=="loaded"?v.jsx(wn.span,{...s,ref:t}):null});s1.displayName=r1;function Tm(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function GT(e,{referrerPolicy:t,crossOrigin:n}){const r=VT(),s=w.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=w.useState(()=>Tm(i,e));return ar(()=>{l(Tm(i,e))},[i,e]),ar(()=>{const a=p=>()=>{l(p)};if(!i)return;const u=a("loaded"),c=a("error");return i.addEventListener("load",u),i.addEventListener("error",c),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",c)}},[i,n,t]),o}var i1=e1,o1=n1,l1=s1;const a1=w.forwardRef(({className:e,...t},n)=>v.jsx(i1,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));a1.displayName=i1.displayName;const u1=w.forwardRef(({className:e,...t},n)=>v.jsx(o1,{ref:n,className:le("aspect-square h-full w-full",e),...t}));u1.displayName=o1.displayName;const c1=w.forwardRef(({className:e,...t},n)=>v.jsx(l1,{ref:n,className:le("flex h-full w-full items-center justify-center bg-muted",e),...t}));c1.displayName=l1.displayName;function JT(e){const{className:t,retroBorder:n=!0,...r}=e;return v.jsx(a1,{...r,className:le(n&&"border-4 border-foreground",t)})}const YT="/assets/blue-mage-avatar-C5Mh1Udc.png",XT="/assets/purple-mage-avatar-DT6q3Im1.png";function ZT(e){const t=e.reverse?"flex-row-reverse":"flex-row",n=e.childId%2===0?YT:XT;return v.jsxs(Ps,{className:`press-ripple flex ${t} items-center`,onClick:()=>e.onSelect(e.childId),children:[v.jsxs(JT,{className:"size-1/2 flex items-center justify-center",children:[v.jsx(u1,{className:"w-full h-auto",src:n,alt:e.name}),v.jsx(c1,{children:"CN"})]}),v.jsx(Zo,{className:"size-1/2",children:v.jsx(el,{className:"text-3xl",children:e.name})})]})}function ej(){const e=yS(),[t,n]=w.useState([]),[r,s]=w.useState(!0);w.useEffect(()=>{CS({clearChild:!0});let o=!0;return Ob().then(l=>{o&&n(l)}).finally(()=>{o&&s(!1)}),()=>{o=!1}},[]);function i(o){localStorage.setItem("activeChildId",String(o)),e("/schedule")}return v.jsxs("div",{className:"flex flex-col items-center space-around min-h-[100dvh]",children:[v.jsx(Ps,{className:"flex w-full",children:v.jsx(Zo,{className:"text-center",children:v.jsx(el,{className:"text-3xl",children:"Cual mella eres?"})})}),r&&v.jsx("div",{className:"opacity-80",children:"Loading..."}),!r&&t.length===0&&v.jsx("div",{className:"opacity-80",children:"No children"}),v.jsx("div",{className:"flex flex-1 flex-col justify-center w-full",children:t.map((o,l)=>v.jsx(ZT,{childId:o.id,name:o.name,onSelect:i,reverse:l%2===1},o.id))})]})}async function tj(e){const t=ie(),n=await t.select().from(Oe).where(Xt(J(Oe.childId,e.childId),J(Oe.name,e.name))).limit(1);if(n[0])return n[0];const[r]=await t.insert(Oe).values({name:e.name,childId:e.childId}).returning();return r}async function nf(e){const t=ie();return typeof e=="number"?t.select().from(Oe).where(J(Oe.childId,e)).orderBy(Oe.name):t.select().from(Oe).orderBy(Oe.name)}async function nj(e,t){return(await ie().update(Oe).set({name:t}).where(J(Oe.id,e)).returning())[0]||null}async function rj(e){await ie().delete(Oe).where(J(Oe.id,e))}async function sj(e){const t=ie(),[n]=await t.insert(Se).values({versionId:e.versionId,blockOrder:e.blockOrder,subjectId:e.subjectId}).returning();return n}async function ij(e){return ie().select({id:Se.id,blockOrder:Se.blockOrder,subjectId:Se.subjectId,subjectName:He.name}).from(Se).innerJoin(He,J(He.id,Se.subjectId)).where(J(Se.versionId,e)).orderBy(Se.blockOrder)}async function oj(e){await ie().delete(Se).where(J(Se.id,e))}async function lj(e){return(await ie().update(Se).set({blockOrder:e.newOrder}).where(J(Se.id,e.blockId)).returning())[0]||null}async function aj(e,t){return(await ie().select().from(Nt).where(Xt(J(Nt.templateId,e),MS(Nt.validFrom,t))).orderBy(oh(Nt.validFrom)).limit(1))[0]||null}async function uj(e,t){const n=ie(),[r]=await n.select().from(Nt).where(J(Nt.id,e));if(!r)return null;const[s]=await n.insert(Nt).values({templateId:r.templateId,validFrom:t}).returning(),i=await n.select().from(Se).where(J(Se.versionId,e));return i.length>0&&await n.insert(Se).values(i.map(o=>({versionId:s.id,blockOrder:o.blockOrder,subjectId:o.subjectId}))),s}async function cj(e,t){const n=ie(),r=await aj(e,t);if(!r){const[i]=await n.insert(Nt).values({templateId:e,validFrom:t}).returning();return i}return r.validFrom===t?r:await uj(r.id,t)}async function dj(e){return(await ie().select().from(Nt).where(J(Nt.templateId,e)).orderBy(oh(Nt.validFrom)).limit(1))[0]||null}async function d1(e,t){return await cj(e,t)}async function f1(e,t,n){const r=ie(),s=await r.select().from(Ct).where(Xt(J(Ct.childId,e),J(Ct.targetDate,t))).limit(1);if(s[0])return s[0].scheduleVersionId!==n?(await r.update(Ct).set({scheduleVersionId:n}).where(J(Ct.id,s[0].id)),{instanceId:s[0].id,scheduleVersionId:n,created:!1}):{instanceId:s[0].id,scheduleVersionId:s[0].scheduleVersionId,created:!1};const o=(await r.insert(Ct).values({childId:e,targetDate:t,scheduleVersionId:n}).returning())[0];return{instanceId:o.id,scheduleVersionId:o.scheduleVersionId,created:!0}}async function fj(e,t,n){const r=ie(),s=await r.select().from(Ct).where(Xt(J(Ct.childId,e),J(Ct.targetDate,t))).limit(1);if(!s[0])return f1(e,t,n);const i=s[0];return await r.delete(Ft).where(J(Ft.checklistInstanceId,i.id)),i.scheduleVersionId!==n&&await r.update(Ct).set({scheduleVersionId:n}).where(J(Ct.id,i.id)),{instanceId:i.id,scheduleVersionId:n,created:!1}}const hj=bh("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pj({className:e,variant:t,asChild:n=!1,...r}){const s=n?Jb:"span";return v.jsx(s,{"data-slot":"badge",className:le(hj({variant:t}),e),...r})}const mj=bh("",{variants:{font:{normal:"",retro:"retro"},variant:{default:"bg-primary border-primary",destructive:"bg-destructive border-destructive",outline:"bg-background border-background",secondary:"bg-secondary border-secondary"}},defaultVariants:{variant:"default"}});function rf({children:e,className:t="",font:n,variant:r,...s}){const i=mj({variant:r,font:n}),o=t.split(" "),l=o.filter(u=>/^(m|p|mt|mr|mb|ml|mx|my|pt|pr|pb|pl|px|py|top|bottom|left|right|inset|inset-x|inset-y)-/.test(u)),a=o.filter(u=>u.startsWith("bg-")||u.startsWith("border-")||u.startsWith("text-")||u.startsWith("rounded-"));return v.jsxs("div",{className:le("relative inline-flex",l),children:[v.jsx(pj,{...s,className:le("rounded-none",n!=="normal"&&"retro",a),variant:r,children:e}),v.jsx("div",{className:le("absolute top-1.5 bottom-1.5 -left-1.5 h-1/2 w-1.5",i,a)}),v.jsx("div",{className:le("absolute top-1.5 bottom-1.5 -right-1.5 h-1/2 w-1.5",i,a)})]})}function yj(){var h;const e=yS(),[t,n]=w.useState([]),[r,s]=w.useState(!0),[i,o]=w.useState(""),[l,a]=w.useState(null),[u,c]=w.useState(null),[p,m]=w.useState(null),[x,b]=w.useState(null);w.useEffect(()=>{const y=CS({clearChild:!1});if(!y.cleared&&y.targetDateIso){const S=localStorage.getItem("activeTemplateId");S&&(c(Number(S)),m(y.targetDateIso),a(y.phase))}else c(null),m(null),a(null)},[]),w.useEffect(()=>{const y=localStorage.getItem("activeChildId");b(y?Number(y):null)},[]),w.useEffect(()=>{let y=!0;return x==null?(n([]),s(!1),()=>{y=!1}):(s(!0),nf(x).then(S=>{if(!y)return;const T=N=>{const I=N.match(/Da\s+(\d+)/i);return I?Number(I[1]):999},P=[...S].sort((N,I)=>{const z=T(N.name),k=T(I.name);return z!==k?z-k:N.name.localeCompare(I.name,"es")});n(P)}).catch(()=>{y&&o("Failed loading templates")}).finally(()=>{y&&s(!1)}),()=>{y=!1})},[x]);async function C(y){const S=localStorage.getItem("activeChildId");if(!S){e("/");return}const T=Number(S),P=SS(),N=localStorage.getItem("activeTargetDate");N&&N<P&&(localStorage.removeItem("activeTemplateId"),localStorage.removeItem("activeTargetDate"));const I=mN(),z=await d1(y,I);if(!z)return;const k=yN(I),A=localStorage.getItem("activeTemplateId");A&&Number(A)!==y&&k.phase==="prep_window"&&await fj(T,I,z.id),localStorage.setItem("activeTemplateId",String(y)),localStorage.setItem("activeTargetDate",I),c(y),m(I),a(k.phase),e("/checklist")}const R=w.useMemo(()=>l?l==="locked":!1,[l]),f=w.useMemo(()=>l?l==="pre_window"?"Esperando, aun estas en clase! (despus de las 3:00 pm se abre)":l==="prep_window"?"Puedes hacer checklist!":l==="locked"?"Bloqueado ":l==="afternoon_next"?"Nuevo ciclo abierto":"":"",[l]);return v.jsxs(v.Fragment,{children:[v.jsxs(Ps,{children:[v.jsxs(Zo,{children:[v.jsx(el,{children:"Elige tu horario de maana"}),l&&v.jsx(NT,{children:f})]}),u&&p&&v.jsxs(Kb,{children:[v.jsxs("p",{children:["horario seleccionado:",((h=t.find(y=>y.id===u))==null?void 0:h.name)||"Unknown"]}),v.jsxs("p",{children:[" Fecha de tu horario: ",p]})]})]}),r&&v.jsx("div",{children:"Loading..."}),i&&v.jsx("div",{children:i}),!r&&x==null&&v.jsx("div",{children:"Select a child first"}),!r&&t.length===0&&v.jsx("div",{children:"No templates"}),!r&&t.length>0&&t.map(y=>{const S=y.id===u,T=R&&!S;return v.jsx(Ps,{className:"press-ripple my-2",onClick:()=>!T&&C(y.id),children:v.jsxs(Zo,{className:"flex flex-row items-center justify-between",children:[v.jsx(el,{className:"text-lg flex-1",children:y.name}),S&&v.jsx(rf,{className:"ml-2 bg-green-500 text-black",children:"Seleccionado"}),!S&&T&&v.jsx(rf,{className:"ml-2 bg-white text-black",children:"Bloqueado"})]})},y.id)})]})}async function gj(e,t,n,r,s){var P;const i=ie(),o=await d1(t,n);if(!o)throw new Error("Schedule version not resolved");const{instanceId:l}=await f1(e,n,o.id),u=((P=(await i.select({id:Oe.id,name:Oe.name}).from(Oe).where(J(Oe.id,t)))[0])==null?void 0:P.name)||"",c=await i.select({id:Se.id,blockOrder:Se.blockOrder,subjectId:Se.subjectId,subjectName:He.name}).from(Se).innerJoin(He,J(He.id,Se.subjectId)).where(J(Se.versionId,o.id)).orderBy(Se.blockOrder),p=c.map(N=>N.subjectId),m=p.length===0?[]:await i.select({subjectId:Ee.subjectId,materialId:Ee.materialId}).from(Ee).where(Xt(J(Ee.templateId,t),xd(Ee.subjectId,p))),x=Array.from(new Set(m.map(N=>N.materialId))),b=x.length===0?[]:await i.select({id:ke.id,name:ke.name}).from(ke).where(xd(ke.id,x)),C=new Map;b.forEach(N=>C.set(N.id,N.name));const R=await i.select().from(Ft).where(J(Ft.checklistInstanceId,l)),f=new Map;R.forEach(N=>f.set(N.subjectId+":"+N.materialId,{id:N.id,checked:N.checked?1:0}));const h=[];let y=0,S=0;for(const N of c){const I=m.filter(k=>k.subjectId===N.subjectId),z=[];for(const k of I){const A=N.subjectId+":"+k.materialId,$=f.get(A),B=C.get(k.materialId)||"",G=$?$.checked===1:!1;z.push({materialId:k.materialId,materialName:B,checked:G}),y+=1,G&&(S+=1)}z.sort((k,A)=>k.materialName.localeCompare(A.materialName,void 0,{sensitivity:"base"})),h.push({subjectId:N.subjectId,subjectName:N.subjectName,materials:z})}const T=y>0&&S===y;return{subjects:h,templateName:u,allComplete:T,instanceId:l,editable:s}}function vj(e,t,n){const[r,s]=w.useState(!0),[i,o]=w.useState(""),[l,a]=w.useState([]),[u,c]=w.useState(!1),[p,m]=w.useState([]),[x,b]=w.useState(""),[C,R]=w.useState(null),[f,h]=w.useState(null),y=w.useCallback(async()=>{if(!(!e||!t||!n)){s(!0),o("");try{const T=n.split("-").map(Number),P=new Date(T[0],T[1]-1,T[2]),N=rh(new Date,P);R(N);const I=N==="prep_window",z=await gj(e,t,n,new Date,I),k=[];z.subjects.forEach(A=>{A.materials.forEach($=>{k.push({subjectId:A.subjectId,subjectName:A.subjectName,materialId:$.materialId,materialName:$.materialName,checked:$.checked})})}),a(k),m(z.subjects.map(A=>({subjectId:A.subjectId,subjectName:A.subjectName,materials:A.materials.map($=>({materialId:$.materialId,materialName:$.materialName,checked:$.checked}))}))),c(z.editable&&I),b(z.templateName),h(z.instanceId);try{localStorage.setItem("activeChecklistInstanceId",String(z.instanceId))}catch{}}catch(T){console.error(T),o((T==null?void 0:T.message)||"Failed loading checklist")}finally{s(!1)}}},[e,t,n]);w.useEffect(()=>{y()},[y]);const S=w.useCallback(async(T,P)=>{if(!(!u||!f))try{const N=ie(),I=await N.select().from(Ft).where(Xt(J(Ft.checklistInstanceId,f),J(Ft.subjectId,T),J(Ft.materialId,P))).limit(1),z=new Date().toISOString();if(I[0]){const k=!I[0].checked;await N.update(Ft).set({checked:k,checkedAt:k?z:null}).where(J(Ft.id,I[0].id))}else await N.insert(Ft).values({checklistInstanceId:f,subjectId:T,materialId:P,checked:!0,checkedAt:z});a(k=>k.map(A=>A.subjectId===T&&A.materialId===P?{...A,checked:!A.checked}:A)),m(k=>k.map(A=>A.subjectId===T?{...A,materials:A.materials.map($=>$.materialId===P?{...$,checked:!$.checked}:$)}:A))}catch(N){console.error(N),o((N==null?void 0:N.message)||"Toggle failed")}},[u,f]);return{loading:r,error:i,items:l,allComplete:l.length>0&&l.every(T=>T.checked),toggle:S,refresh:y,editable:u,subjects:p,templateName:x,phase:C,instanceId:f}}function wj(e){const t=e+"CollectionProvider",[n,r]=xl(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:R,children:f}=C,h=we.useRef(null),y=we.useRef(new Map).current;return v.jsx(s,{scope:R,itemMap:y,collectionRef:h,children:f})};o.displayName=t;const l=e+"CollectionSlot",a=Ga(l),u=we.forwardRef((C,R)=>{const{scope:f,children:h}=C,y=i(l,f),S=As(R,y.collectionRef);return v.jsx(a,{ref:S,children:h})});u.displayName=l;const c=e+"CollectionItemSlot",p="data-radix-collection-item",m=Ga(c),x=we.forwardRef((C,R)=>{const{scope:f,children:h,...y}=C,S=we.useRef(null),T=As(R,S),P=i(c,f);return we.useEffect(()=>(P.itemMap.set(S,{ref:S,...y}),()=>void P.itemMap.delete(S))),v.jsx(m,{[p]:"",ref:T,children:h})});x.displayName=c;function b(C){const R=i(e+"CollectionConsumer",C);return we.useCallback(()=>{const h=R.collectionRef.current;if(!h)return[];const y=Array.from(h.querySelectorAll(`[${p}]`));return Array.from(R.itemMap.values()).sort((P,N)=>y.indexOf(P.ref.current)-y.indexOf(N.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},b,r]}function Ja(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Sj=df[" useInsertionEffect ".trim().toString()]||ar;function qu({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=xj({defaultProp:t,onChange:n}),l=e!==void 0,a=l?e:s;{const c=w.useRef(e!==void 0);w.useEffect(()=>{const p=c.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=l},[l,r])}const u=w.useCallback(c=>{var p;if(l){const m=bj(c)?c(e):c;m!==e&&((p=o.current)==null||p.call(o,m))}else i(c)},[l,e,i,o]);return[a,u]}function xj({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),s=w.useRef(n),i=w.useRef(t);return Sj(()=>{i.current=t},[t]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function bj(e){return typeof e=="function"}function Cj(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var kh=e=>{const{present:t,children:n}=e,r=_j(t),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=As(r.ref,kj(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};kh.displayName="Presence";function _j(e){const[t,n]=w.useState(),r=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,a]=Cj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Hl(r.current);i.current=l==="mounted"?u:"none"},[l]),ar(()=>{const u=r.current,c=s.current;if(c!==e){const m=i.current,x=Hl(u);e?a("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(c&&m!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,a]),ar(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,p=x=>{const C=Hl(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&C&&(a("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},m=x=>{x.target===t&&(i.current=Hl(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Hl(e){return(e==null?void 0:e.animationName)||"none"}function kj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Nj=df[" useId ".trim().toString()]||(()=>{}),Ij=0;function h1(e){const[t,n]=w.useState(Nj());return ar(()=>{n(r=>r??String(Ij++))},[e]),t?`radix-${t}`:""}var Mu="Collapsible",[Ej,p1]=xl(Mu),[Rj,Nh]=Ej(Mu),m1=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[a,u]=qu({prop:r,defaultProp:s??!1,onChange:o,caller:Mu});return v.jsx(Rj,{scope:n,disabled:i,contentId:h1(),open:a,onOpenToggle:w.useCallback(()=>u(c=>!c),[u]),children:v.jsx(wn.div,{"data-state":Eh(a),"data-disabled":i?"":void 0,...l,ref:t})})});m1.displayName=Mu;var y1="CollapsibleTrigger",g1=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Nh(y1,n);return v.jsx(wn.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Eh(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Ja(e.onClick,s.onOpenToggle)})});g1.displayName=y1;var Ih="CollapsibleContent",v1=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Nh(Ih,e.__scopeCollapsible);return v.jsx(kh,{present:n||s.open,children:({present:i})=>v.jsx(Tj,{...r,ref:t,present:i})})});v1.displayName=Ih;var Tj=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=Nh(Ih,n),[l,a]=w.useState(r),u=w.useRef(null),c=As(t,u),p=w.useRef(0),m=p.current,x=w.useRef(0),b=x.current,C=o.open||l,R=w.useRef(C),f=w.useRef(void 0);return w.useEffect(()=>{const h=requestAnimationFrame(()=>R.current=!1);return()=>cancelAnimationFrame(h)},[]),ar(()=>{const h=u.current;if(h){f.current=f.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";const y=h.getBoundingClientRect();p.current=y.height,x.current=y.width,R.current||(h.style.transitionDuration=f.current.transitionDuration,h.style.animationName=f.current.animationName),a(r)}},[o.open,r]),v.jsx(wn.div,{"data-state":Eh(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!C,...i,ref:c,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:C&&s})});function Eh(e){return e?"open":"closed"}var jj=m1,Pj=g1,Aj=v1,Lj=w.createContext(void 0);function Oj(e){const t=w.useContext(Lj);return e||t||"ltr"}var Sn="Accordion",qj=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Rh,Mj,$j]=wj(Sn),[$u]=xl(Sn,[$j,p1]),Th=p1(),w1=we.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return v.jsx(Rh.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?v.jsx(Uj,{...i,ref:t}):v.jsx(zj,{...s,ref:t})})});w1.displayName=Sn;var[S1,Dj]=$u(Sn),[x1,Bj]=$u(Sn,{collapsible:!1}),zj=we.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,a]=qu({prop:n,defaultProp:r??"",onChange:s,caller:Sn});return v.jsx(S1,{scope:e.__scopeAccordion,value:we.useMemo(()=>l?[l]:[],[l]),onItemOpen:a,onItemClose:we.useCallback(()=>i&&a(""),[i,a]),children:v.jsx(x1,{scope:e.__scopeAccordion,collapsible:i,children:v.jsx(b1,{...o,ref:t})})})}),Uj=we.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,l]=qu({prop:n,defaultProp:r??[],onChange:s,caller:Sn}),a=we.useCallback(c=>l((p=[])=>[...p,c]),[l]),u=we.useCallback(c=>l((p=[])=>p.filter(m=>m!==c)),[l]);return v.jsx(S1,{scope:e.__scopeAccordion,value:o,onItemOpen:a,onItemClose:u,children:v.jsx(x1,{scope:e.__scopeAccordion,collapsible:!0,children:v.jsx(b1,{...i,ref:t})})})}),[Fj,Du]=$u(Sn),b1=we.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,l=we.useRef(null),a=As(l,t),u=Mj(n),p=Oj(s)==="ltr",m=Ja(e.onKeyDown,x=>{var I;if(!qj.includes(x.key))return;const b=x.target,C=u().filter(z=>{var k;return!((k=z.ref.current)!=null&&k.disabled)}),R=C.findIndex(z=>z.ref.current===b),f=C.length;if(R===-1)return;x.preventDefault();let h=R;const y=0,S=f-1,T=()=>{h=R+1,h>S&&(h=y)},P=()=>{h=R-1,h<y&&(h=S)};switch(x.key){case"Home":h=y;break;case"End":h=S;break;case"ArrowRight":i==="horizontal"&&(p?T():P());break;case"ArrowDown":i==="vertical"&&T();break;case"ArrowLeft":i==="horizontal"&&(p?P():T());break;case"ArrowUp":i==="vertical"&&P();break}const N=h%f;(I=C[N].ref.current)==null||I.focus()});return v.jsx(Fj,{scope:n,disabled:r,direction:s,orientation:i,children:v.jsx(Rh.Slot,{scope:n,children:v.jsx(wn.div,{...o,"data-orientation":i,ref:a,onKeyDown:r?void 0:m})})})}),Ya="AccordionItem",[Qj,jh]=$u(Ya),C1=we.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Du(Ya,n),o=Dj(Ya,n),l=Th(n),a=h1(),u=r&&o.value.includes(r)||!1,c=i.disabled||e.disabled;return v.jsx(Qj,{scope:n,open:u,disabled:c,triggerId:a,children:v.jsx(jj,{"data-orientation":i.orientation,"data-state":R1(u),...l,...s,ref:t,disabled:c,open:u,onOpenChange:p=>{p?o.onItemOpen(r):o.onItemClose(r)}})})});C1.displayName=Ya;var _1="AccordionHeader",k1=we.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Du(Sn,n),i=jh(_1,n);return v.jsx(wn.h3,{"data-orientation":s.orientation,"data-state":R1(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});k1.displayName=_1;var sf="AccordionTrigger",N1=we.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Du(Sn,n),i=jh(sf,n),o=Bj(sf,n),l=Th(n);return v.jsx(Rh.ItemSlot,{scope:n,children:v.jsx(Pj,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:t})})});N1.displayName=sf;var I1="AccordionContent",E1=we.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Du(Sn,n),i=jh(I1,n),o=Th(n);return v.jsx(Aj,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});E1.displayName=I1;function R1(e){return e?"open":"closed"}var Vj=w1,Wj=C1,Hj=k1,T1=N1,j1=E1;function P1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Kj=["color"],Gj=w.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=P1(e,Kj);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),w.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Jj=["color"],Yj=w.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=P1(e,Jj);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),w.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const Xj=Vj,A1=w.forwardRef(({className:e,...t},n)=>v.jsx(Wj,{ref:n,className:le("border-b retro font-retro",e),...t}));A1.displayName="AccordionItem";const Zj=w.forwardRef(({className:e,children:t,...n},r)=>v.jsx(Hj,{className:"flex",children:v.jsxs(T1,{ref:r,className:le("flex flex-1 items-center justify-between py-4 font-retro transition-all [&[data-state=open]>svg]:rotate-180 border-t border-border",e),...n,children:[t,v.jsx(Yj,{className:"h-4 w-4 shrink-0 text-foreground/70 transition-transform duration-200"})]})}));Zj.displayName=T1.displayName;const L1=w.forwardRef(({className:e,children:t,...n},r)=>v.jsx(j1,{ref:r,className:le("overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...n,children:v.jsx("div",{className:"pb-4 pt-0",children:t})}));L1.displayName=j1.displayName;function eP(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function tP(e){const[t,n]=w.useState(void 0);return ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const a=i.borderBoxSize,u=Array.isArray(a)?a[0]:a;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Bu="Checkbox",[nP]=xl(Bu),[rP,Ph]=nP(Bu);function sP(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:a,required:u,value:c="on",internal_do_not_use_render:p}=e,[m,x]=qu({prop:n,defaultProp:s??!1,onChange:a,caller:Bu}),[b,C]=w.useState(null),[R,f]=w.useState(null),h=w.useRef(!1),y=b?!!o||!!b.closest("form"):!0,S={checked:m,disabled:i,setChecked:x,control:b,setControl:C,name:l,form:o,value:c,hasConsumerStoppedPropagationRef:h,required:u,defaultChecked:zr(s)?!1:s,isFormControl:y,bubbleInput:R,setBubbleInput:f};return v.jsx(rP,{scope:t,...S,children:iP(p)?p(S):r})}var O1="CheckboxTrigger",q1=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:a,required:u,setControl:c,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:b}=Ph(O1,e),C=As(s,c),R=w.useRef(a);return w.useEffect(()=>{const f=i==null?void 0:i.form;if(f){const h=()=>p(R.current);return f.addEventListener("reset",h),()=>f.removeEventListener("reset",h)}},[i,p]),v.jsx(wn.button,{type:"button",role:"checkbox","aria-checked":zr(a)?"mixed":a,"aria-required":u,"data-state":z1(a),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:C,onKeyDown:Ja(t,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:Ja(n,f=>{p(h=>zr(h)?!0:!h),b&&x&&(m.current=f.isPropagationStopped(),m.current||f.stopPropagation())})})});q1.displayName=O1;var Ah=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:a,onCheckedChange:u,form:c,...p}=e;return v.jsx(sP,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:c,value:a,internal_do_not_use_render:({isFormControl:m})=>v.jsxs(v.Fragment,{children:[v.jsx(q1,{...p,ref:t,__scopeCheckbox:n}),m&&v.jsx(B1,{__scopeCheckbox:n})]})})});Ah.displayName=Bu;var M1="CheckboxIndicator",$1=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=Ph(M1,n);return v.jsx(kh,{present:r||zr(i.checked)||i.checked===!0,children:v.jsx(wn.span,{"data-state":z1(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});$1.displayName=M1;var D1="CheckboxBubbleInput",B1=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:a,name:u,value:c,form:p,bubbleInput:m,setBubbleInput:x}=Ph(D1,e),b=As(n,x),C=eP(i),R=tP(r);w.useEffect(()=>{const h=m;if(!h)return;const y=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(y,"checked").set,P=!s.current;if(C!==i&&T){const N=new Event("click",{bubbles:P});h.indeterminate=zr(i),T.call(h,zr(i)?!1:i),h.dispatchEvent(N)}},[m,C,i,s]);const f=w.useRef(zr(i)?!1:i);return v.jsx(wn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??f.current,required:l,disabled:a,name:u,value:c,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B1.displayName=D1;function iP(e){return typeof e=="function"}function zr(e){return e==="indeterminate"}function z1(e){return zr(e)?"indeterminate":e?"checked":"unchecked"}const U1=w.forwardRef(({className:e,...t},n)=>v.jsx(Ah,{ref:n,className:le("peer h-4 w-4 shrink-0 rounded-sm border bg-background shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:v.jsx($1,{className:le("flex items-center justify-center text-current"),children:v.jsx(Gj,{className:"h-4 w-4"})})}));U1.displayName=Ah.displayName;function jm({className:e,font:t,...n}){return v.jsxs("div",{className:le("relative flex items-center justify-center border-y-6 border-foreground dark:border-ring",e),children:[v.jsx(U1,{className:le("rounded-none size-5 ring-0 border-none",t!=="normal"&&"retro",e),...n}),v.jsx("div",{className:"absolute inset-0 border-x-6 -mx-1.5 border-foreground dark:border-ring pointer-events-none","aria-hidden":"true"})]})}function Cc({className:e,...t}){return v.jsx("div",{className:le("animate-pulse rounded-md bg-primary/5 border-4 retro border-dashed m-2",e),...t})}const oP=()=>v.jsxs("div",{className:"flex flex-col space-y-5",children:[v.jsx(Cc,{className:"h-[125px]  w-full rounded-xl border-4"}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Cc,{className:"h-5 border-4"}),v.jsx(Cc,{className:"h-5 border-4 mb-4"})]})]}),lP='<?xml version="1.0" encoding="UTF-8"?><svg id="angle-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polygon points="20 8 20 9 19 9 19 10 18 10 18 11 17 11 17 12 16 12 16 13 15 13 15 14 14 14 14 15 13 15 13 16 11 16 11 15 10 15 10 14 9 14 9 13 8 13 8 12 7 12 7 11 6 11 6 10 5 10 5 9 4 9 4 8 5 8 5 7 6 7 6 8 7 8 7 9 8 9 8 10 9 10 9 11 10 11 10 12 11 12 11 13 13 13 13 12 14 12 14 11 15 11 15 10 16 10 16 9 17 9 17 8 18 8 18 7 19 7 19 8 20 8"/></svg>';function aP({className:e,style:t}){return v.jsx("span",{"aria-hidden":"true",className:e,style:t,dangerouslySetInnerHTML:{__html:lP}})}const F1=bh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 h-9 px-4 py-2",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Lh=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?Jb:"button";return v.jsx(o,{className:le(F1({variant:t,size:n,className:e})),ref:i,...s})});Lh.displayName="Button";function uP(e){return v.jsx(Lh,{...e,className:le(F1({variant:e.variant,size:e.size}),"rounded-none border-4 border-foreground retro",e.className)})}function cP({className:e,square:t=!0,...n}){return v.jsx(uP,{...n,className:le(t&&"p-0 w-9 h-9 flex items-center justify-center","font-retro",e)})}function dP(){const e=localStorage.getItem("activeChildId"),t=localStorage.getItem("activeTemplateId"),n=localStorage.getItem("activeTargetDate"),r=e?Number(e):null,s=t?Number(t):null,{loading:i,error:o,items:l,toggle:a,editable:u,subjects:c,templateName:p,phase:m,instanceId:x}=vj(r,s,n);we.useEffect(()=>{["activeChildIdentifier","activeScheduleIdentifier"].forEach(A=>localStorage.removeItem(A))},[]);const b=w.useMemo(()=>m?m==="pre_window"?"En espera (despus de las 3:00 pm puedes preparar)":m==="prep_window"?"Ventana de preparacin abierta":m==="locked"?"Bloqueado (horario escolar)":"Preparacin de tarde abierta":"",[m]),[C,R]=w.useState({}),[f,h]=w.useState(0),y=w.useCallback(k=>{R(A=>({...A,[k]:!A[k]}))},[]),S=w.useMemo(()=>c.map(k=>({...k,materials:[...k.materials].sort((A,$)=>A.materialName.localeCompare($.materialName,"es"))})),[c]),T=w.useMemo(()=>S.reduce((k,A)=>k+A.materials.length,0),[S]),P=w.useMemo(()=>{const k=x?"subjectOnlyStates:"+x:null;let A={};if(k)try{A=JSON.parse(localStorage.getItem(k)||"{}")}catch{}return S.reduce(($,B)=>{if(B.materials.length===0){const G=k?A[String(B.subjectId)]:!1;$[B.subjectId]={checked:!!G,indeterminate:!1}}else{const G=B.materials.length,ee=B.materials.filter(oe=>oe.checked).length;$[B.subjectId]={checked:G>0&&ee===G,indeterminate:ee>0&&ee<G}}return $},{})},[S,x,f]),N=w.useMemo(()=>{const k=x?"subjectOnlyStates:"+x:null;let A={};if(k)try{A=JSON.parse(localStorage.getItem(k)||"{}")}catch{}const $=S.filter(W=>W.materials.length===0).map(W=>W.subjectId),B=$.every(W=>!!A[String(W)]),G=$.length>0||T>0,ee=l.length===0?!0:l.every(W=>W.checked);return{allReady:G&&ee&&B}},[S,x,f,T,l]),I=w.useCallback(k=>{const A=S.find(B=>B.subjectId===k);if(!A)return;if(A.materials.length===0){if(!x||!u)return;const B="subjectOnlyStates:"+x;let G={};try{G=JSON.parse(localStorage.getItem(B)||"{}")}catch{}const ee=!!G[String(k)];G[String(k)]=!ee,localStorage.setItem(B,JSON.stringify(G)),h(oe=>oe+1);return}const $=P[k];$&&$.checked,A.materials.forEach(B=>a(k,B.materialId))},[S,P,a]),z=N.allReady;return v.jsxs(v.Fragment,{children:[i&&v.jsx(oP,{}),!i&&v.jsxs("div",{className:"flex flex-col",children:[v.jsxs(Ps,{className:"mb-4",children:[v.jsx(Zo,{children:v.jsx(el,{children:"Checklist"})}),v.jsxs(Kb,{children:[p&&v.jsxs("div",{className:"font-semibold text-[1.05rem] mb-2",children:[v.jsx("small",{children:"Este es tu horario "})," ",p]}),n&&v.jsxs("div",{className:"mb-4",children:["Fecha de tu horario: ",n," / Maana"]}),m&&v.jsxs(rf,{className:"text-black bg-green-500 text-[0.7rem] opacity-[0.85]","aria-live":"polite","aria-atomic":"true",children:[b," ",u?"":"(read only)"]}),z&&v.jsx("div",{className:"mt-4 text-green-600 font-medium","aria-live":"polite",children:"All ready"})]})]}),v.jsxs("div",{className:"flex flex-col gap-4",children:[o&&v.jsx("div",{className:"whitespace-pre-wrap text-red-700",children:o.replace(/Failed query:/,"Error:").replace(/params:/,"params:")}),v.jsxs("div",{className:"flex flex-col gap-4",children:[S.map(k=>{var ee,oe;const A=k.materials.length>0,$=k.subjectId,B=C[$]||!1,G=B?String($):"";return v.jsxs(Ps,{className:"p-2 flex flex-col gap-2 press-ripple",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(jm,{disabled:!u,checked:((ee=P[$])==null?void 0:ee.checked)||!1,onCheckedChange:()=>I($),"aria-checked":(oe=P[$])!=null&&oe.indeterminate?"mixed":void 0,ref:W=>{var j;if(W&&"querySelector"in W)try{const K=W.querySelector("input");K&&(K.indeterminate=((j=P[$])==null?void 0:j.indeterminate)||!1)}catch{}}}),v.jsx("div",{className:"flex-1 flex flex-col gap-1 pt-1",children:v.jsxs("div",{className:"font-semibold text-sm flex items-center justify-between",children:[v.jsx("span",{className:u?"font-size-sm":"opacity-60",children:k.subjectName}),A&&v.jsx(cP,{onClick:()=>y($),"aria-expanded":B,"aria-controls":"subject-panel-"+$,disabled:!u,"aria-label":B?"Cerrar materiales":"Ver materiales",className:"transition-transform",children:v.jsx(aP,{className:"w-4 h-4 fill-current transform transition-transform duration-200 "+(B?"rotate-180":"rotate-0")})})]})})]}),A&&v.jsx(Xj,{type:"single",collapsible:!0,value:G,onValueChange:W=>{R(j=>({...j,[$]:W===String($)}))},className:"border-none",children:v.jsx(A1,{value:String($),className:"border-none",children:v.jsx(L1,{id:"subject-panel-"+$,className:"pt-2",children:v.jsx("ul",{className:"flex flex-col gap-2 list-none m-0 p-0",children:k.materials.map(W=>v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx(jm,{disabled:!u,checked:W.checked,onCheckedChange:()=>a($,W.materialId)}),v.jsx("span",{className:"text-sm",children:W.materialName})]},W.materialId))})})})})]},$)}),S.length===0&&!i&&v.jsx("div",{children:"No subjects"}),T===0&&S.length>0&&!i&&v.jsx("div",{className:"text-sm opacity-70",children:"No materials required"})]})]})]})]})}function Pe(e){return e.trim().toLowerCase().replace(/\s+/g," ")}async function fP(e){const t=ie(),[n]=await t.insert(He).values({name:e.name}).returning();return n}async function hP(){return ie().select().from(He).orderBy(He.name)}async function pP(e,t){return(await ie().update(He).set({name:t}).where(J(He.id,e)).returning())[0]||null}async function mP(e){await ie().delete(He).where(J(He.id,e))}async function yP(e,t,n){await ie().insert(Ee).values({templateId:e,subjectId:t,materialId:n}).onConflictDoNothing()}async function gP(e,t,n){await ie().delete(Ee).where(Xt(J(Ee.templateId,e),Xt(J(Ee.subjectId,t),J(Ee.materialId,n))))}async function Pm(e,t){return ie().select({materialId:ke.id,materialName:ke.name}).from(Ee).innerJoin(ke,J(ke.id,Ee.materialId)).where(Xt(J(Ee.templateId,e),J(Ee.subjectId,t))).orderBy(ke.name)}async function vP(e){return ie().select({templateId:Ee.templateId,subjectId:Ee.subjectId,materialId:Ee.materialId,materialName:ke.name}).from(Ee).innerJoin(ke,J(ke.id,Ee.materialId)).where(J(Ee.templateId,e))}async function wP(e){const t=ie(),[n]=await t.insert(ke).values({name:e.name}).returning();return n}async function SP(){return ie().select().from(ke).orderBy(ke.name)}async function xP(e,t){return(await ie().update(ke).set({name:t}).where(J(ke.id,e)).returning())[0]||null}async function bP(e){await ie().delete(ke).where(J(ke.id,e))}function CP(e){const{template:t}=e,[n,r]=w.useState([]),[s,i]=w.useState([]),[o,l]=w.useState([]),[a,u]=w.useState(null),[c,p]=w.useState({}),[m,x]=w.useState(!1),b=w.useCallback(async()=>{x(!0);try{const[k,A]=await Promise.all([hP(),SP()]);if(r(k),i(A),t){const $=await dj(t.id);if(!$){u(null),l([]),p({});return}u($.id);const B=await ij($.id);l(B);const G=new Set(B.map(W=>W.subjectId)),ee=await vP(t.id),oe={};for(const W of ee)G.has(W.subjectId)&&(oe[W.subjectId]||(oe[W.subjectId]=[]),oe[W.subjectId].push({materialId:W.materialId,materialName:W.materialName}));p(oe)}else u(null),l([]),p({})}finally{x(!1)}},[t]);w.useEffect(()=>{b()},[b]);async function C(k){if(n.some(B=>Pe(B.name)===Pe(k)))return;const A=new Date().toISOString(),$=Date.now();r([...n,{id:$,name:k,createdAt:A,updatedAt:A}]);try{await fP({name:k})}finally{b()}}async function R(k){if(s.some(B=>Pe(B.name)===Pe(k)))return;const A=new Date().toISOString(),$=Date.now();i([...s,{id:$,name:k,createdAt:A,updatedAt:A}]);try{await wP({name:k})}finally{b()}}async function f(k){const A=prompt("New subject name");if(A&&A.trim()){if(n.some(B=>B.id!==k&&Pe(B.name)===Pe(A))){alert("Name already exists");return}r(n.map(B=>B.id===k?{...B,name:A.trim()}:B));try{await pP(k,A.trim())}finally{b()}}}async function h(k){if(confirm("Delete subject?")){r(n.filter($=>$.id!==k));try{await mP(k)}finally{b()}}}async function y(k){const A=prompt("New material name");if(A&&A.trim()){if(s.some(B=>B.id!==k&&Pe(B.name)===Pe(A))){alert("Name already exists");return}i(s.map(B=>B.id===k?{...B,name:A.trim()}:B));try{await xP(k,A.trim())}finally{b()}}}async function S(k){if(confirm("Delete material?")){i(s.filter($=>$.id!==k));try{await bP(k)}finally{b()}}}async function T(k,A){var G;const $=c[k]||[],B=((G=s.find(ee=>ee.id===A))==null?void 0:G.name)||"";p({...c,[k]:[...$,{materialId:A,materialName:B}]});try{t&&await yP(t.id,k,A)}finally{if(t){const ee=await Pm(t.id,k);p({...c,[k]:ee})}}}async function P(k,A){const $=c[k]||[];p({...c,[k]:$.filter(B=>B.materialId!==A)});try{t&&await gP(t.id,k,A)}finally{if(t){const B=await Pm(t.id,k);p({...c,[k]:B})}}}async function N(k){if(!a)return;const A=o.length+1,$=Date.now();l([...o,{id:$,versionId:a,subjectId:k,blockOrder:A,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]);try{await sj({versionId:a,subjectId:k,blockOrder:A})}finally{b()}}async function I(k){if(a&&confirm("Delete block?")){l(o.filter(A=>A.id!==k));try{await oj(k)}finally{b()}}}function z(k,A){if(!a)return;const $=o.find(W=>W.id===k),B=o.find(W=>W.id===A);if(!$||!B)return;const G=$.blockOrder,ee=B.blockOrder,oe=o.map(W=>{const j=W.blockOrder;if(W.id===k)return{...W,blockOrder:ee};if(G<ee){if(j>G&&j<=ee)return{...W,blockOrder:j-1}}else if(G>ee&&j<G&&j>=ee)return{...W,blockOrder:j+1};return W});l(oe),Promise.all(oe.map(W=>lj({blockId:W.id,newOrder:W.blockOrder})))}return t?v.jsxs("div",{style:{display:"flex",gap:32,flexWrap:"wrap"},children:[v.jsxs("div",{style:{minWidth:220},children:[v.jsx("h3",{children:"Subjects"}),v.jsx("ul",{style:{padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:8},children:n.map(k=>v.jsxs("li",{style:{display:"flex",gap:8,alignItems:"center"},children:[v.jsx("span",{children:k.name}),v.jsx("button",{onClick:()=>f(k.id),children:"Rename"}),v.jsx("button",{onClick:()=>h(k.id),children:"Delete"}),v.jsx("button",{onClick:()=>N(k.id),disabled:!a,children:"Add Block"})]},k.id))}),v.jsx(Am,{label:"New subject",onSubmit:C,disabled:m,existingValues:n.map(k=>k.name)})]}),v.jsxs("div",{style:{minWidth:220},children:[v.jsx("h3",{children:"Materials"}),v.jsx("ul",{style:{padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:8},children:s.map(k=>v.jsxs("li",{style:{display:"flex",gap:8,alignItems:"center"},children:[v.jsx("span",{children:k.name}),v.jsx("button",{onClick:()=>y(k.id),children:"Rename"}),v.jsx("button",{onClick:()=>S(k.id),children:"Delete"})]},k.id))}),v.jsx(Am,{label:"New material",onSubmit:R,disabled:m,existingValues:s.map(k=>k.name)}),v.jsx(_P,{subjects:n,materials:s,onLink:T,onUnlink:P,materialsBySubject:c})]}),v.jsxs("div",{style:{flex:1,minWidth:280},children:[v.jsx("h3",{children:"Blocks"}),v.jsx("ol",{style:{paddingLeft:16,display:"flex",flexDirection:"column",gap:4},children:o.sort((k,A)=>k.blockOrder-A.blockOrder).map(k=>{const A=n.find($=>$.id===k.subjectId);return v.jsxs("li",{style:{display:"flex",gap:12,alignItems:"center",cursor:"move"},draggable:!0,onDragStart:$=>{$.dataTransfer.setData("text/plain",String(k.id))},onDragOver:$=>$.preventDefault(),onDrop:$=>{$.preventDefault();const B=Number($.dataTransfer.getData("text/plain"));!B||B===k.id||z(B,k.id)},children:[v.jsx("span",{style:{width:28},children:k.blockOrder}),v.jsx("span",{children:A?A.name:"Unknown"}),v.jsx("span",{style:{fontSize:11,opacity:.7},children:(c[k.subjectId]||[]).map($=>$.materialName).join(", ")||"No materials"}),v.jsx("button",{onClick:()=>I(k.id),children:"Delete"})]},k.id)})})]})]}):v.jsx("div",{style:{opacity:.7},children:"Select a template above to manage structure"})}function Am(e){const[t,n]=w.useState(""),r=t.trim()&&e.existingValues?e.existingValues.some(s=>Pe(s)===Pe(t)):!1;return v.jsxs("form",{onSubmit:s=>{s.preventDefault(),!(!t.trim()||r)&&(e.onSubmit(t.trim()),n(""))},style:{display:"flex",gap:6,marginTop:8},children:[v.jsx("input",{disabled:e.disabled,value:t,onChange:s=>n(s.target.value),placeholder:e.label}),v.jsx("button",{disabled:e.disabled||!t.trim()||r,type:"submit",children:"Add"}),r&&v.jsx("span",{style:{color:"red",fontSize:12},children:"Name exists"})]})}function _P(e){var i;const[t,n]=w.useState(null),[r,s]=w.useState(null);return v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,marginTop:16},children:[v.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[v.jsxs("select",{value:t??"",onChange:o=>n(Number(o.target.value)||null),children:[v.jsx("option",{value:"",children:"Subject"}),e.subjects.map(o=>v.jsx("option",{value:o.id,children:o.name},o.id))]}),v.jsxs("select",{value:r??"",onChange:o=>s(Number(o.target.value)||null),children:[v.jsx("option",{value:"",children:"Material"}),e.materials.map(o=>v.jsx("option",{value:o.id,children:o.name},o.id))]}),v.jsx("button",{disabled:!t||!r,onClick:()=>t&&r&&e.onLink(t,r),children:"Link"}),v.jsx("button",{disabled:!t||!r,onClick:()=>t&&r&&e.onUnlink(t,r),children:"Unlink"})]}),v.jsx("div",{style:{fontSize:12,opacity:.7},children:t&&(((i=e.materialsBySubject[t])==null?void 0:i.map(o=>o.materialName).join(", "))||"No materials linked")})]})}function kP(){const[e,t]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState([]),[o,l]=w.useState(null);async function a(){const[f,h]=await Promise.all([Ob(),n?nf(n):nf()]);t(f),i(h)}w.useEffect(()=>{a()},[n]);async function u(f){if(e.some(S=>Pe(S.name)===Pe(f)))return;const h=Date.now(),y=new Date().toISOString();t([...e,{id:h,name:f,createdAt:y,updatedAt:y}]);try{await $R({name:f})}finally{a()}}async function c(f){const h=prompt("New name");if(h&&h.trim()){if(e.some(S=>S.id!==f&&Pe(S.name)===Pe(h))){alert("Name already exists");return}t(e.map(S=>S.id===f?{...S,name:h.trim()}:S));try{await BR(f,h.trim())}finally{a()}}}async function p(f){if(confirm("Delete child?")){t(e.filter(S=>S.id!==f)),n===f&&(r(null),l(null));try{await DR(f)}finally{a()}}}function m(f){r(f),l(null)}async function x(f){if(!n||s.some(S=>Pe(S.name)===Pe(f)))return;const h=Date.now(),y=new Date().toISOString();i([...s,{id:h,name:f,createdAt:y,updatedAt:y,childId:n}]);try{await tj({name:f,childId:n})}finally{a()}}async function b(f){const h=prompt("New template name");if(h&&h.trim()){if(s.some(S=>S.id!==f&&Pe(S.name)===Pe(h))){alert("Name already exists");return}i(s.map(S=>S.id===f?{...S,name:h.trim()}:S));try{await nj(f,h.trim())}finally{a()}}}async function C(f){if(confirm("Delete template?")){i(s.filter(S=>S.id!==f)),o===f&&l(null);try{await rj(f)}finally{a()}}}function R(f){l(f)}return v.jsxs("div",{style:{padding:16,display:"flex",flexDirection:"column",gap:24},children:[v.jsx("h2",{children:"Admin"}),v.jsxs("section",{children:[v.jsx("h3",{children:"Children"}),v.jsx("ul",{children:e.map(f=>v.jsxs("li",{style:{display:"flex",gap:8,alignItems:"center"},children:[v.jsx("button",{style:{fontWeight:n===f.id?"bold":"normal"},onClick:()=>m(f.id),children:f.name}),v.jsx("button",{onClick:()=>c(f.id),children:"Rename"}),v.jsx("button",{onClick:()=>p(f.id),children:"Delete"})]},f.id))}),v.jsx(Lm,{label:"New child",onSubmit:u,existingValues:e.map(f=>f.name)})]}),n&&v.jsxs("section",{children:[v.jsx("h3",{children:"Templates"}),v.jsx("ul",{children:s.map(f=>v.jsxs("li",{style:{display:"flex",gap:8,alignItems:"center"},children:[v.jsx("button",{style:{fontWeight:o===f.id?"bold":"normal"},onClick:()=>R(f.id),children:f.name}),v.jsx("button",{onClick:()=>b(f.id),children:"Rename"}),v.jsx("button",{onClick:()=>C(f.id),children:"Delete"})]},f.id))}),v.jsx(Lm,{label:"New template",onSubmit:x,existingValues:s.map(f=>f.name)})]}),n&&o&&v.jsxs("section",{children:[v.jsx("h3",{children:"Structure"}),v.jsx(CP,{template:s.find(f=>f.id===o)||null})]})]})}function Lm(e){const[t,n]=w.useState(""),r=t.trim()?e.existingValues.some(s=>Pe(s)===Pe(t)):!1;return v.jsxs("form",{onSubmit:s=>{s.preventDefault(),!(!t.trim()||r)&&(e.onSubmit(t.trim()),n(""))},style:{display:"flex",gap:8},children:[v.jsx("input",{value:t,onChange:s=>n(s.target.value),placeholder:e.label}),v.jsx("button",{type:"submit",disabled:!t.trim()||r,children:"Add"}),r&&v.jsx("span",{style:{color:"red",fontSize:12},"aria-live":"polite",children:"Name exists"})]})}function NP(){return v.jsxs(cN,{children:[v.jsx(oo,{path:"/",element:v.jsx(ej,{})}),v.jsx(oo,{path:"/schedule",element:v.jsx(yj,{})}),v.jsx(oo,{path:"/checklist",element:v.jsx(dP,{})}),v.jsx(oo,{path:"/admin",element:v.jsx(kP,{})})]})}function IP(){const[e,t]=w.useState(!1);return w.useEffect(()=>{const n=document.documentElement;e?n.classList.add("retro"):n.classList.remove("retro")},[e]),v.jsx(Lh,{variant:"ghost",onClick:()=>t(!e),children:"Retro"})}function EP({children:e,defaultTheme:t="light",storageKey:n="app-theme"}){const[r,s]=w.useState(t);return w.useEffect(()=>{const i=localStorage.getItem(n);i&&s(i)},[n]),w.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r),localStorage.setItem(n,r)},[r,n]),v.jsx(v.Fragment,{children:e})}function RP(){return v.jsx(EP,{defaultTheme:"light",children:v.jsxs("div",{className:"sm:mx-4 h-screen lg:m-auto lg:w-5/6",children:[v.jsx(Ps,{className:"flex flex-row-reverse mb-2",children:v.jsx("div",{className:"mr-4",children:v.jsx(IP,{})})}),v.jsx(NP,{})]})})}const Q1=document.getElementById("root");if(!Q1)throw new Error("Root container element not found");const TP=oS(Q1);TP.render(v.jsx(we.StrictMode,{children:v.jsx(hN,{children:v.jsx(RP,{})})}));
